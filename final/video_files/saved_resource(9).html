<!DOCTYPE html>
<!-- saved from url=(0109)https://51eeca12196629f0c1a5e5241d69887e.safeframe.googlesyndication.com/safeframe/1-0-37/html/container.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="initial-scale=1,maximum-scale=1"><style>.transplanted-form-element-container input,
.transplanted-form-element-container textarea,
.transplanted-form-element {
    -webkit-user-select: text;
       -moz-user-select: text;
        -ms-user-select: text;
            user-select: text;
    text-align: center;
}

.celtra-display-image-overlay {
    position: absolute;
    top: 0; right: 0; bottom: 0; left: 0;
    z-index: 30;
    background-repeat: no-repeat;
    background-position: center center;
    /* background-color and background-image set in code */
}

.celtra-display-image-overlay .celtra-back-button {
    position: absolute;
    top: 0;
    width: 30px; height: 30px;
    background: url('https://cache-ssl.celtra.com/api/static/v2cd1cefae7/runner/clazzes/CreativeUnit/back.png');
    background-size: 30px 60px;
}

.celtra-display-image-overlay .celtra-back-button.left {
    left: 0;
}

.celtra-display-image-overlay .celtra-back-button.right {
    right: 0;
}

.celtra-display-image-overlay .celtra-back-button.touched {
    background-position: 0 100%;
}

.celtra-fit-to-container {
    max-width: 100%;
    max-height: 100%;
}

.celtra-center-content {
    width: 100%;
    height: 100%;
    text-align: center;
}
.celtra-center-content::before {
    content: '';
    display: inline-block;
    height: 100%;
    vertical-align: middle;
}
.celtra-center-content > * {
    vertical-align: middle;
}

.celtra-creative-border {
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: 20;
    border-style: solid;
    box-sizing: border-box;
    pointer-events: none;
}

/*
  z-indices:
    10 - CreativeUnitVariant
    20 - screenHolder
    30 - displayImageAction overlay
    40 - ModalDialogs (alertAction)
*/

.celtra-creative-unit-with-variants {
    position    : absolute;
    font-family : Helvetica;
    font-size   : 12pt;
    width       : 100%;
    height      : 100%;
}

.celtra-creative-unit-with-variants, .celtra-creative-unit-with-variants * {
    -webkit-text-size-adjust            : none;
        -ms-text-size-adjust            : none;
            text-size-adjust            : none;
    /* Disables green outline on tapped objects on HTC phones running Android */
    -webkit-tap-highlight-color : rgba(0,0,0,0);
    tap-highlight-color         : rgba(0,0,0,0);
    touch-callout               : none;
    -webkit-user-select                 : none;
       -moz-user-select                 : none;
        -ms-user-select                 : none;
            user-select                 : none; /* override to 'text' manually if needed */

    margin: 0;
    padding: 0;
}

.celtra-creative-unit-with-variants input,
.celtra-creative-unit-with-variants textarea {
    -webkit-user-select: text;
       -moz-user-select: text;
        -ms-user-select: text;
            user-select: text;
    text-align: center;
}

.celtra-creative-unit-variant {
    position: absolute;
    z-index: 10;
}

.celtra-screen-holder {
    position: absolute; top: 0; left: 0; bottom: 0; right: 0;
    width: 100%;
    height: 100%;
    z-index: 20;
}

.celtra-screen {
    /*
      Screens themselves have 0 area and visible overflow (default), so
      click-through from base to master screen works.
      
      The master has z-index 0 and the primary screen has z-index 1.
    */
    position: absolute;
    top: 0; left: 0; 
    
    pointer-events: none;
    overflow: hidden;
}

.celtra-screen > * {
    pointer-events: auto;
}
.celtra-nested-container {
    overflow: hidden;
    z-index: 0;
}

.celtra-nested-container.empty {
    background-color: #000000;
    /* Nested container icon is overriden in classes extending it. */
    /* To prevent race condition when manually preloading, we rather define it as data URI. */
    /* url(https://cache-ssl.celtra.com/api/static/v2cd1cefae7/runner/clazzes/NestedContainer/icon.png) */
    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAD1BMVEX////MzMzMzMzMzMzMzMyungt0AAAABHRSTlMAEB/gwuUpDAAAAC5JREFUeAFjoASwQACGAOWSTIyMjAhJIIcJSRImg5AfppKjkmDAjCLBQpkkBQAAEtUDLd7kNEwAAAAASUVORK5CYII=);
    background-position: center;
    background-repeat: no-repeat;
    border: 1px solid #404040;
    box-sizing: border-box;
}

/*
This extra CSS attribute is required for Internet Explorer 10+ to correctly
route Pointer events to the object being touched. This is mutually exclusive
with scrolling, so there's no way to have both at the same time. This will
also prevent swipeable banners if any element on stage has the `touchable`
CSS class, but will generate `tap` events.
*/
.touchable { -ms-touch-action: none; }

/*
On IE, if a background is not set on an element, it is
transparent to mouse and touch events. This forces the
element to become opaque to user events.
*/
.celtra-screen-object { background: rgba(0,0,0,0); }

/*
Pointer cursor for hotspot component on desktop.
*/
.celtra-hotspot { cursor: pointer; }


/*
Force GPU rendering for all children of animated layers in order to prevent jittery scaling animations.
Because the `animated` class is added to objects only when SceneOverrides.js is included, this style rule
will not affect any elements in creatives which are not using scenes.
*/
.celtra-screen-object.animated div,
.celtra-screen-object.animated > img,
.celtra-screen-object.animated .celtra-screen-object div,
.celtra-screen-object.animated .celtra-screen-object > img {
    transform: perspective(1px);
}

.celtra-picture {
    overflow: hidden;
}

.celtra-picture.empty {
    background-color: #000000;
    background-position: center;
    background-repeat: no-repeat;
    background-size: 28px;
    border: 2px solid #404040;
    box-sizing: border-box;
}

.celtra-fallback > .celtra-nested-container.empty {
    /* url(https://cache-ssl.celtra.com/api/static/v2cd1cefae7/runner/clazzes/Fallback/icon.png) */
    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAllBMVEUAAAD////V1dXT09PMzMzPz8/Q0NDQ0NDOzs7Ozs7Pz8/Nzc3Nzc3Nzc3MzMzOzs7Nzc3NzcvNzc3Nzc3Ozs7MzMzNzc3Ly8vNzc3Nzc3MzMzNzc3MzMzNzc3Nzc3Ly8rNzc3Nzc3MzMzNzc3MzMzMzMzMzMvMzMzMzMzMzMzMzMzMzMzMzMvMzMzMzMzNzc3Ly8rMzMwGV5yxAAAAMHRSTlMAAQYXGSUmKy85OkJHTVpdYGZmcXx+hZmeoqansLO2xtDW2dre4ubn6PD29/n6/P5tC+wZAAAAi0lEQVR4Aa3Q1wpDIRAEUNN77733ovP/PxdYEZLsJA/XOy+zcBZRTVyq8wM+s+kF61vojL3V3izs1y9oyLCARtPFUvrEMIezNBgaIG3MjqQo5lfuJ1aOzodg5+4SIj+WX+jfUyJ+yDLMwEpvGRaxk54wHGIqXbhqbD6eZT+1btAZhL3SbP9F67aJygvpSUfplvWxvQAAAABJRU5ErkJggg==);
}


.celtra-texty .no-break {
    white-space: nowrap;
    word-break: keep-all;
    overflow-wrap: normal;
    word-wrap: normal;
}

.celtra-texty .scroll-container {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
    outline: 1px solid transparent; /* node looses overflow: hidden if object is translated on Android native browser ... line below magically solves that */
}

.celtra-texty .scroll-container > div {
    position: absolute;
    width: 100%;
    box-sizing: border-box;
}

.celtra-texty .celtra-vertical-scrollbar {
    position: absolute;
    top: 0;
    right: 0;
    width: 5px;
    z-index: 2;
}
    .celtra-texty .celtra-vertical-scrollbar.outer {
        right: -5px;
    }

.celtra-shapey {
	box-sizing: border-box;
}

.celtra-shapey div {
	position: absolute;
	left: 0;
	top: 0;
	height: 100%;
	width: 100%;

	overflow: hidden;
	box-sizing: border-box;
	background-clip: padding-box;

	border-width: 0;
	border-style: solid;
	border-color: transparent;

	transition: inherit;
}

</style><script>function inherit(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,Object.defineProperties(e,{uber:{get:function(){return t.prototype},enumerable:!1,configurable:!1},uberConstructor:{get:function(){return t},enumerable:!1,configurable:!1}}),e.prototype.constructor=e}function extend(e,t){for(var n=1;n<arguments.length;n++){var t=arguments[n];if(t instanceof Object)for(var r in t)e[r]=t[r]}return e}function deep(e,t){for(var n in t)e[n]instanceof Object&&t[n]instanceof Object?deep(e[n],t[n]):e[n]=t[n]}function delayed(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}function throttled(e,t){var n=null;return function(){n||(n=setTimeout(function(){n=null,e()},t))}}function deferred(e,t,n,r){return function(){defer(e,t,n,r)}}function useAsap(){return"undefined"!=typeof creative&&creative.adapter&&creative.adapter.useAsap||"undefined"!=typeof adapter&&adapter.useAsap}function hasClass(e,t){return e.classList.contains(t)}function addClass(e,t){e.classList.add(t)}function removeClass(e,t){e.classList.remove(t)}function toggleClass(e,t){e.classList.toggle(t)}function cssurl(e){return"url('"+e.replace(/'/g,"\\'")+"')"}function camelize(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zeroPad(e,t){null==t&&(t=2);var n=Math.max(0,t-(""+e).length),r=(""+Math.pow(10,n)).slice(1);return r+e}function htmlentitize(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function removeHtmlTags(e){var t,n="(?:[^\"'>]|\"[^\"]*\"|'[^']*')*",r=new RegExp("<(?:!--(?:(?:-*[^->])*--+|-?)|script\\b"+n+">[\\s\\S]*?</script\\s*|style\\b"+n+">[\\s\\S]*?</style\\s*|/?[a-z]"+n+")>","gi");do t=e,e=e.replace(r,"");while(e!==t);return e.replace(/</g,"&lt;")}function trim(e){return e.replace(/^\s+|\s+$/g,"")}function to_utf8(e){return unescape(encodeURIComponent(e))}function isRTLChar(e){return e=String(e).charCodeAt(0),e&&(e>=1424&&1535>=e||e>=1536&&1791>=e||e>=1792&&1871>=e||e>=1872&&1919>=e||e>=2144&&2159>=e||e>=2208&&2303>=e||e>=64288&&64335>=e||e>=64336&&65023>=e||e>=65136&&65279>=e||8207===e||8235===e||8238===e)?!0:!1}function isLTRChar(e){return e=String(e).charCodeAt(0),e&&(e>=65&&90>=e||e>=97&&122>=e||e>=192&&214>=e||e>=216&&246>=e||e>=248&&696>=e||e>=768&&1424>=e||e>=2048&&8191>=e||e>=11264&&64284>=e||e>=65022&&65135>=e||e>=65277&&65535>=e||8206===e||8234===e||8237===e)?!0:!1}function guessWritingDirection(e){for(var t=25,n=Math.min(t,e.length),r=0;n>r;r++){var o=e.charAt(r);if(isLTRChar(o))return"ltr";if(isRTLChar(o))return"rtl"}return null}function randInt(){return(Math.random()+"").slice(2)}function _isListenerOptionSupported(e){var t=_isListenerOptionSupported.opts;if("undefined"==typeof t[e]){t[e]=!1;try{window.addEventListener("listener-test",null,Object.defineProperty({},e,{get:function(){t[e]=!0}}))}catch(n){}}return t[e]}function _buildNativeListenerOptions(e){if("object"!=typeof e)return!!e;if(!_isListenerOptionSupported("capture"))return!!e.capture;var t={capture:!!e.capture};return _isListenerOptionSupported("passive")&&(t.passive=!!e.passive),t}function _analyzeTouch(e){var t,n=Math.abs(e.firstTouch.x-e.lastTouch.x),r=Math.abs(e.firstTouch.y-e.lastTouch.y);return"y"===e.validAxis?t=r>e.minDistanceForSwipe:"x"===e.validAxis&&(t=n>e.minDistanceForSwipe),{isHorizontal:n>r,isConsideredSwipe:t}}function attach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.addEventListener(o,n,_buildNativeListenerOptions(r))}function detach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.removeEventListener(o,n,_buildNativeListenerOptions(r))}function once(e,t,n,r){attach(e,t,function o(){detach(e,t,o,r),n.apply(this,arguments)},r)}function trigger(e,t,n,r){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r);var i="on"+ucfirst(t);return"function"==typeof e[i]&&e[i](),e.dispatchEvent(o)}function fakeclick(e,t){t=t||window;var n=t.document.createElement("a");n.cssText="visibility: hidden",n.addEventListener("click",function(t){e(),t.preventDefault(),t.stopPropagation(),n.parentNode.removeChild(n)},!0),t.document.body.appendChild(n);var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),n.dispatchEvent(r)}function fakeClickAhrefBlank(e,t,n){t=t||noop,n=n||window;var r=n.document.createElement("a");r.style.cssText="visibility: hidden",r.setAttribute("href",e),r.setAttribute("target","_blank"),r.addEventListener("click",function(e){e.stopPropagation(),t(),r.parentNode.removeChild(r)},!0),n.document.body.appendChild(r);var o=n.document.createEvent("MouseEvents");o.initEvent("click",!0,!0),r.dispatchEvent(o)}function noop(){}function nullai(e,t){t&&t()}function retTrue(){return!0}function retFalse(){return!1}function offset(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top:t.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left:t.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}}function addCssRule(e,t,n){var r=document.createElement("style");r.textContent=e+" {"+t+"}",n?n.document.getElementsByTagName("head")[0].appendChild(r):document.getElementsByTagName("head")[0].appendChild(r)}function redrawAndroidIframe(){var e=document.createElement("style");document.body.appendChild(e),document.body.removeChild(e)}function parseQuery(e){var t={};return e=e.replace(/\&$/,"").replace(/\+/g,"%20"),e.split("&").forEach(function(e){var n=e.split("=").map(decodeURIComponent);t[n[0]]=n[1]}),t}function buildQuery(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function postBlob(e,t){var n=new XMLHttpRequest;n.open("POST",creative.apiUrl+"blobs?base64=1"),n.setRequestHeader("Content-Type","application/octet-stream"),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText,n.status)},n.send(e)}function tmpl(e,t){function n(e){return"  p.push('"+e.replace(/'/g,"\\'").split(/\r?\n/g).join("\\n');\n  p.push('")+"');\n"}if(!e)return"";var r;if(-1==e.indexOf("<%"))r=function(){return e};else{var o=e.split(/<%\s*|\s*%>/g),i="var p = []; with(o) {\n",a=!1;o.forEach(function(e){a?i+="="==e[0]?"  p.push("+e.replace(/^=\s*|\s*$/g,"")+");\n":"  "+e+"\n":e&&(i+=n(e)),a=!a}),i+='} return p.join("");';try{r=new Function("o",i)}catch(c){var u=new Error("Cannot parse template! (see `template` property)");throw u.template=i,u}}return t?r(t):r}function flash(){var e=document.createElement("div");e.style.background="white",e.style.opacity=.005,e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width="100%",e.style.height="100%",e.style.zIndex=2147483647,document.body.appendChild(e),setTimeout(function(){e.parentNode.removeChild(e)},0)}function crc32(e){"use strict";var t=-1,n=0,r=[0,-227835133,-516198153,324072436,-946170081,904991772,648144872,-724933397,-1965467441,2024987596,1809983544,-1719030981,1296289744,-1087877933,-1401372889,1578318884,274646895,-499825556,-244992104,51262619,-675000208,632279923,922689671,-996891772,-1702387808,1760304291,2075979607,-1982370732,1562183871,-1351185476,-1138329528,1313733451,549293790,-757723683,-1048117719,871202090,-416867903,357341890,102525238,-193467851,-1436232175,1477399826,1264559846,-1187764763,1845379342,-1617575411,-1933233671,2125378298,820201905,-1031222606,-774358714,598981189,-143008082,85089709,373468761,-467063462,-1170599554,1213305469,1526817161,-1452612982,2107672161,-1882520222,-1667500394,1861252501,1098587580,-1290756417,-1606390453,1378610760,-2032039261,1955203488,1742404180,-1783531177,-878557837,969524848,714683780,-655182201,205050476,-28094097,-318528869,526918040,1361435347,-1555146288,-1340167644,1114974503,-1765847604,1691668175,2005155131,-2047885768,-604208612,697762079,986182379,-928222744,476452099,-301099520,-44210700,255256311,1640403810,-1817374623,-2130844779,1922457750,-1503918979,1412925310,1197962378,-1257441399,-350237779,427051182,170179418,-129025959,746937522,-554770511,-843174843,1070968646,1905808397,-2081171698,-1868356358,1657317369,-1241332974,1147748369,1463399397,-1521340186,-79622974,153784257,444234805,-401473738,1021025245,-827320098,-572462294,797665321,-2097792136,1889384571,1674398607,-1851340660,1164749927,-1224265884,-1537745776,1446797203,137323447,-96149324,-384560320,461344835,-810158936,1037989803,781091935,-588970148,-1834419177,1623424788,1939049696,-2114449437,1429367560,-1487280117,-1274471425,1180866812,410100952,-367384613,-112536529,186734380,-538233913,763408580,1053836080,-860110797,-1572096602,1344288421,1131464017,-1323612590,1708204729,-1749376582,-2065018290,1988219213,680717673,-621187478,-911630946,1002577565,-284657034,493091189,238226049,-61306494,-1307217207,1082061258,1395524158,-1589280451,1972364758,-2015074603,-1800104671,1725896226,952904198,-894981883,-638100751,731699698,-11092711,222117402,510512622,-335130899,-1014159676,837199303,582374963,-790768336,68661723,-159632680,-450051796,390545967,1230274059,-1153434360,-1469116676,1510247935,-1899042540,2091215383,1878366691,-1650582816,-741088853,565732008,854102364,-1065151905,340358836,-433916489,-177076669,119113024,1493875044,-1419691417,-1204696685,1247431312,-1634718085,1828433272,2141937292,-1916740209,-483350502,291187481,34330861,-262120466,615137029,-691946490,-980332558,939183345,1776939221,-1685949482,-1999470558,2058945313,-1368168502,1545135305,1330124605,-1121741762,-210866315,17165430,307568514,-532767615,888469610,-962626711,-707819363,665062302,2042050490,-1948470087,-1735637171,1793573966,-1104306011,1279665062,1595330642,-1384295599];for(n=0;n<e.length;n++)t=t>>>8^r[255&(t^e.charCodeAt(n))];return(-1^t)>>>0}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function isDefAndNotNull(e){return null!=e}function updateQueryStringParameter(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var r=new RegExp("([?|&])"+t+"=.*?(&|$)","i");return separator=-1!==e.indexOf("?")?"&":"?",e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+separator+t+"="+n}function fetchShortenedUrl(e,t,n){function r(t,n){i[e].forEach(function(e){e[t](n)}),delete i[e]}n=n||noop;var o=!1,i=fetchShortenedUrl.inProgress,a=fetchShortenedUrl.cache;if("http"==!e.slice(0,4))return void n();if(a[e])return void defer(function(){t(a[e])},0,"fetchShortenedUrl defer success callback");if(i[e]||(i[e]=[],o=!0),i[e].push({success:t,error:n}),o){var c=(creative.runtimeParams.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+"shortenedUrls/",u={url:e,fields:"shortUrlKey"},s=btoa(to_utf8(e));s=s.replace(/\//g,"$").replace(/\+/g,"_").replace(/=/g,"");var d={cbName:"shortener_"+s};loadJSONP(c+"?"+buildQuery(u),d,function(t){var n=creative.shareUrl+t.shortUrlKey;a[e]=n,r("success",n)},function(){requestCreateShortenedUrl(e,r)})}}function requestCreateShortenedUrl(e,t){var n=(creative.runtimeParams.secure?creative.apiUrl:creative.insecureApiUrl)+"shortenedUrls/",r=fetchShortenedUrl.cache,o=new XMLHttpRequest;o.open("POST",n),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.onreadystatechange=function(){if(4===o.readyState)if(201===o.status){var n=JSON.parse(o.responseText),i=creative.shareUrl+n.shortUrlKey;r[e]=i,t("success",i)}else t("error")},o.send(JSON.stringify({url:e}))}function isMediaPlaying(e){try{return e.currentTime>0&&!e.paused&&!e.ended}catch(t){return!1}}function merge(){var e,t,n={};for(t=0;t<arguments.length;t+=1)if(e=arguments[t],null!==e&&void 0!==e)for(var r in e)n[r]=e[r];return n}function clamp(e,t,n){return Math.max(e,Math.min(t,n))}function lerp(e,t,n){return e+n*(t-e)}function map(e,t,n,r,o){return(o-e)/(t-e)*(r-n)+n}function step(e,t){return e>t?0:1}function pulse(e,t,n){return step(e,n)-step(t,n)}function smoothstep(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return r*r*r*((6*r-15)*r+10)}function bump(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return(Math.cos(Math.PI*r)+1)/2}function getWindowNesting(e){var t={iframe:e!==e.top,friendlyIframe:!1,iabFriendlyIframe:!1,hostileIframe:!1,iframeDepth:0};if(t.iframe){var n=e;try{for(t.friendlyIframe=!!e.top.location.href,t.iabFriendlyIframe=t.friendlyIframe&&"undefined"!=typeof e.inDapIF&&e.inDapIF;"undefined"!=typeof n.parent.location.href&&n.parent.document!==n.document;)n=n.parent,t.iframeDepth++;"undefined"==typeof e.top.document&&(t.hostileIframe=!0)}catch(r){t.hostileIframe=!0}}return t}function isFetchSupported(){return!!(window.fetch&&window.URL&&URL.createObjectURL)}function isBeaconSupported(){return!(!window.navigator||!window.navigator.sendBeacon)}function isNativeImplementation(e){return"function"==typeof e&&e.toString().indexOf("[native code]")>-1}function getViewportGeometry(e,t){var n=deviceInfo.deviceType.desktop()&&"BackCompat"!=document.compatMode,r=deviceInfo.os.ios("9",null),o="win"!==t&&(n||r||"doc"===t),i="win"!==t&&(n||"doc"===t),a=e.document.documentElement||{};return{width:o?a.clientWidth:e.innerWidth,height:i?a.clientHeight:e.innerHeight,left:e.scrollX||a.scrollLeft||0,top:e.scrollY||a.scrollTop||0}}!function(e){if(!this.defer){try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}var n=function(){function t(){return 9007199254740991===s?0:++s}var n,r,o,i,a=e,c="function"==typeof a.setImmediate;if(a.MutationObserver)return function(e){n=document.createElement("div"),new MutationObserver(function(){e(),n=null}).observe(n,{attributes:!0}),n.setAttribute("i","1")};if(!c&&a.postMessage&&!a.importScripts&&a.addEventListener){var u="com.setImmediate"+Math.random(),s=0;i={};var d=function(e){if(e.source===a&&0===e.data.indexOf(u)){var t=e.data.split(":")[1];i[t](),delete i[t]}};return a.addEventListener("message",d,!1),function(e){var n=t();i[n]=e,a.postMessage(u+":"+n,"*")}}return!c&&a.document&&"onreadystatechange"in document.createElement("script")?function(e){r=document.createElement("script"),r.onreadystatechange=function(){r.onreadystatechange=null,r.parentNode.removeChild(r),r=null,e()},document.body.appendChild(r)}:(o=c&&setImmediate||setTimeout,function(e){o(e)})}();this.defer=function(t,r,o,i){var a,c=0|r;if(o){var u;"undefined"!=typeof defer.perf?u=defer.perf:"undefined"!=typeof creative?u=creative.perf:"undefined"!=typeof perf&&(u=perf),u&&(u._stopTrackingDefers||(a=u.start("defer",{deferId:o,delay:c})))}if(t){var s=function(){a&&a.end(),t()};i?n(s):e.setTimeout(s,c)}}}}(window),Function.prototype.bind||Object.defineProperty(Function.prototype,"bind",{value:function(e){var t=this;return function(){return t.apply(e,arguments)}}}),function(e){e.getEventNames=function(){var t={};return"WebKitAnimationEvent"in e&&(t.animationstart="webkitAnimationStart",t.animationiteration="webkitAnimationIteration",t.animationend="webkitAnimationEnd"),"WebKitTransitionEvent"in e&&(t.transitionend="webkitTransitionEnd"),t}}(window),_isListenerOptionSupported.opts={};var getTimestamp=function(){return void 0===window.performance||void 0===window.performance.now?Date.now:window.performance.now.bind(window.performance)}();Date.now||(Date.now=function(){return+new Date}),Array.prototype.waitForEach||Object.defineProperty(Array.prototype,"waitForEach",{value:function(e,t,n){var r=this.length;r?this.forEach(function(o,i,a){var c=!1;e.call(n,o,function(){if(c)throw"Called `done` multiple times for element "+i;c=!0,--r||t()},i,a)},n):t()}}),function(e){e.loadJS=function(t,n,r,o){var i=e.loadJS.externals,a={success:n||noop,error:r||noop};if(!/^[A-Za-z0-9]*:\/\/|^\/\//.test(t)){var c=creative.hostedFiles.filter(function(e){return e.filepath===t})[0];if("undefined"==typeof c)return console.warn('Hosted file "'+t+'" was not found.'),void a.error();if(c.loaded!==!1)return console.warn('Hosted file "'+t+'" is already loaded.'),void setTimeout(a.success,0);c.loaded=!0,t=creative.cachedApiUrl+"hostedFiles/"+creative.id+"/"+creative.version+"/"+t}if(t in i&&!o)i[t].loaded?setTimeout(a.success,0):i[t].cbs.push(a);else{i[t]={cbs:[a]};var u=document.createElement("script");u.type="text/javascript",u.onload=function(){i[t].loaded=!0,i[t].cbs.forEach(function(e){e.success()}),i[t].cbs=[]},u.onerror=function(){i[t].cbs.forEach(function(e){e.error()}),i[t].cbs=[],delete i[t]},u.src=t,e.loadJS.appendToRoot(u)}},e.loadJS.externals={},e.loadJS.appendToRoot=function(e){return document.querySelector("head").appendChild(e)},e.loadJSONP=function(t,n,r,o){"function"==typeof n&&(o=r,r=n,n={});var i=n.cbName||"__jsonp"+randInt();t+=(-1==t.indexOf("?")?"?":"&")+(n.paramName||"jsonp")+"="+i,e[i]=function(t){r(t),delete e[i]},loadJS(t,noop,o,!0)}}(window),"undefined"==typeof Function.prototype.name&&!function(){var e=/^function\s+(\w+?)\s*?\(/;Object.defineProperty(Function.prototype,"name",{get:function(){var t=this.constructor.prototype.toString.call(this);return e.test(t)?t.match(e)[1]:""}})}(),fetchShortenedUrl.cache={},fetchShortenedUrl.inProgress={};;
function CPoint(t,i){this.x=1*t||0,this.y=1*i||0}function CRect(t,i,e,o){this.left=1*t||0,this.top=1*i||0,this.width=1*e||0,this.height=1*o||0}CPoint.offset=function(t){var i=offset(t);return new CPoint(i.left,i.top)},CPoint.convertPointFromNodeToPage=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x:0)+(e?e.x:0),(i?i.y:0)+(e?e.y:0))},CPoint.convertPointFromPageToNode=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x:0)-(e?e.x:0),(i?i.y:0)-(e?e.y:0))},CPoint.sample=function(t,i,e){for(var o=Math.floor(Math.sqrt(t.width*i/t.height)),n=Math.floor(Math.sqrt(t.height*i/t.width)),h=t.width/o,r=t.height/n,s=0;n>s;s++)for(var f=0;o>f;f++)e((f+.5)*h+t.left,(s+.5)*r+t.top)},CPoint.epsilon=function(t,i,e){return Math.abs(t-i)<e},CPoint.prototype.equals=function(t){return CPoint.epsilon(this.x,t.x,.25)&&CPoint.epsilon(this.y,t.y,.25)},CRect.ZERO=new CRect,Object.defineProperties(CRect.prototype,{right:{get:function(){return this.left+this.width},set:function(t){var i=this.left;t<this.left&&(this.left=t,t=i),this.width=t-this.left},enumerable:!0},bottom:{get:function(){return this.top+this.height},set:function(t){var i=this.top;t<this.top&&(this.top=t,t=i),this.height=t-this.top},enumerable:!0},tl:{get:function(){return new CPoint(this.left,this.top)}},tr:{get:function(){return new CPoint(this.right,this.top)}},bl:{get:function(){return new CPoint(this.left,this.bottom)}},br:{get:function(){return new CPoint(this.right,this.bottom)}},area:{get:function(){return this.width*this.height}}}),CRect.adopt=function(t){return new CRect(t.left,t.top,t.width,t.height)},CRect.prototype.zero=function(){return 0===this.area},CRect.prototype.intersect=function(t){if(!t)return!1;var i=Math.max(this.left,t.left),e=Math.max(this.top,t.top),o=Math.min(this.right,t.right),n=Math.min(this.bottom,t.bottom),h=o-i,r=n-e;return 0>h||0>r?CRect.ZERO:new CRect(i,e,h,r)},CRect.prototype.copyFrom=function(t){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height},CRect.prototype.relativeTo=function(t){return new CRect(this.left-t.left,this.top-t.top,this.width,this.height)},CRect.prototype.contains=function(t){return t instanceof CPoint?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom:t instanceof CRect?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom:void 0},CRect.prototype.map=function(t,i){var e=i.width/t.width,o=i.height/t.height;return new CRect((this.left-t.left)*e+i.left,(this.top-t.top)*o+i.top,this.width*e,this.height*o)},CRect.prototype.equals=function(t){return t&&this.left==t.left&&this.top==t.top&&this.right==t.right&&this.bottom==t.bottom},CRect.prototype.toString=function(){return"CRect: "+JSON.stringify(this)};;
function Logger(e){if(!(this instanceof Logger))return new Logger(e);e=e||"";var n=noop;(Logger.enabledNames.indexOf(e)>=0||Logger.enabledNames.indexOf("all")>=0)&&(n=function(){var e=[].slice.apply(arguments);e.unshift(Logger._ts()+" ["+Logger.sessionId+(this.name?" "+this.name:"")+"]"),console.log.apply(console,e)}),this.name=e,this.log=n,this.warn=n,this.debug=n,this.error=n}Logger._ts=function(){function e(e,n){for(e+="";e.length<n;)e="0"+e;return e}var n=new Date;return n.getFullYear()+"-"+e(n.getMonth()+1,2)+"-"+e(n.getDate(),2)+" "+e(n.getHours(),2)+":"+e(n.getMinutes(),2)+":"+e(n.getSeconds(),2)+"."+e(n.getTime()-1e3*Math.floor(n.getTime()/1e3),3)},Logger.init=function(e,n){Logger.enabledNames=e,Logger.sessionId=n||(Math.random()+"").slice(15)},Logger.initFromRuntimeParams=function(e){Logger.init(e.debug?e.debug.split(","):[],e.sessionId)};;
window.CeltraDeviceInfo={},function(e){function n(e,n){this.os=new t(e.osName,e.osVersion),this.browser=new r(e.browserName,e.browserVersion,n),this.engine=new i(e.browserRenderingEngine,e.browserRenderingEngineVersion),this.deviceType=new o(e.deviceType,e.mobileDevice),this.vendor=e.vendor||"",this.model=e.model||"",this.userAgent=n}function t(e,n){this.name=e||"",this.version=n||"0"}function r(e,n,t){this.name=e||"",this.version=n||"0",this.userAgent=t}function i(e,n){this.name=e||"",this.version=n||"0"}function o(e,n){this.hardwareType=e||"",this.mobile=n||""}function s(e,n){function t(e){return parseInt(e.replace(/\D/g,""),10)}function r(e,n){var t;for(t=0;t<Math.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,o,s;if(!e)return!0;if(0===n.length)o=null,s=null;else if(1===n.length)o=n[0],s=n[0];else{if(2!==n.length)throw"Invalid number of arguments";o=n[0],s=n[1]}for(e=e.split(".").map(t),o=o?o.split(".").map(t):[],s=s?s.split(".").map(t):[],i=Math.max(o.length,s.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,o)||1===r(e,s))}function a(e,n){if(-1===e.indexOf("Playstation")){var t=e.match(/\bSilk\/([0-9._-]+)\b/);t&&(n.browserName="Amazon Silk",n.browserVersion=t[1])}n.browserName&&n.browserVersion&&(0===n.browserName.indexOf("Chrome")&&s(n.browserVersion,["28",null])||0===n.browserName.indexOf("Opera")&&s(n.browserVersion,["15",null]))&&(n.browserRenderingEngine="Blink"),n.browserRenderingEngineVersion||(n.browserRenderingEngineVersion=function(){var n;return(n=e.match(/Trident\/([0-9.]+)/))?n[1]:(n=e.match(/Presto\/([0-9.]+)/))?n[1]:(n=e.match(/AppleWebKit\/*([0-9.]+)/i))?n[1]:(n=e.match(/Gecko\/*([0-9.]+)/),n?n[1]:"")}())}t.prototype.android=function(){return"Android"===this.name&&s(this.version,arguments)},t.prototype.osx=function(){return"OSX"===this.name&&s(this.version,arguments)},t.prototype.ios=function(){return"IOS"===this.name&&s(this.version,arguments)},t.prototype.windows=function(){return"Windows"===this.name&&s(this.version,arguments)},t.prototype.windowsPhone=function(){return"WindowsPhone"===this.name&&s(this.version,arguments)},t.prototype.linux=function(){return"Linux"===this.name},r.prototype.safari=function(){return"Safari"===this.name&&s(this.version,arguments)},r.prototype.chrome=function(){return 0===this.name.indexOf("Chrom")&&s(this.version,arguments)},r.prototype.ie=function(){return 0===this.name.indexOf("Internet Explorer")&&s(this.version,arguments)},r.prototype.android=function(){return"Android Browser"===this.name&&s(this.version,arguments)},r.prototype.samsung=function(){return"Samsung Browser"===this.name&&s(this.version,arguments)},r.prototype.opera=function(){return 0===this.name.indexOf("Opera")&&s(this.version,arguments)},r.prototype.silk=function(){return"Amazon Silk"===this.name&&s(this.version,arguments)},r.prototype.firefox=function(){return"Firefox"===this.name&&s(this.version,arguments)},r.prototype.edge=function(){return"Edge"===this.name&&s(this.version,arguments)},r.prototype.miui=function(){return"MIUI Browser"===this.name&&s(this.version,arguments)},r.prototype.webView=function(){var n=null,t="iP"===(e.navigator.platform||"").substr(0,2);if(t){var r=this.userAgent,i=-1!==r.indexOf("Safari")&&-1!==r.indexOf("Version"),o=!/constructor/i.test(e.HTMLElement);i&&!e.navigator.standalone?n="iOS Safari or Safari Controller":(o||e.indexedDB)&&e.statusbar.visible?(e.webkit&&e.webkit.messageHandlers||o||e.indexedDB)&&(n="WKWebView"):n="UIWebView"}else/^.*\/\d\.\d \(.*wv\).*/.test(this.userAgent)&&(n="AndroidWebView");return n},r.prototype.facebookApp=function(){var e=this.userAgent;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1},i.prototype.webkit=function(){return"WebKit"===this.name&&s(this.version,arguments)},i.prototype.gecko=function(){return"Gecko"===this.name&&s(this.version,arguments)},i.prototype.trident=function(){return"Trident"===this.name&&s(this.version,arguments)},i.prototype.presto=function(){return"Presto"===this.name&&s(this.version,arguments)},i.prototype.blink=function(){return"Blink"===this.name&&s(this.version,arguments)},o.prototype.phone=function(){return"Phone"===this.hardwareType},o.prototype.tablet=function(){return"Tablet"===this.hardwareType},o.prototype.desktop=function(){return"Desktop"===this.hardwareType},o.prototype.mobileDevice=function(){return this.mobile===!0},e.CeltraDeviceInfo.create=function(t,r){return t=t||e.navigator.userAgent||"",r=r||{},a(t,r),new n(r,t)}}(window);;
window.deviceInfo=CeltraDeviceInfo.create(window.navigator.userAgent,window.celtraDeviceInfoRuntimeParams);;
!function(e){function n(){var e=p().match(/iP(ad|hone|od).*OS ([0-9_]+)/);return!!e&&s(e[2].replace(/_/g,"."),arguments)}function t(){var e=p().match(/Android ([0-9.]+)/),n=p().match(/Windows Phone/);return!n&&!!e&&s(e[1],arguments)}function r(){var e=p().match(/Windows Phone ([0-9.]+)/);return!!e&&s(e[1],arguments)}function i(){var e=p().match(/AppleWebKit\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function a(){var e=p().match(/Gecko\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function o(){var e=p().match(/MSIE ([0-9]{1,}[.0-9]{0,})|Trident.* rv:([0-9]{1,}[.0-9]{0,})/i);return!!e&&s(e[1]||e[2],arguments)}function u(){var e=p().match(/Silk\/([0-9.]+)/);return!!e&&s(e[1],arguments)}function f(){var e=p().toLowerCase();return/kftt|kfot|kfjwi|kfjwa|kfso|kfth|kfapwi|kfthwi|kfsowi|kfthwa|kfapwa|kfap|sd4930ur/.test(e)?s("2",arguments):!1}function d(){return"undefined"!=typeof offsetWidthOverride?offsetWidthOverride:(document.body.offsetWidth,Math.min(innerWidth,innerHeight))}function c(){return/iPad/.test(p())||d()>550}function m(){return!(t()||n()||r())}function s(e,n){function t(e){return parseInt(e.replace(/\D/g,""),10)}function r(e,n){for(var t=0;t<v.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,a,o;if(!e)return!0;if(0===n.length)a=null,o=null;else if(1===n.length)a=n[0],o=n[0];else{if(2!==n.length)throw"Invalid number of arguments";a=n[0],o=n[1]}e=e.split(".").map(t),a=a?a.split(".").map(t):[],o=o?o.split(".").map(t):[];for(var i=v.max(a.length,o.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,a)||1===r(e,o))}function h(){return v.top!==e}function l(){if(!(n()||window.chrome&&"Google Inc."===window.navigator.vendor))return!1;var e;return e=p().match(n()?/CriOS\/([0-9]+.)/:/Chrome\/([0-9]+.)/),!!e&&s(e[1],arguments)}function g(){var e="(-webkit-min-device-pixel-ratio: 1.5),(min--moz-device-pixel-ratio: 1.5),(-o-min-device-pixel-ratio: 3/2),(min-resolution: 1.5dppx)";return window.devicePixelRatio>1||window.matchMedia&&window.matchMedia(e).matches}e.celtra=e.celtra||{};var w={};w.ios=n,w.android=t,w.webkit=i,w.windowsPhone=r,w.gecko=a,w.windows=o,w.kindleSilk=u,w.kindle=f,w.iframe=h,w.desktop=m,w.tablet=c,w.chromeBased=l,w.isHighDensityDisplay=g,extend(e.celtra,w),delete w.webkit,extend(e,w);var v={max:e.Math.max,min:e.Math.min,userAgent:e.navigator.userAgent,top:e.top},p=function(){return"undefined"!=typeof e.userAgentOverride?e.userAgentOverride:v.userAgent}}(window);;
!function(e){function t(){var t=e;try{for(;"undefined"!=typeof t.parent.location.href&&t.parent.document!==t.document;)t=t.parent}catch(n){}return t}function n(){return s.getComputedStyle(s.document.body,null)}function i(e,t,n){if(!e)throw new Error("No element specified!");if(a(t)){if(!(t in e.style)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);if("undefined"==typeof n)return e.style[t];e.style[t]=n}else{if(-1==w.indexOf(t)&&o(t),"undefined"==typeof n)return e.style[y[t]];e.style[y[t]]=n}}function r(e,t){if(!e)throw new Error("No element specified!");var n=e.ownerDocument.defaultView.getComputedStyle(e,null);if(R&&v.indexOf(t)>-1&&(t="webkit"+u(t)),!n||"none"==n.display||!f())return null;if(!(t in n)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);return a(t)?n[t]:(-1==w.indexOf(t)&&o(t),n[y[t]])}function o(e){S=S||n();var t=E+u(e);if(R&&v.indexOf(e)>-1)y[e]=t;else if(S&&e in S)y[e]=e;else if(S&&t in S)y[e]=t;else if(!S&&deviceInfo.browser.firefox)y[e]=e;else if(i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+e+' or iframe still display "none" in FF');w.push(e)}function a(e){return p.test(e)}function f(){if(e===s)return!0;var t=e.frameElement.ownerDocument.defaultView.getComputedStyle(e.frameElement,null);return t&&"none"!=t.display}function u(e){return e+="",e?e[0].toUpperCase()+e.slice(1):""}var l=e.navigator.userAgent,s=t(),c=/rv:.*Gecko\//.test(l),d=/MSIE|Trident\//.test(l),m=/WebKit/.test(l),p=/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?/,y={},w=[],E=function(){return m?"webkit":d?"ms":c?"Moz":""}(),R=function(){var e=l.match(/AppleWebKit\/(\d+)/);return e&&~~e[1]<540}(),v=["transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","backface-visibility","perspective","perspective-origin"],S=n();i.BREAK_ON_ERROR=!1,e.celtra=e.celtra||{},e.celtra.styler={css:i,computedCSS:r,isWebkit:m,isGecko:c,isIE:d},e.css=i,e.computedCSS=r}(window);;
var Freezer={};Freezer.unfreeze=function(n,e,o){function t(n,e,o,t,a){ActionInvocationSimulator.isDryRun()?ActionInvocationSimulator.needsDryRun(n.internalId)&&(ActionInvocationSimulator.logActionDryRun(n.internalId,n.method,e.localId),e[n.method+"ActionDryRun"]?e[n.method+"ActionDryRun"](o,t,a):a()):e[n.method+"Action"](o,t,a)}function a(n){if(n instanceof Array)return n.map(a);if(n instanceof Object){var o;if("ActionInvocation"===n.clazz){n.internalId=++c;var s=l;o=function(e,a){if(!e)throw"Cannot execute an action without a context.";a||(a=noop);var i=o.isStatic;if("undefined"==typeof i&&(i=!o.instance),o.disabled)return void a();if(i){if(o.instance)throw"ActionInvocation for a static method must not have an instance assigned.";if("function"!=typeof o.actionClazz[o.method+"Action"])throw"Clazz "+o.actionClazz+' does not define the static action "'+o.method+'".';var r=extend({},o.args,{triggerId:s,caller:n});t(o,o.actionClazz,e,r,a)}else if(o.instance){if(!(o.instance instanceof o.actionClazz))throw"Instance "+o.instance+" is not an instance of clazz "+o.actionClazz;if("function"!=typeof o.instance[o.method+"Action"])throw"Instance of clazz "+o.actionClazz+' does not define the instance action "'+o.method+'".';var r=extend({},o.args,{triggerId:s,caller:n});t(o,o.instance,e,r,a)}else ActionInvocationSimulator.isDryRun()?a():defer(a,0,"Freezer.unfreeze defer c")}}else if(n.clazz){var f=e[n.clazz];if(!f)throw new Error("Unsupported clazz: "+n.clazz);o=Object.create(f.prototype)}else o={},n.onFire&&(l=n.type);for(var d in n)n.hasOwnProperty(d)&&"clazz"!==d&&(o[d]=a(n[d]));i.push(o),o.localId&&(r[o.localId]&&console.error("Duplicate localId: "+o.localId),r[o.localId]=o);for(var d in o)if("clazz"===d.slice(-5).toLowerCase()){var z=o[d];if(!z)continue;e[z]?o[d]=e[z]:console.error("Unsupported clazz: "+o.clazz)}return o}return n}var i=[],r={},c=0,l=null,s=a(n);i.forEach(function(n){for(var e in n)if("LocalId"===e.slice(-7)){var o=n[e];if(o instanceof Function)continue;var t;null===o?t=null:(t=r[o],t||console.error("Invalid localId reference: "+o)),n[e.slice(0,-7)]=t,delete n[e]}else if("LocalIds"===e.slice(-8)){for(var a=[],i=0;i<n[e].length;i++){var c=n[e][i],t=r[c];t||console.error("Invalid localId reference: "+c),a.push(t)}n[e.slice(0,-8)]=a,delete n[e]}});for(var f in o)s[f]=o[f];return i.reverse().forEach(function(n){n.awake&&n.awake()}),s};;
function Batcher(e){e=e||{},this._cache={},this._downloadQueue={},this._base=e.baseUrl,this._protoLoading=e.protoLoading}Batcher.prototype.getDataUri=function(e,a){var t=this;if("function"!=typeof a)throw"getDataURI callback is not a function";var r;if(-1!==e.indexOf("://"))r=e;else{if("/"===e[0])throw"An absolute path as URL?";r=this._base+e}var n,c;0===r.indexOf(creative.cachedApiUrl)?(n=r.slice(creative.cachedApiUrl.length),c=!0):0===r.indexOf(creative.insecureCachedApiUrl)&&(n=r.slice(creative.insecureCachedApiUrl.length),c=!1),n?n in this._cache?defer(function(){a(t._cache[n])},0,"Batcher.getDataUri in cache",useAsap()):(this._downloadQueue[n]||(this._downloadQueue[n]={requested:!1,secure:!1,callbacks:[]}),this._downloadQueue[n].callbacks.push(a),c&&(this._downloadQueue[n].secure=!0),defer(function(){var e=[],a=!1;for(var r in t._downloadQueue){var n=8192,c=200,o=t._generateBatchUrl(!0,e.concat(r)).length>n-c;if(!o){var i=t._downloadQueue[r];i.requested||(i.requested=!0,e.push(r),i.secure&&(a=!0))}}e.length&&(Logger("batcher").log(e.length+" new batchable URLs requested during last runloop iteration ("+(a?"at least one secure":"none secure")+"):\n - "+e.join("\n - ")),t._loadBatch(a,e,function(e){for(var a in e){var r=e[a];r===!1&&(r=(t._downloadQueue[a].secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+a),t._cache[a]=r,t._downloadQueue[a].callbacks.forEach(function(e){e(r)}),delete t._downloadQueue[a]}}))},0,"Batcher.getDataUri downloadQueue",useAsap())):defer(function(){a(e)},0,"Batcher.getDataUri url not batchable",useAsap())},Batcher.prototype._generateBatchUrl=function(e,a){var t=(e?creative.cachedApiUrl:creative.insecureCachedApiUrl)+"batch?urls="+a.sort().map(encodeURIComponent).join(",");return t},Batcher.prototype._loadBatch=function(e,a,t){function r(e){var a,t=5381;for(a=0;a<e.length;a++)char=e.charCodeAt(a),t=(t<<5)+t+char;return t}var n=this,c=n._generateBatchUrl(e,a);if(isFetchSupported()&&this._protoLoading.blobURIsSupported)fetch(c+"&binary=1").then(function(e){return e.arrayBuffer()}).then(function(e){for(var a={},r=new DataView(e),n=0;n<e.byteLength;){var o=r.getUint32(n);n+=4;var i=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(e.slice(n,n+o))));n+=o;var h=e.slice(n,n+i.bodyLength);n+=i.bodyLength,200===i.code?a[i.path]=URL.createObjectURL(new Blob([h],{type:i.contentType})):(Logger("batcher").warn("Batcher: Could not retrieve URL '"+i.path+"' using batcher, returning it directly."),creative.track({name:"batcherError",url:c,path:i.path,binary:!0}),a[i.path]=!1)}t(a)});else if(this._protoLoading.dataURIsSupported)loadJSONP(c,{cbName:"__batcher_jsonp_"+Math.abs(r(c))},function(e){var a={};for(var r in e){var n=e[r];200===n.code?a[r]=n.data:(Logger("batcher").warn("Batcher: Could not retrieve URL '"+r+"' using batcher, returning it directly."),creative.track({name:"batcherError",url:c,path:r,binary:!1}),a[r]=!1)}t(a)});else{var o=a.reduce(function(e,a){return e[a]=!1,e},{});defer(function(){t(o)},0,"Batcher._loadBatch defer callback, no data: and no blob: support, returning urls directly.")}};;
function EngagementTracker(e,t){function n(e){if(!w){w=!0;var t=randInt(),n=u(e.target),o=v.getBoundingClientRect(),l=n.node.getBoundingClientRect(),d=v.parentNode.getBoundingClientRect();C=Math.round(o.left-d.left),D=Math.round(o.top-d.top),h.setUniversalInteractionId(t),"touchstart"===e.type?(L=!0,E=e.targetTouches[0].pageX,U=e.targetTouches[0].pageY,v.addEventListener("touchmove",a,m),v.addEventListener("touchend",i,m)):"mousedown"===e.type&&(L=!1,E=e.clientX,U=e.clientY,v.addEventListener("mousemove",a,m),v.addEventListener("mouseup",i,m)),deviceInfo.deviceType.desktop()&&v.addEventListener("mouseout",r,m),y=T=Date.now(),M=0,j={name:"universalInteraction",universalInteractionId:t,unitSize:{w:v.offsetWidth,h:v.offsetHeight},objectSize:n?{t:Math.round(l.top-o.top),l:Math.round(l.left-o.left),w:Math.round(l.width),h:Math.round(l.height)}:null,path:[],addPoint:function(e,t,n,o){this.path.push({x:Math.round(e-C),y:Math.round(t-D),clientTimestamp:n,objectLocalId:o?o.localId:null})}},j=c(j,n),j.addPoint(E,U,y/1e3,n)}}function o(e,t){return Math.sqrt(e*e+t*t)}function a(e){if(w){b&&(S.clearTimeout(b),b=null);var t,n;"touchmove"===e.type?(t=e.targetTouches[0].pageX,n=e.targetTouches[0].pageY):"mousemove"===e.type&&(t=e.clientX,n=e.clientY),M+=o(t-E,n-U),E=t,U=n;var a=Date.now(),r=a-y,i=Math.pow(j.path.length/(.5*p),6),c=Math.pow((a-T)/s,6);j.path.length<f&&(M>l+i*l||r>d+c*d)&&(j.addPoint(t,n,a/1e3,u(document.elementFromPoint(t,n))),y=a,M=0)}}function r(e){var t=Date.now();b=S.setTimeout(function(){i(e,t)},200)}function i(e,t){w&&(w=!1,t||(t=Date.now()),j.addPoint(E,U,t/1e3,u(document.elementFromPoint(E,U))),g.track(j),L?(v.removeEventListener("touchmove",a,m),v.removeEventListener("touchend",i,m)):(v.removeEventListener("mousemove",a,m),v.removeEventListener("mouseup",i,m)),deviceInfo.deviceType.desktop()&&v.removeEventListener("mouseout",r,m))}function c(e,t){var n=null,o=null,a=null,r=!1;return t instanceof Screen?(n=t,o=null,a=n.parentUnitVariant,r=!0):"undefined"!=typeof ScreenObject&&t instanceof ScreenObject?(n=t.parentScreen,o=t,a=n.parentUnitVariant,r=!0):"undefined"!=typeof CreativeUnitVariant&&t instanceof CreativeUnitVariant&&(n=null,o=null,a=t,r=!0),r?extend({unitName:a?a.parentUnit.name:n.parentUnit.name,unitVariantLocalId:a?a.localId:null,screenLocalId:n?n.localId:null,screenTitle:n?n.title:null,screenIsMaster:n?n.isMasterScreen():null,objectLocalId:o?o.localId:null,objectName:o?o.name:null,objectClazz:o?o.constructor.name:null,initiationTimestamp:new Date/1e3},e):e}function u(e){function t(e){for(var a in e)if(e.hasOwnProperty(a)){if(e[a].name&&e[a].name==o)return e[a];if(e[a].localId&&e[a].localId==n)return e[a];var r;if(e[a].variants?r=t(e[a].variants):e[a].screens?r=t(e[a].screens):e[a].objects?r=t(e[a].objects):e[a].content&&e[a].content.objects?r=t(e[a].content.objects):e[a].component&&(r=e[a].component),r)return r}}if(!e)return null;for(var n,o,a=e;;){if(a.id&&0==a.id.indexOf("celtra-")){o=a.id.replace("celtra-",""),0==a.id.indexOf("celtra-object-")&&(n=a.id.replace("celtra-object-",""));var r=t(I);if(r)return"undefined"!=typeof CreativeUnit&&r instanceof CreativeUnit?r.currentScreen:r}if(!a.parentNode)break;a=a.parentNode}return null}var l=15,d=150,s=1e3,p=15,f=p+5,m={capture:!0,passive:!0},v=e,h=t,g=t.adapter.trackingCenter,I=t.units,w=!1,b=null,L=!0,j={},M=0,T=null,y=Date.now(),E=0,C=0,U=0,D=0,S=e.ownerDocument.defaultView||e.ownerDocument.parentWindow;attach(v,"touchstart",n,m),attach(v,"mousedown",n,m)};
function Tapper(t,e){function a(t){for(var e=t,a=null;1!=e.nodeType;)e=e.parentNode;for(;e&&1==e.nodeType&&e.tagName;){var n=e.tagName.toLowerCase();if(hasClass(e,"touchable")||"a"===n&&e.href||"button"===n||"img"===n||"input"===n&&e.type&&"button"===e.type.toLowerCase()){a=e;break}e=e.parentNode}return a}function n(t,e){var a=t.ownerDocument.createEvent("MouseEvents");a.initEvent("tap",!0,!0),e.dispatchEvent(a)}var c="undefined"!=typeof creative&&creative.adapter||adapter;e=e||c.useNativeClickForTapDetection,e&&(attach(t,"click",function(e){var c=a(e.target);c&&n(t,c)},!c.nativeClickEmittedOnSwipe),c.useNativeClickForTapDetection)||attach(t,"touchstart",function(o){var r=a(o.target);if(r){var i=!1;if(celtra.iframe()){var u=function(){var t=c.getTopWindow();return[t.scrollX,t.scrollY,t.innerWidth,t.innerHeight]},h=u();i=!0}var s=10,d=o.targetTouches[0].clientX-s,v=o.targetTouches[0].clientX+s,l=o.targetTouches[0].clientY-s,f=o.targetTouches[0].clientY+s;addClass(r,"touched");var p=!1,g=!1,m=!1,T=!1,C=new Date,w=function(t){if(!p&&!g){var e=t.targetTouches[0].clientX,a=t.targetTouches[0].clientY;p=i&&h.toString()!=u().toString(),g=!(e>=d&&v>=e&&a>=l&&f>=a),g||p?removeClass(r,"touched"):addClass(r,"touched")}},k=function(){if(!T&&(T=!0,detach(t,"touchmove",w,!1),detach(t,"touchend",arguments.callee,!1),hasClass(r,"touched"))){var a=200,c=new Date-C>a&&!deviceInfo.deviceType.desktop();if(removeClass(r,"touched"),g||p||m||c)return;e||n(t,r)}},y=function(){detach(t,"touchend",y,!0),nextFrame(function(){m=!0,k()})};attach(t,"touchcancel",function(t){removeClass(r,"touched"),k(t)},!1),attach(t,"touchmove",w,!1),attach(t,"touchend",k,!1),attach(t,"touchend",y,!0)}},!0)};
function TouchEventSimulator(t){this.el=t,this.doc=t.ownerDocument?t.ownerDocument:t,this.win=this.doc.defaultView,this.touch=null,this._initialised=!1,this._firstEventFired=!1,this.handleFirstEvent=this.handleFirstEvent.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handlePointerCancel=this.handlePointerCancel.bind(this),this.captureBubbleEvents=this.captureBubbleEvents.bind(this)}TouchEventSimulator.mode=null,TouchEventSimulator.prototype.start=function(){return this._initialised?void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator already initialised!")):("function"==typeof Logger&&Logger("TouchEventSimulator").log("Enabling touch event simulation"),this.doc.defaultView.msPointerEnabled?this.startPointers():this.startMouse(),this.el.addEventListener("touchstart",this.captureBubbleEvents,!1),this.el.addEventListener("touchmove",this.captureBubbleEvents,!1),this.el.addEventListener("touchend",this.captureBubbleEvents,!1),this.el.addEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.addEventListener("tap",this.captureBubbleEvents,!1))},TouchEventSimulator.prototype.stop=function(){return this._initialised?("function"==typeof Logger&&Logger("TouchEventSimulator").log("Disabling touch event simulation"),this.win&&this.win.msPointerEnabled?this.stopPointers():this.stopMouse(),this.el.removeEventListener("touchstart",this.captureBubbleEvents,!1),this.el.removeEventListener("touchmove",this.captureBubbleEvents,!1),this.el.removeEventListener("touchend",this.captureBubbleEvents,!1),this.el.removeEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.removeEventListener("tap",this.captureBubbleEvents,!1)):void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator not running!"))},TouchEventSimulator.prototype.captureBubbleEvents=function(t){t.stopPropagation(),t.preventDefault()},TouchEventSimulator.prototype.startMouse=function(){this.el.addEventListener("mousedown",this.handleMouseDown,!0),this.el.addEventListener("mousemove",this.handleMouseMove,!0),this.el.addEventListener("mouseup",this.handleMouseUp,!0),this.el.addEventListener("mouseout",this.handleMouseOut,!0),this.el.addEventListener("dragstart",this.handleDragStart,!0),this._initialised=!0},TouchEventSimulator.prototype.stopMouse=function(){this.el.removeEventListener("mousedown",this.handleMouseDown,!0),this.el.removeEventListener("mousemove",this.handleMouseMove,!0),this.el.removeEventListener("mouseup",this.handleMouseUp,!0),this.el.removeEventListener("mouseout",this.handleMouseOut,!0),this.el.removeEventListener("dragstart",this.handleDragStart,!0),this._initialised=!1},TouchEventSimulator.prototype.startPointers=function(){this.el.addEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.addEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.addEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.addEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!0},TouchEventSimulator.prototype.stopPointers=function(){this.el.removeEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.removeEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.removeEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.removeEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!1},TouchEventSimulator.prototype.init=function(){this.doc.defaultView.navigator.msPointerEnabled?this.start():(this.el.addEventListener("touchstart",this.handleFirstEvent,!0),this.el.addEventListener("mousedown",this.handleFirstEvent,!0))},TouchEventSimulator.prototype.updateTouchCoordinates=function(t){this.touch.screenX=t.screenX,this.touch.screenY=t.screenY,this.touch.pageX=t.pageX,this.touch.pageY=t.pageY,this.touch.clientX=t.clientX,this.touch.clientY=t.clientY},TouchEventSimulator.prototype.ignorables=["select","input","textarea"],TouchEventSimulator.prototype.isFormElement=function(t){return this.ignorables.indexOf(t.nodeName.toLowerCase())>-1},TouchEventSimulator.prototype.isIgnorable=function(t){for(var e=t;e&&e instanceof HTMLElement;e=e.parentNode)if(hasClass(e,"ignore-toucheventsimulator"))return!0;return!1},TouchEventSimulator.prototype.handleFirstEvent=function(t){this._firstEventFired||(this._firstEventFired=!0,this.el.removeEventListener("touchstart",this.handleFirstEvent,!0),this.el.removeEventListener("mousedown",this.handleFirstEvent,!0),"touch"!=TouchEventSimulator.mode&&"mousedown"==t.type?(TouchEventSimulator.mode="mouse",this.start(),this.handleMouseDown(t)):TouchEventSimulator.mode="touch")},TouchEventSimulator.prototype.handleMouseDown=function(t){0!=t.button||this.isIgnorable(t.target)||(this.touch={identifier:0,target:t.target},this.updateTouchCoordinates(t),t.stopPropagation(),this.isFormElement(t.target)||t.preventDefault(),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handleMouseMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handleMouseUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchend",t),this.touch=null)},TouchEventSimulator.prototype.handleMouseOut=function(t){this.touch&&0==t.button&&(t.clientX<=0||t.clientX>=this.win.innerWidth||t.clientY<=0||t.clientY>=this.win.innerHeight)&&this.cancelInteraction()},TouchEventSimulator.prototype.handleDragStart=function(t){return t.preventDefault(),!1},TouchEventSimulator.prototype.handlePointerDown=function(t){0==t.button&&(this.touch={identifier:0,target:t.target},this.updateTouchCoordinates(t),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handlePointerMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handlePointerUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchend",t))},TouchEventSimulator.prototype.handlePointerCancel=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchcancel",t),this.touch=null)},TouchEventSimulator.prototype.fireTouchEvent=function(t,e){var n=this.doc.createEvent("HTMLEvents");n.initEvent(t,!0,!0),"touchend"==t||"touchcancel"==t?(n.touches=n.targetTouches=[],n.changedTouches=[this.touch]):n.touches=n.targetTouches=n.changedTouches=[this.touch],e.target.dispatchEvent(n)},TouchEventSimulator.prototype.cancelInteraction=function(){this.touch&&(this.fireTouchEvent("touchcancel",this.touch),this.touch=null)};;
function SwipeListener(t){function e(t,e){return Math.abs(t)>Math.abs(e)?t>0?"east":"west":e>0?"south":"north"}function a(){detach(l(),"touchmove",n,!1),detach(l(),"touchend",c,!1)}function n(t){if(t.touches.length>1)a();else{var n=t.changedTouches[0].pageX-o,c=t.changedTouches[0].pageY-i;if(r=Math.max(Math.abs(n),Math.abs(c)),r>Math.min(50,g))if(null===u)u=e(n,c);else{var h=e(n,c);u!=h&&a()}}}function c(){a(),r>=g&&(d(u,r),v.attachClickPreventionHandler())}function h(t){creative.adapter.useNativeClickForTapDetection||t.preventDefault(),1==t.touches.length&&(o=t.changedTouches[0].pageX,i=t.changedTouches[0].pageY,r=0,u=null,attach(l(),"touchmove",n,!1),attach(l(),"touchend",c,!1),v.detachClickPreventionHandler())}var o,i,u,r,s=t.target,l=t.swipeNodeGetter,d=t.swipe,g=t.minLength||50,v=Object.create(ClickPreventer).initClickPrevention(function(){return s});attach(window,"touchstart",noop,!1),attach(s,"touchstart",h,!1)};
var ClickPreventer={initClickPrevention:function(e){return this._getDefaultClickPreventionNode=e||function(){},this._clickPreventionNode=null,this._clickPreventionHandler=this._clickPreventionHandler.bind(this),this},attachClickPreventionHandler:function(e){creative.adapter.nativeClickEmittedOnSwipe&&!this._clickPreventionNode&&(this._clickPreventionNode=e||this._getDefaultClickPreventionNode(),attach(this._clickPreventionNode,"click",this._clickPreventionHandler,!0))},detachClickPreventionHandler:function(){creative.adapter.nativeClickEmittedOnSwipe&&this._clickPreventionNode&&(detach(this._clickPreventionNode,"click",this._clickPreventionHandler,!0),this._clickPreventionNode=null)},_clickPreventionHandler:function(e){e.stopPropagation(),this.detachClickPreventionHandler()}};;
function PlaceboBar(e,t,a,i){var n=!1,r=document.createElement("div");r.className="celtra-placebobar",r.style.cssText="position: absolute; bottom: 60px; left: 0; right: 0; margin: auto; z-index: 20; width: 215px; height: 8px;";var l=document.createElement("img");l.src=creative.resourceUrl+"runner/clazzes/CreativeUnit/loading-back.png",l.style.position="absolute",l.style.width="100%",l.style.height="100%",r.appendChild(l);var o=document.createElement("div");o.style.position="absolute",o.style.top="2px",o.style.bottom="2px",o.style.left="3px",o.style.right="3px",r.appendChild(o);var s=document.createElement("div");return s.style.background="url("+creative.resourceUrl+"runner/clazzes/CreativeUnit/loading-over.png) "+i+" repeat-x",s.style.position="absolute",s.style.width="0",s.style.height="100%",o.appendChild(s),r.start=function(){function i(){if(r.parentNode){var n=Math.min((new Date-l)/e,t);s.style.width=100*n+"%",t>n&&setTimeout(i,2*a*Math.random())}}if(!n){n=!0;var l=new Date;setTimeout(i,0)}},r};
var EventEmitter={emit:function(t){var e=this._listeners;if(e&&e[t]){var n=[].slice.call(arguments,1);e[t].forEach(function(t){t.apply(window,n)})}},emits:function(){var t=arguments;return function(){this.emit.apply(this,t)}.bind(this)},addListener:function(t,e){var n=this._listeners;n||(n=this._listeners={}),n[t]||(n[t]=[]),n[t].push(e)},removeListener:function(t,e){var n=this._listeners;n&&n[t]&&(n[t]=n[t].filter(function(t){return t!==e}))},once:function(t,e){var n=this;n.on(t,function i(){n.off(t,i),e.apply(this,arguments)})},onAll:function(t,e){t.split(" ").waitForEach(function(t,e){this.once(t,e)},e,this)}};EventEmitter.on=EventEmitter.addListener,EventEmitter.off=EventEmitter.removeListener,EventEmitter.addEventListener=EventEmitter.addListener,EventEmitter.removeEventListener=EventEmitter.removeListener,"undefined"!=typeof module&&null!==module&&(module.exports=EventEmitter);;
function InViewObject(t,e){this.view=t,this.inViewParent=e,this._init()}extend(InViewObject.prototype,EventEmitter),InViewObject.prototype._init=function(){this.rectInView=CRect.ZERO,this.areaInViewRatio=0,this.active=!1,this._maxPossibleDimensions={width:0,height:0,area:0},this.computeRectInView=this.computeRectInView.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this)},InViewObject.prototype.getNode=function(){return this.view.getNode()},InViewObject.prototype.getParentMaxPossDims=function(){return this.inViewParent?this.inViewParent.getMaxPossibleDimensions():this.adapter.getViewportRect()},InViewObject.prototype.computeRectInView=function(){var t=this.inViewParent.getRectInView(),e=this.getBoundingClientRect(),i=t.intersect(e),n=!1;this.rectInView.equals(i)||(this.rectInView=i,n=!0),this._computeMaxPossibleDimensions(e,this.getParentMaxPossDims());var s=this._maxPossibleDimensions.area>0?i.area/this._maxPossibleDimensions.area:0,o=!1;s!==this.areaInViewRatio&&(this.areaInViewRatio=s,o=!0),n&&(this.emit("rectInViewChanged",i),Logger("InViewObject").debug(this.view.toString()+", rectInViewChanged: "+this.rectInView.toString())),o&&(this.emit("areaInViewRatioChanged",s),Logger("InViewObject").debug(this.view.toString()+", areaInViewRatioChanged: "+s))},InViewObject.prototype.getBoundingClientRect=function(){var t=this.getNode();return t?CRect.adopt(t.getBoundingClientRect()):CRect.ZERO},InViewObject.prototype.getMaxPossibleDimensions=function(){return this._maxPossibleDimensions},InViewObject.prototype._computeMaxPossibleDimensions=function(t,e){this._maxPossibleDimensions.width=Math.min(e.width,t.width),this._maxPossibleDimensions.height=Math.min(e.height,t.height),this._maxPossibleDimensions.area=this._maxPossibleDimensions.width*this._maxPossibleDimensions.height},InViewObject.prototype.getRectInView=function(){return this.rectInView},InViewObject.prototype.getAreaInViewRatio=function(){return this.areaInViewRatio},InViewObject.prototype.start=function(){this.active||(this._start(),this.active=!0,this.computeRectInView())},InViewObject.prototype._start=function(){this.inViewParent.on("rectInViewChanged",this.computeRectInView),this.inViewParent.on("areaInViewRatioChanged",this.computeRectInView)},InViewObject.prototype.stop=function(){this.active&&(this.computeRectInView(),this._stop(),this.active=!1)},InViewObject.prototype._stop=function(){this.inViewParent.off("rectInViewChanged",this.computeRectInView),this.inViewParent.off("areaInViewRatioChanged",this.computeRectInView)};;
function TaskScheduler(){this.hub=extend({},EventEmitter)}TaskScheduler.prototype.when=function(){var t,e=this;return t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),{run:function(n){t.waitForEach(function(t,n){e.hub.once(t,n)},n)}}},TaskScheduler.prototype.notify=function(t){this.paused||this.hub.emit(t)},TaskScheduler.prototype.notifies=function(t){return function(){this.notify(t)}.bind(this)},TaskScheduler.prototype.pause=function(){this._paused=!0};;
function DryRunResultSet(t){this._actions=t}DryRunResultSet.prototype.contains=function(t,n){return this._actions.some(function(e){var o=t==e.method,u=!n||n==e.instance;return o&&u})},DryRunResultSet.prototype.getAll=function(){return this._actions},DryRunResultSet.prototype.concat=function(t){return new DryRunResultSet(this._actions.concat(t.getAll()))};;
var ActionInvocationSimulator={_dryRun:!1,_dryRunActions:[],_dryRunExecutedActionsLocalIds:[],beginDryRun:function(){this._dryRun=!0,this._dryRunActions=[],this._dryRunExecutedActionsLocalIds=[]},endDryRun:function(){var n=this._dryRunActions;return this._dryRun=!1,this._dryRunActions=[],this._dryRunExecutedActionsLocalIds=[],new DryRunResultSet(n)},isDryRun:function(){return this._dryRun},needsDryRun:function(n){return!this._dryRunExecutedActionsLocalIds[n]},logActionDryRun:function(n,t,u){this._dryRunExecutedActionsLocalIds[n]=!0,this._dryRunActions.push({method:t,instance:u})}};;
var TriggerHost={_getTriggers:function(r,i){return i||(i=retTrue),this.triggers.filter(function(t){return t.type==r&&i(t.parameters,t)})},_fireArrayOfTriggers:function(r,i,t){var e=this;i||(i=noop),t||(t=new ActionContext(e)),r.waitForEach(function(r,i){r.onFire?r.onFire(t,i):i()},i)},hasTriggers:function(r,i){return this._getTriggers(r,i).length>0},fireTriggersDryRun:function(r,i,t,e){var n;try{ActionInvocationSimulator.beginDryRun(),this.fireTriggers(r,i,t,e)}finally{n=ActionInvocationSimulator.endDryRun()}return n},fireTriggers:function(r,i,t,e){var n=this._getTriggers(r,i);this._fireArrayOfTriggers(n,t,e)},fireSortedTriggers:function(r,i,t,e,n){var g=this._getTriggers(r,i),n=n||null;this._fireArrayOfTriggers(g.sort(n),t,e)},triggerAction:function(r,i,t){this.fireTriggers(i.eventName,null,t,r)},triggerActionByLocalId:function(r,i,t){var e=this.triggers.filter(function(r){return r.localId===i.localId});e.length>0&&this._fireArrayOfTriggers(e,t,r)},triggerByLocalIdAction:function(r,i,t){var e=i.event?[i.event]:[];this._fireArrayOfTriggers(e,t,r)},triggerByLocalIdActionDryRun:function(r,i,t){this.triggerByLocalIdAction(r,i,t)}};;
var SceneHost={_initImmediatelyPlayedScenes:function(){if(this.immediatelyPlayedScenes){var e=[];if(this instanceof Screen){e=this.immediatelyPlayedScenes.appear.scenes;var i=!this.appearedAtLeastOnce;i&&(e=e.concat(this.immediatelyPlayedScenes.firstAppear.scenes))}else e=this.immediatelyPlayedScenes.conditionMet.scenes;e.forEach(function(e){e.renderFirstFrame()})}}};;
function ActionContext(e,t){if(this._id=randInt(),this.initiator=e,this.initiationTimestamp=new Date/1e3,"object"==typeof t?(this.consideredUserInitiatedByBrowser=!!t.consideredUserInitiatedByBrowser,this.certainlyNotCausedByUserBehavior=!!t.certainlyNotCausedByUserBehavior):(this.consideredUserInitiatedByBrowser=!!t,this.certainlyNotCausedByUserBehavior=!1),this.inUserInitiatedIteration=this.consideredUserInitiatedByBrowser,this.consideredUserInitiatedByBrowser&&this.certainlyNotCausedByUserBehavior)throw new Error("Unable to create an ActionContext where both consideredUserInitiatedByBrowser and certainlyNotCausedByUserBehavior are true!");if(e instanceof Screen)this.screen=e,this.screenObject=null,this.unitVariant=this.screen.parentUnitVariant;else if(e instanceof ScreenObject)this.screen=e.parentScreen,this.screenObject=e,this.unitVariant=this.screen.parentUnitVariant;else{if(!("undefined"!=typeof CreativeUnitVariant&&e instanceof CreativeUnitVariant))throw new Error("Initiator ("+e+") is not a Screen or a ScreenObject. Analytics would be confused.");this.screen=null,this.screenObject=null,this.unitVariant=e}if(this.inUserInitiatedIteration){var i=function(){this.inUserInitiatedIteration=!1}.bind(this);defer(i),nextFrame(i)}if(this.trackUserInteraction=this.trackUserInteraction.bind(this),this._isAttributable=!!this.screen&&this._isScreenReadyForEventAttribution(),this.screen&&!this.screen.parentUnit.name)throw new Error("Parent unit missing name.")}ActionContext.prototype._isScreenReadyForEventAttribution=function(){return this.screen.isMasterScreen()?this.screen.parentContainer.screens.some(function(e){return e.appearedAtLeastOnce&&e.isNormalScreen()}):this.screen.appearedAtLeastOnce},ActionContext.prototype.extendEvent=function(e){return extend({unitName:this.unitVariant?this.unitVariant.parentUnit.name:this.screen.parentUnit.name,unitVariantLocalId:this.unitVariant?this.unitVariant.localId:null,screenLocalId:this.screen?this.screen.localId:null,screenTitle:this.screen?this.screen.title:null,screenIsMaster:this.screen?this.screen.isMasterScreen():null,objectLocalId:this.screenObject?this.screenObject.localId:null,objectName:this.screenObject?this.screenObject.name:null,objectClazz:this.screenObject?this.screenObject.constructor.name:null,initiationTimestamp:this.initiationTimestamp},e)},ActionContext.prototype.track=function(e,t){this.screen&&!this._isAttributable&&console.warn('Event "'+e.name+'" appears to be initiated before a screen was ever shown and will be ignored.'),creative.track(this.extendEvent(e),t)},ActionContext.prototype.trackUserInteraction=function(){if(creative.getUserInteracted())creative.interactionTrackingTimeout||(this.track({name:"interaction"}),creative.interactionTrackingTimeout=setTimeout(function(){creative.interactionTrackingTimeout=null},1e3));else{if(creative.runtimeParams.userInteracted=1,creative.experiments.get("TrackViewableAreaChange")){var e=creative.adapter;e.canMeasureViewportPlacementGeometry&&"function"==typeof e.trackViewableAreaRatio&&e.trackViewableAreaRatio()}this.track({name:"firstInteraction"})}defer(creative.trackingCenter.batchFlush),creative.userInteracted(this)},ActionContext.prototype.trackClickThrough=function(e){e||(e=noop),creative.runtimeParams.clickedThrough?this.track({name:"clickThrough"},e):(creative.runtimeParams.clickedThrough=1,this.track({name:"firstClickThrough"},e)),defer(creative.trackingCenter.batchFlush),creative.clickedThrough(this)};;
function VideoContext(t,e,i){VideoContext.uberConstructor.call(this,t instanceof ActionContext?t.initiator:t,t&&t.userInitiated),this.file=e,this.url=e.getUrl(),this.label=i,this.source=null}inherit(VideoContext,ActionContext),VideoContext._eventNames=["videoDurationUpdate","videoPlayAttempted","videoPlayedSegment","videoStart","videoFirstQuartile","videoMidpoint","videoThirdQuartile","videoComplete"],VideoContext.prototype.registerSource=function(t){if(!t)throw"Not a valid source of video events.";this.source=t,VideoContext._eventNames.forEach(function(t){this.source.on(t,function(e){this.handleEvent(t,e)}.bind(this))}.bind(this))},VideoContext.prototype.handleEvent=function(t,e){this.track(extend(JSON.parse(JSON.stringify(e||{})),{name:t}))},VideoContext.prototype.track=function(t){if("videoPlayAttempted"==t.name){var e=this.file.url?"URL":"File";extend(t,{sourceType:e,source:"URL"==e?this.file.url:this.file.blobHash,label:this.label})}VideoContext.uber.track.call(this,t)};;
function ShakeListener(){this.shakeThreshold=1.5,this.canListen=!0,this.slidingWindow=5,this.signals=[],this.handleMotion=this.handleMotion.bind(this),this.topWindow=creative.adapter.getTopWindow()}extend(ShakeListener.prototype,EventEmitter),ShakeListener.prototype.start=function(){this.canListen=!0;var i=window.DeviceMotionEvent&&window.DeviceMotionEvent.requestPermission;creative.deviceMotionListenerAdded||(creative.deviceMotionListenerAdded=!0,i?window.DeviceMotionEvent.requestPermission().then(function(i){"granted"==i?this.topWindow.addEventListener("devicemotion",this.handleMotion):this.emit("shakeFallback")}.bind(this))["catch"](function(i){console.warn(i.message+". Triggering fallback behaviour"),this.emit("shakeFallback")}.bind(this)):this.topWindow.addEventListener("devicemotion",this.handleMotion))},ShakeListener.prototype.stop=function(){this.canListen=!1,creative.deviceMotionListenerAdded&&(creative.deviceMotionListenerAdded=!1,this.topWindow.removeEventListener("devicemotion",this.handleMotion))},ShakeListener.prototype.handleMotion=function(i){if(this.canListen){this.signals.push(i.accelerationIncludingGravity),this.signals.length>this.slidingWindow&&this.signals.shift();var e=this.signals.reduce(function(i,e){return{x:i.x+e.x,y:i.y+e.y,z:i.z+e.z}}),t={x:e.x/this.signals.length,y:e.y/this.signals.length,z:e.z/this.signals.length};if(this.prevSignal){var n=null,s=Math.abs(t.x-this.prevSignal.x),h=Math.abs(t.y-this.prevSignal.y),o=Math.abs(t.z-this.prevSignal.z);if(90===Math.abs(creative.adapter.orientation)){var a=h;h=s,s=a}s>h&&s>o&&s>this.shakeThreshold?n="x":h>s&&h>o&&h>this.shakeThreshold?n="y":o>s&&o>h&&o>this.shakeThreshold&&(n="z"),(s>this.shakeThreshold||h>this.shakeThreshold||o>this.shakeThreshold)&&this.emit("shake",n)}this.prevSignal=t}};;
!function(){"use strict";function t(t){return"italic"===String(t).toLowerCase()?"italic":""}function e(t){var e=/normal|bold|([1-9])00/i.exec(t);if("undefined"==typeof e)return"";var i=e[0];return"normal"===i?"400":"bold"===i?"700":i}function i(i){var n=i.family.replace(/ /g,"+"),o=t(i.style),s=e(i.weight),r=s+o;return r.length>0?n+":"+r:n}function n(t,e,i){if(l){var n="300px",o=t.style+" "+t.weight+" "+n+' "'+t.getBrowserCompatibleFontFamily()+'"',s=t.hasUnicodeRangeDefined()&&t.hasSubsetStringDefined()?t.getSubsetString():" ";document.fonts.load(o,s).then(function(t){t.length>=1?e():i()},function(){i()})}else{if("undefined"==typeof FontLoader)return void i("Font Loader is not initialized.");FontLoader.watch(t.getBrowserCompatibleFontFamily(),t.style,t.weight,e,i,t.getSubsetString())}}function o(t,e,i){var o="font-style-manager",s=document.getElementById(o);s||(s=document.createElement("style"),s.id=o,document.getElementsByTagName("head")[0].appendChild(s));var r=t.generateFontFace();if(!r)return void i("Unable to define style for font without specifying files, style and weight.");var a=[].slice.apply(s.sheet.cssRules).some(function(e){var i=e.style.getPropertyValue("font-family").replace(/^['"](.+)['"]$/,"$1");return i==t.getBrowserCompatibleFontFamily()&&e.style.getPropertyValue("font-style")==t.style&&e.style.getPropertyValue("font-weight")==t.weight});a||s.sheet.insertRule(r,s.sheet.cssRules.length),n(t,e,i)}function s(t,e,i,o){var s=[].slice.apply(document.getElementsByTagName("link")).filter(function(t){return t.href===e})[0];if(s||(s=document.createElement("link"),s.setAttribute("rel","stylesheet"),s.setAttribute("media","all"),s.setAttribute("href",e)),l){var r=function(){s._finished=!0,n(t,i,o)};s._finished?n(t,i,o):(s.addEventListener("load",r),s.addEventListener("error",r))}else setTimeout(function(){n(t,i,o)},0);s.parentNode||document.getElementsByTagName("head")[0].appendChild(s)}function r(t){for(var e in t)this[e]=t[e]}var a=2,l=function(t,e){var i=!!document.fonts;if(/Apple/.test(e)){var n=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(t);return i&&parseInt(n[1],10)>603}var o=/Gecko.*Firefox\/(\d+)/.exec(t);return o?i&&parseInt(o[1],10)>46:i}(window.navigator.userAgent,window.navigator.vendor),f=["Droid Sans"];r.prototype.getId=function(){return this.typefaceId||this.id},r.prototype.getSubsetString=function(){return this.subset},r.prototype.getTrackingUrl=function(){return this.trackingUrl},r.prototype.getUnicodeRange=function(){return this.unicodes},r.prototype.getBrowserCompatibleFontFamily=function(){if(this.isAdobe()||this.useGoogleFontsAPI()||this.isSystem())return this.family;var t=this.family+(this.stretch?" "+this.stretch:"")+" "+this.provider;if(this.hasSubsetStringDefined()&&!this.hasUnicodeRangeDefined()&&(t+=" "+encodeURIComponent(this.getSubsetString())),t.length>25){for(var e,i=5381,n=0,o=t.length;o>n;n++)e=t.charCodeAt(n),i=(i<<5)+i+e;return i.toString()}return t},r.prototype.setBaseUrl=function(t){this.baseUrl=t},r.prototype.isAdobe=function(){return"adobe"===this.provider},r.prototype.isCustom=function(){return"custom"===this.provider},r.prototype.isGoogle=function(){return"google"===this.provider},r.prototype.isMonotype=function(){return"monotype"===this.provider},r.prototype.isSystem=function(){return"system"===this.provider},r.prototype.hasSubsetStringDefined=function(){var t=this.getSubsetString();return"string"==typeof t&&t.length>0},r.prototype.hasTrackingUrlDefined=function(){var t=this.getTrackingUrl();return"string"==typeof t&&t.length>0},r.prototype.hasUnicodeRangeDefined=function(){var t=this.getUnicodeRange();return"string"==typeof t&&t.length>0},r.prototype.needsLoading=function(){return this.isAdobe()||this.isCustom()||this.isGoogle()||this.isMonotype()},r.prototype.useGoogleFontsAPI=function(){return"google"===this.provider&&-1!==f.indexOf(this.family)},r.prototype.getCssProperties=function(){return{"font-family":this.needsLoading()?'"'+this.getBrowserCompatibleFontFamily()+'", Helvetica, sans-serif':this.getBrowserCompatibleFontFamily(),"font-style":this.style,"font-weight":this.weight}},r.prototype.getFileUrl=function(t){if("string"==typeof this.baseUrl){var e,n=this.hasSubsetStringDefined();if(this.isGoogle()){var o=i(this);e=this.baseUrl+"google/"+o+"/"+a+"_webfont."+t}else if("undefined"!=typeof this.files&&"undefined"!=typeof this.files[t]){var s=this.getId();if("string"!=typeof s)return this.baseUrl+this.files[t]+"."+t;var r,l=this.files[t].blobHash,f=this.files[t].name||"webfont";r=n?a+"_"+l:l,e=this.baseUrl+s+"/"+r+"/"+encodeURIComponent(f)+"."+t}return"string"==typeof e&&n&&(e+="?subset="+encodeURIComponent(this.getSubsetString())),e}},r.prototype.generateFontFace=function(){var t="",e=[],i=this.getFileUrl("woff2");i&&e.push('url("'+i+'") format("woff2")');var n=this.getFileUrl("woff");n&&e.push('url("'+n+'") format("woff")');var o=this.getFileUrl("ttf");return o&&e.push('url("'+o+'") format("truetype")'),this.style&&this.weight&&e.length>0&&(t="@font-face {",t+='font-family: "'+this.getBrowserCompatibleFontFamily()+'";',t+="font-style: "+this.style+";",t+="font-weight: "+this.weight+";",t+="src:"+e.join(",")+";",this.hasUnicodeRangeDefined()&&(t+="unicode-range: "+this.getUnicodeRange()+";"),t+="}"),t},r.prototype.loadStyle=function(t){t=t||function(){};var e=function(e){t(e||"Failed to load font files.")};if(this.isCustom()||this.isGoogle()&&!this.useGoogleFontsAPI()||this.isMonotype())o(this,t,e);else if(this.isAdobe())if("string"==typeof this.projectId){var n="https://use.typekit.net/"+this.projectId+".css";s(this,n,t,e)}else e("Missing Adobe web project id.");else if(this.useGoogleFontsAPI()){var r=i(this),n="https://fonts.googleapis.com/css?family="+r;this.hasSubsetStringDefined()&&(n+="&text="+encodeURIComponent(this.getSubsetString())),s(this,n,t,e)}else this.isSystem()?t():e("Invalid or unsupported provider.")},Object.defineProperty(r,"useCSSFontLoadingAPI",{value:l}),window.FontBase=r}();;
var ScreenNodeTransition={replace:function(t,e,r,s,i,a){r.style.opacity=0,r.style.display="block",s.style.display="block",e.style.display="none",nextFrame(function(){r.style.opacity=1,t.style.opacity=0,nextFrame(function(){t.style.display="none",nextFrame(a||noop)})})},fade:function(t,e,r,s,i,a){function n(){celtra.styler.css(r,"transition",""),celtra.styler.css(t,"transition",""),t.style.display="none",nextFrame(a||noop)}r.style.opacity=0,r.style.display="block",s.style.display="block",e.style.display="none",once(t,"transitionend",n),nextFrame(function(){celtra.styler.css(t,"transition","opacity "+i.duration+"ms ease-out"),celtra.styler.css(r,"transition","opacity "+i.duration+"ms ease-out"),nextFrame(function(){r.style.opacity=1,t.style.opacity=0})})},slide:function(t,e,r,s,i,a){var n={transition:"all "+i.duration+"ms ease-out"};switch(i.direction||"west"){case"north":n.startingFrom="translateY(0)",n.endingFrom="translateY("+-i.unitSize.height+"px)",n.startingTo="translateY("+i.unitSize.height+"px)",n.endingTo="translateY(0)";break;case"south":n.startingFrom="translateY(0)",n.endingFrom="translateY("+i.unitSize.height+"px)",n.startingTo="translateY("+-i.unitSize.height+"px)",n.endingTo="translateY(0)";break;case"east":n.startingFrom="translateX(0)",n.endingFrom="translateX("+i.unitSize.width+"px)",n.startingTo="translateX("+-i.unitSize.width+"px)",n.endingTo="translateX(0)";break;case"west":n.startingFrom="translateX(0)",n.endingFrom="translateX("+-i.unitSize.width+"px)",n.startingTo="translateX("+i.unitSize.width+"px)",n.endingTo="translateX(0)"}n.startingFromOpacity=1,n.startingToOpacity=0,n.endingFromOpacity=0,n.endingToOpacity=1,this._runTransition(t,e,r,s,n,i.duration,a)},flip:function(t,e,r,s,i,a){var n={transition:"all "+i.duration+"ms ease-out"},o="perspective("+2*i.unitSize.width+"px) ";switch(i.direction||"west"){case"north":n.startingFrom=o+"rotateX(0)",n.endingFrom=o+"rotateX(180deg)",n.startingTo=o+"rotateX(-180deg)",n.endingTo=o+"rotateX(0)";break;case"south":n.startingFrom=o+"rotateX(0)",n.endingFrom=o+"rotateX(-180deg)",n.startingTo=o+"rotateX(180deg)",n.endingTo=o+"rotateX(0)";break;case"east":n.startingFrom=o+"rotateY(0)",n.endingFrom=o+"rotateY(180deg)",n.startingTo=o+"rotateY(-180deg)",n.endingTo=o+"rotateY(0)";break;case"west":n.startingFrom=o+"rotateY(0)",n.endingFrom=o+"rotateY(-180deg)",n.startingTo=o+"rotateY(180deg)",n.endingTo=o+"rotateY(0)"}celtra.styler.css(t.parentNode,"transformStyle","preserve-3d"),celtra.styler.css(t,"backfaceVisibility","hidden"),celtra.styler.css(e,"backfaceVisibility","hidden"),celtra.styler.css(r,"backfaceVisibility","hidden"),celtra.styler.css(s,"backfaceVisibility","hidden"),celtra.styler.css(t,"transformOrigin","50% 50% 0"),celtra.styler.css(e,"transformOrigin","50% 50% 0"),celtra.styler.css(r,"transformOrigin","50% 50% 0"),celtra.styler.css(s,"transformOrigin","50% 50% 0"),this._runTransition(t,e,r,s,n,i.duration,function(){celtra.styler.css(t.parentNode,"transformStyle",""),celtra.styler.css(t,"backfaceVisibility",""),celtra.styler.css(e,"backfaceVisibility",""),celtra.styler.css(r,"backfaceVisibility",""),celtra.styler.css(s,"backfaceVisibility",""),celtra.styler.css(t,"transform",""),celtra.styler.css(e,"transform",""),celtra.styler.css(r,"transform",""),celtra.styler.css(s,"transform",""),celtra.styler.css(t,"transformOrigin",""),celtra.styler.css(e,"transformOrigin",""),celtra.styler.css(r,"transformOrigin",""),celtra.styler.css(s,"transformOrigin",""),nextFrame(a||noop)})},cube:function(t,e,r,s,i,a){var n={transition:"all "+i.duration+"ms ease-out"},o="perspective("+2*i.unitSize.width+"px) ";switch(i.direction||"west"){case"north":n.startingFrom=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(0)     ",n.endingFrom=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(90deg) ",n.startingTo=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(-90deg)",n.endingTo=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(0)     ";break;case"south":n.startingFrom=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(0)     ",n.endingFrom=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(-90deg)",n.startingTo=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(90deg) ",n.endingTo=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(0)     ";break;case"east":n.startingFrom=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(0)     ",n.endingFrom=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(90deg) ",n.startingTo=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(-90deg)",n.endingTo=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(0)     ";break;case"west":n.startingFrom=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(0)     ",n.endingFrom=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(-90deg)",n.startingTo=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(90deg) ",n.endingTo=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(0)     "}var l=t.style.overflow,c=e.style.overflow,y=r.style.overflow,d=s.style.overflow;switch(celtra.styler.css(t.parentNode,"transformStyle","preserve-3d"),t.style.overflow=e.style.overflow="hidden",r.style.overflow=s.style.overflow="hidden",celtra.styler.css(t,"backfaceVisibility","hidden"),celtra.styler.css(e,"backfaceVisibility","hidden"),celtra.styler.css(r,"backfaceVisibility","hidden"),celtra.styler.css(s,"backfaceVisibility","hidden"),i.direction||"west"){case"north":case"south":celtra.styler.css(t,"transformOrigin","50% 50% "+-i.unitSize.height/2+"px"),celtra.styler.css(e,"transformOrigin","50% 50% "+-i.unitSize.height/2+"px"),celtra.styler.css(r,"transformOrigin","50% 50% "+-i.unitSize.height/2+"px"),celtra.styler.css(s,"transformOrigin","50% 50% "+-i.unitSize.height/2+"px");break;case"east":case"west":celtra.styler.css(t,"transformOrigin","50% 50% "+-i.unitSize.width/2+"px"),celtra.styler.css(e,"transformOrigin","50% 50% "+-i.unitSize.width/2+"px"),celtra.styler.css(r,"transformOrigin","50% 50% "+-i.unitSize.width/2+"px"),celtra.styler.css(s,"transformOrigin","50% 50% "+-i.unitSize.width/2+"px")}this._runTransition(t,e,r,s,n,i.duration,function(){celtra.styler.css(t.parentNode,"transformStyle",""),t.style.overflow=l,e.style.overflow=c,r.style.overflow=y,s.style.overflow=d,celtra.styler.css(t,"transformOrigin",""),celtra.styler.css(e,"transformOrigin",""),celtra.styler.css(r,"transformOrigin",""),celtra.styler.css(s,"transformOrigin",""),celtra.styler.css(t,"backfaceVisibility",""),celtra.styler.css(e,"backfaceVisibility",""),celtra.styler.css(r,"backfaceVisibility",""),celtra.styler.css(s,"backfaceVisibility",""),nextFrame(a||noop)})},_runTransition:function(t,e,r,s,i,a,n){function o(){l||(l=!0,celtra.styler.css(r,"transition",""),celtra.styler.css(s,"transition",""),celtra.styler.css(t,"transition",""),celtra.styler.css(e,"transition",""),celtra.styler.css(r,"transform",""),celtra.styler.css(s,"transform",""),celtra.styler.css(t,"transform",""),celtra.styler.css(e,"transform",""),t.style.display=e.style.display="none",t.style.opacity=e.style.opacity=r.style.opacity=s.style.opacity="",nextFrame(n||noop))}celtra.styler.css(t,"transform",i.startingFrom),celtra.styler.css(e,"transform",i.startingFrom),celtra.styler.css(r,"transform",i.startingTo),celtra.styler.css(s,"transform",i.startingTo),t.style.opacity=e.style.opacity="undefined"==typeof i.startingFromOpacity?1:i.startingFromOpacity,r.style.opacity=s.style.opacity="undefined"==typeof i.startingToOpacity?1:i.startingToOpacity,r.style.display=s.style.display="block";var l=!1,c=this._runOnce(o);once(r,"transitionend",c),setTimeout(function(){celtra.styler.css(r,"transition",i.transition),celtra.styler.css(t,"transition",i.transition),celtra.styler.css(s,"transition",i.transition),celtra.styler.css(e,"transition",i.transition),nextFrame(function(){l||(celtra.styler.css(t,"transform",i.endingFrom),celtra.styler.css(e,"transform",i.endingFrom),celtra.styler.css(r,"transform",i.endingTo),celtra.styler.css(s,"transform",i.endingTo),t.style.opacity=e.style.opacity="undefined"==typeof i.endingFromOpacity?1:i.endingFromOpacity,r.style.opacity=s.style.opacity="undefined"==typeof i.endingToOpacity?1:i.endingToOpacity)}),setTimeout(c,a+150)},20)},run:function(t,e,r,s,i){var a=this._getSupportedAnimation(i.animation||"replace");if(!(a in this))throw new Error("The transition function does not exist!");this[a].apply(this,arguments)},_getSupportedAnimation:function(t){return!android("4")||window.navigator.userAgent.match(/Chrome.*(Mobile)? Safari/)||"cube"!==t&&"flip"!==t?t:"fade"},_runOnce:function(t){var e=!1;return function(){return e?void 0:(e=!0,t())}}};;
var ScreenTransitioner={goingToScreen:null,_masterShown:!1,goToScreen:function(e,n,t){var i=Array.prototype.slice.apply(arguments);if(!this.isAppearing)return void this.once("appeared",function(){this.goToScreen.apply(this,i)}.bind(this));var r=function(){this._preloadReachableScreens(),t&&t()}.bind(this);if(!e)return r();if(!e.loaded)return void e.getNode(function(){this.goToScreen.apply(this,i)}.bind(this));var s=this.currentScreen;return n=n||{},this.goingToScreen?r():(this.goingToScreen=e,void e.triggerBeforeAppear(function(){this.initiateScreenTransition(e,n,function(){this.goingToScreen=null,this.currentScreen=e,s&&(s.disappear(),s.exitRenderTree()),this._masterShown||(this._masterShown=!0,this.master.enterRenderTree(),this.master.appear()),this.currentScreen.enterRenderTree(),this.currentScreen.appear(),r()}.bind(this))}.bind(this)))},initiateScreenTransition:function(e,n,t){if(n=n||{},t=t||noop,this.visibleScreen==e)return t();this.visibleScreen=e;var i=e===this.loadingScreen;if(i&&e.loaded)this._screenTransition(e.getNode(),null,n,t);else if(e.loaded&&this.master.loaded)this.loadingScreen&&(this.loadingScreen.getNode().style.display="none"),this._screenTransition(e.getNode(),this.master.getNode(),n,t);else{Logger("unit").warn("Screens should be loaded but were not");var r,s,o,a=function(){r--,r||this._screenTransition(s,o,n,t)};i?(s=this.loadingScreen.getNode(a.bind(this)),o=null,r=1):(s=e.getNode(a.bind(this)),o=this.master.getNode(a.bind(this)),r=2)}},_screenTransition:function(e,n,t,i){function r(){s||(s=!0,i())}if(e.style.display="none",n&&(this._masterClone||this._createMasterClone(),this.screenHolder.appendChild(this._masterClone),n.parentNode||this.screenHolder.appendChild(n),this._masterClone.style.zIndex=n.style.zIndex=-1),e&&!e.parentNode&&this.screenHolder.appendChild(e),n&&(this._masterClone.style.display="block",n.style.display="none"),null!=this.currentScreen)t.unitSize=extend({},this.size),ScreenNodeTransition.run(this.currentScreen.node,this._masterClone,e,n,t,function(){n.style.display="block",this._masterClone.display="none",i()}.bind(this));else{n&&(n.style.display="block",this._masterClone.style.display="none"),e.style.display="block";var s=!1;nextFrame(r),defer(r)}},_preloadReachableScreens:function(){setTimeout(function(){var e=[];Object.keys(this.currentScreen.dynamicReachableScreenConditions).forEach(function(n){var t=n.split("/"),i=creative.experiments.get(t[0],t.slice(1));null!=i&&Object.keys(this.currentScreen.dynamicReachableScreenConditions[n]).forEach(function(t){t!=i.chosenVariant&&(e=e.concat(this.currentScreen.dynamicReachableScreenConditions[n][t]))}.bind(this))}.bind(this)),this.currentScreen.reachableScreens.concat(this.master.reachableScreens).forEach(function(n){var t=-1==e.indexOf(n.localId.toString());t&&n.getNode()}.bind(this))}.bind(this),0)},_createMasterClone:function(){return this._masterClone&&this._masterClone.parentNode&&this._masterClone.parentNode.removeChild(this._masterClone),this._masterClone=this.master.getNode().cloneNode(!0),this._masterClone.style.display="none",this._masterClone.style.zIndex=-1,this._masterClone}};;
function AdViewableTimeObserver(e){this._tracker=e,this._readyToShow=!1,this._adapter}function AdViewableInViewObjectObserver(){AdViewableInViewObjectObserver.uberConstructor.apply(this,arguments),this._inViewObjects=[],this._viewableInViewObjects=[]}function AdViewableUnitObserver(){AdViewableUnitObserver.uberConstructor.apply(this,arguments),this._units=[],this._viewableUnits=[],this._containerIsViewable=!1}AdViewableTimeObserver.prototype.readyToShow=function(){throw new Error("AdViewableInViewObjectObserver.readyToShow not implemented!")},AdViewableTimeObserver.prototype.registerUnit=function(){throw new Error("AdViewableInViewObjectObserver.registerUnit not implemented!")},AdViewableTimeObserver.prototype.registerAdapter=function(){throw new Error("AdViewableTimeObserver.registerAdapter not implemented!")},AdViewableTimeObserver.prototype.stop=function(){this._tracker.stop()},inherit(AdViewableInViewObjectObserver,AdViewableTimeObserver),AdViewableInViewObjectObserver.prototype.registerAdapter=function(e){this._adapter=e;var t=this._tracker;e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){0===this._viewableInViewObjects.length&&t.stop()}.bind(this))},AdViewableInViewObjectObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableInViewObjectObserver.prototype.registerUnit=function(e){var t=e.inView,i=this._inViewObjects,r=this._viewableInViewObjects,a=this._tracker;if(-1===i.indexOf(t)){i.push(t);var n=-1!==r.indexOf(t);!n&&t.getAreaInViewRatio()>0&&r.push(t),this._tryStartTracker(),t.on("areaInViewRatioChanged",function(e){var i=r.indexOf(t),n=-1!==i;!n&&e>0?(r.push(t),this._tryStartTracker()):0===e&&n&&(r.splice(i,1),0===r.length&&a.stop())}.bind(this))}},AdViewableInViewObjectObserver.prototype._tryStartTracker=function(){var e=this._adapter,t=e&&e.mediaState.playingVideo;return this._readyToShow&&(this._viewableInViewObjects.length>0||t)?(this._tracker.start(),!0):!1},inherit(AdViewableUnitObserver,AdViewableTimeObserver),AdViewableUnitObserver.prototype.registerAdapter=function(e){this._adapter=e,this._containerIsViewable=e.containerIsViewable;var t=this._tracker;e.on("containerViewableChange",function(e){this._containerIsViewable=e,e?this._tryStartTracker():t.stop()}.bind(this)),e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){this._adapter.containerIsViewable&&0!==this._viewableUnits.length||t.stop()}.bind(this))},AdViewableUnitObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableUnitObserver.prototype.registerUnit=function(e){if(!this._adapter)throw new Error("adapter was not registered yet!");var t=this._units,i=this._viewableUnits,r=this._tracker;-1===t.indexOf(e)&&(t.push(e),-1===i.indexOf(e)&&e._visible&&(i.push(e),this._tryStartTracker()),e.on("appeared",function(){-1===i.indexOf(e)&&(i.push(e),this._tryStartTracker())}.bind(this)),e.on("disappeared",function(){var t=i.indexOf(e);-1!==t&&(i.splice(t,1),0===i.length&&r.stop())}.bind(this)))},AdViewableUnitObserver.prototype._tryStartTracker=function(){var e=this._adapter;return e&&(e.containerIsViewable||e.mediaState.playingVideo)&&this._readyToShow&&this._viewableUnits.length>0?(this._tracker.start(),!0):!1};;
function AdViewableTimeTracker(i,e,t,n){this._trackingCenter=i,this._raf=e,this._win=t,this._intervals=n||{3e3:1e3,1e4:2e3,63e3:3e3},this._isRunning=!1,this._viewableMilliseconds=0,this._fromTime=0,this._pendingPingTimeoutId,this._pendingPingRafId,this._maxRafLatency=500}AdViewableTimeTracker.eventName="viewableTime",AdViewableTimeTracker.TrackingData=function(i,e){return i>e&&(e=i),{name:AdViewableTimeTracker.eventName,from:i/1e3,to:e/1e3}},AdViewableTimeTracker.prototype.start=function(){this._isRunning||(this._isRunning=!0,this._fromTime=Date.now(),0===this._viewableMilliseconds?this._initPing():this._setNextPing())},AdViewableTimeTracker.prototype.stop=function(){if(this._clearPendingPing(),this._isRunning&&-1!==this._getPingInterval()){var i=Date.now(),e=i-this._fromTime;this._viewableMilliseconds+=e;var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t)}this._isRunning=!1},AdViewableTimeTracker.prototype._initPing=function(){var i=this._fromTime,e=this._getPingInterval(),t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._pendingPingRafId=this._raf.nextFrame(function(){this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))},AdViewableTimeTracker.prototype._setNextPing=function(){function i(){if(this._isRunning){var i=Date.now();this._viewableMilliseconds+=e,this._normalizeFromTime(i,e),this._pendingPingRafId=this._raf.nextFrame(function(){var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))}}this._clearPendingPing();var e=this._getPingInterval();this._isRunning&&-1!==e&&(this._pendingPingTimeoutId=this._win.setTimeout(i.bind(this),e))},AdViewableTimeTracker.prototype._normalizeFromTime=function(i,e){var t=i-this._fromTime,n=e+this._maxRafLatency;t>n&&(this._fromTime=i)},AdViewableTimeTracker.prototype._setFromTimeForNextPing=function(i,e){var t=Date.now(),n=t-i,r=n>e;this._fromTime=r?t:i},AdViewableTimeTracker.prototype._getPingInterval=function(){var i=this._viewableMilliseconds,e=this._intervals,t=Object.keys(this._intervals),n=1*t[t.length-1],r=-1;return t.some(function(t){return 1*t>i?(r=e[t],i+r>n&&(r=-1),!0):!1}),r},AdViewableTimeTracker.prototype._clearPendingPing=function(){this._raf.cancelFrame(this._pendingPingRafId),this._win.clearTimeout(this._pendingPingTimeoutId)},AdViewableTimeTracker.prototype._track=function(i){this._trackingCenter.track(i)};;
!function(t){function i(){this.playingVideo=!1}var e=i.prototype;extend(e,EventEmitter),e.stopVideo=function(){this.playingVideo=!1,this.emit("videoStopped")},e.startVideo=function(){this.playingVideo=!0,this.emit("videoStarted")},t.MediaState=i}(window);;
function StateObject(t){Object.defineProperties(this,{values:{enumerable:!1,configurable:!1,writable:!0,value:{}},_isDirty:{enumerable:!1,configurable:!1,writable:!0,value:!1}}),Object.keys(t).forEach(function(e){this.registerValue(e,t[e])},this)}extend(StateObject.prototype,EventEmitter),StateObject.prototype.registerValue=function(t,e){this.values[t]={dirty:!1,value:e},Object.defineProperty(this,t,{get:function(){return this.values[t].value},set:function(e){var i=this.values[t],r=i.value;e!=r&&(i.dirty=!0,i.value=e,this._isDirty=!0,this.emit("change:"+t,e,r))},enumerable:!0})},StateObject.prototype.markClean=function(t){var e=!1;Object.keys(this.values).forEach(function(i){t&&i!==t||(this[i].dirty=!1),e=e||this[i].dirty},this.values),this._isDirty=e},StateObject.prototype.getDirtyValues=function(){for(var t={},e=Object.keys(this.values),i=0;i<e.length;i++)this.values[e[i]].dirty&&(t[e[i]]=this.values[e[i]].value);return t},StateObject.prototype.isDirty=function(t){return"undefined"==typeof t?this._isDirty:this.values[t].dirty},StateObject.prototype.anyDirty=function(t){arguments.length>1&&(t=Array.prototype.slice.apply(arguments));for(var e=0;e<t.length;e++)if(this.values[t[e]].dirty)return!0;return!1},StateObject.prototype.copy=function(){var t={};for(var e in this.values)t[e]=this[e];return new StateObject(t)},StateObject.prototype.copyFrom=function(t){for(var e in t.values)this[e]=t[e]};;
function StateAnimation(t,i){this.stateObject=t,this.propertyName=i,this.running=!1,this.lastUpdateTime=null,this.tick=this.tick.bind(this),this._callback=null}function SpringyAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},SpringyAnimation.defaults,e||{}),this.state={x:t[i],v:0},this.derivative={dx:0,dv:0}}function EasingAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},EasingAnimation.defaults,e||{}),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null}StateAnimation.prototype.start=function(){this.running||(this.lastUpdateTime=null,this.running=!0,Ticker.frame(this.tick,"update"))},StateAnimation.prototype.pause=function(){Ticker.removeFrame(this.tick,"update"),this.running=!1},StateAnimation.prototype.tick=function(){var t=Date.now();this.update(t-(this.lastUpdateTime||t)),this.lastUpdateTime=t},StateAnimation.prototype.update=function(){throw new Error("Not implemented")},Object.defineProperty(StateAnimation.prototype,"value",{get:function(){return this.stateObject[this.propertyName]},set:function(t){this.stateObject[this.propertyName]=t},enumerable:!0}),inherit(SpringyAnimation,StateAnimation),SpringyAnimation.defaults={springForce:1e3,damping:20,restThreshold:1},SpringyAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),"function"==typeof i&&(e=i,i=0),this.d=t,this.state.v="number"==typeof i?i:0,this.state.x=this.value,this._callback=e,this.start()},SpringyAnimation.prototype.update=function(t){var i=Math.min(.03,t/1e3),e=Math.abs(this.state.x-this.d);e<this.options.restThreshold&&Math.abs(this.state.v)<this.options.restThreshold?(this.pause(),this.value=this.d,this.d=null,defer(this._callback||noop),this._callback=null):(this._integrate(this.state,i),this.value=this.state.x)},SpringyAnimation.prototype._integrate=function(t,i){var e=this._getDerivative(this.state),a=this._getDerivative(this.state,.5*i,e),n=this._getDerivative(this.state,.5*i,a),s=this._getDerivative(this.state,i,n);t.x+=i/6*(e.dx+2*(a.dx+n.dx)+s.dx),t.v+=i/6*(e.dv+2*(a.dv+n.dv)+s.dv)},SpringyAnimation.prototype._getDerivative=function(t,i,e){if("undefined"==typeof e)return{dx:t.v,dv:this._acceleration(t)};var a={x:t.x+e.dx*i,v:t.v+e.dv*i};return{dx:a.v,dv:this._acceleration(a,i)}},SpringyAnimation.prototype._acceleration=function(t){return-this.options.springForce*(t.x-this.d)-this.options.damping*t.v},inherit(EasingAnimation,StateAnimation),EasingAnimation.defaults={exp:1.8},EasingAnimation.presets={easeIn:.6,easeOut:1.8,linear:1},EasingAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),this._callback=e,this._startValue=this.value,this._startTime=Date.now(),this._targetValue=t,this._targetTime=i,this.start()},EasingAnimation.prototype.update=function(){var t=Date.now()-this._startTime,i=this._targetValue-this._startValue;t>=this._targetTime?(this.pause(),this.value=this._targetValue,defer(this._callback||noop),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null,this._callback=null):this.value=Math.pow(t/this._targetTime,this.options.exp)*i+this._startValue};;
function ThresholdObserver(e){this.threshold=e,this._value=null}extend(ThresholdObserver.prototype,EventEmitter),Object.defineProperty(ThresholdObserver.prototype,"value",{get:function(){return this._value},set:function(e){if(null!==this._value&&this._value!==e){var t=this._value-this.threshold,h=e-this.threshold;0>=t*h&&(0>t?this.emit("up"):0>h&&this.emit("down"))}this._value=e}});;
function BaseCreativeUnit(){}inherit(BaseCreativeUnit,View),BaseCreativeUnit.IGNORABLES=["INPUT","SELECT","TEXTAREA","BUTTON"],BaseCreativeUnit.prototype.awake=function(){BaseCreativeUnit.uber.awake.call(this),this._availableSize={width:0,height:0},this._isRendering=!1,this._engagementTracker=null,this._rxState=null,this._rxStateCopies=[]},BaseCreativeUnit.prototype.createNode=function(){return Logger("unit").log("Starting to load "+this),this.on("loaded",creative.adapter.perf.start("CreativeUnit.load").end),creative.experiments.get("TrackingLoadingTimes")&&this.once("_firstScreenLoaded",function(){var e=Date.now()-1e3*creative.runtimeParams.payloadJsClientTimestamp;if(3e4>e){var t={unitName:this.name};creative.aggregatorTracking.trackAggregator("unitLoadTime",e,t),creative.aggregatorTracking.trackAggregator("unitLoadSuccesses",t)}}.bind(this)),creative.adapter.on("mediaStopRequested",function(e){this.emit("mediaStopRequested",e)}.bind(this)),this.unitDiv=BaseCreativeUnit.uber.createNode.call(this),this._engagementTracker=new EngagementTracker(this.unitDiv,creative),Tapper(this.unitDiv,this.useClickForTap),attach(this.unitDiv,"touchstart",this._handleTouchStart.bind(this)),attach(this.unitDiv,"touchmove",this._handleTouchMove.bind(this)),this.unitDiv},BaseCreativeUnit.prototype.setAvailableSize=function(e,t){var r=this._availableSize.width!=e||this._availableSize.height!=t;return this._availableSize.width=e,this._availableSize.height=t,r},BaseCreativeUnit.prototype.getAvailableSize=function(){return{width:this._availableSize.width,height:this._availableSize.height}},BaseCreativeUnit.prototype.enterRenderTree=function(){throw new Error("Not implemented")},BaseCreativeUnit.prototype.exitRenderTree=function(){throw new Error("Not implemented")},BaseCreativeUnit.prototype.finishedLoading=function(){BaseCreativeUnit.uber.finishedLoading.call(this),Logger("unit").log("Finished loading "+this)},BaseCreativeUnit.prototype._handleTouchStart=function(e){if(!this.swipeable&&!creative.adapter.useNativeClickForTapDetection){for(var t=e.target;1!=t.nodeType;)t=t.parentNode;var r=function(){for(;t!==this.unitDiv;){if(t.className&&hasClass(t,"map-container"))return!0;t=t.parentNode}return!1}.bind(this);-1!=BaseCreativeUnit.IGNORABLES.indexOf(t.nodeName)||r()||e.preventDefault()}},BaseCreativeUnit.prototype._handleTouchMove=function(e){this.swipeable||e.preventDefault()},BaseCreativeUnit.prototype.createRxState=function(){this._rxState=this._generateNewRxStateObject()},BaseCreativeUnit.prototype._generateNewRxStateObject=function(){return new StateObject({left:null,top:null,right:null,bottom:null,width:null,height:null,vw:null,vh:null,x:null,y:null,pageYOffset:null})},BaseCreativeUnit.prototype.updateRxState=function(e){if(this._rxState){var t=e.getBoundingClientRect(),r=e.ownerDocument.defaultView;this._rxState.left=~~t.left,this._rxState.top=~~t.top,this._rxState.right=~~t.right,this._rxState.bottom=~~t.bottom,this._rxState.width=~~t.width,this._rxState.height=~~t.height,this._rxState.vw=r.innerWidth,this._rxState.vh=r.innerHeight,this._rxState.pageYOffset=r.pageYOffset,this._rxState.x=~~(t.left+t.width/2-r.innerWidth/2),this._rxState.y=~~(t.top+t.height/2-r.innerHeight/2),this._rxStateCopies.forEach(function(e){e.copyFrom(this._rxState)}.bind(this))}},BaseCreativeUnit.prototype.getRxStateObject=function(){if(this._rxState){var e=this._generateNewRxStateObject();return e.copyFrom(this._rxState),this._rxStateCopies.push(e),e}},BaseCreativeUnit.prototype.goToScreenAction=function(){throw new Error("Not implemented")},BaseCreativeUnit.prototype.alertAction=function(e,t,r){this.alert({message:t.text},r)},BaseCreativeUnit.prototype.checkOrientationAction=function(e,t,r){var a,i=creative.adapter.orientation;0===i||180===i?a=t.onPortrait:(-90==i||90==i)&&(a=t.onLandscape),a?a(e,r):r()},BaseCreativeUnit.prototype.checkOrientationActionDryRun=BaseCreativeUnit.prototype.checkOrientationAction,BaseCreativeUnit.prototype._processURLParams=function(e){return"string"!=typeof e?e:creative.macros(e)},BaseCreativeUnit.prototype._addUrlAppendage=function(e){if(creative.urlOpenedUrlAppendage){var t=this.size.width+"x"+this.size.height,r=function(e){return e.indexOf("?")>=0};return e+(r(e)?"&":"?")+creative.urlOpenedUrlAppendage.replace(new RegExp("{celtraFirstUnitSize}","ig"),t)}return e},BaseCreativeUnit.prototype.openBrowser=function(e,t,r,a){return t?void creative.adapter.trackEventsAndOpenBrowser(this._processURLParams(t),creative.shouldClickThroughToNewWindow(e),r,a):(r||noop)()},BaseCreativeUnit.prototype.openClickThroughDestinationAction=function(e,t,r){var a=creative.clickThroughDestinationUrl,i=creative.shouldClickThroughToNewWindow(e),n=!1,o=2e3,s="clickThroughDestinationOpened",c=function(){n||(n=!0,creative.adapter.openPotentialUniversalOrAppLink(this._processURLParams(a),i))}.bind(this);if(a&&-1==["http://","https://"].indexOf(a)){var l=function(e){return e.indexOf("itunes.apple.com/us/app/")>0},p=function(e){return 0===e.indexOf("market://details?id=")};creative.adapter._stopAllMedia(),l(a)||p(a)?(e.track({name:s,appUri:a}),e.trackClickThrough(),creative.adapter.trackingCenter.flush(),creative.adapter.getApp(this._processURLParams(a))):(a=this._addUrlAppendage(a),e.track({name:s,url:a}),e.trackClickThrough(),!creative.adapter.canOpenUrlInSameWindow||i?(creative.adapter.trackingCenter.flush(),c()):(creative.adapter.trackingCenter.flush(c),defer(c,o)))}else e.track({name:"userError",userErrorId:"exitUriIsEmpty"});e.screen&&creative.adapter.sendToEventMonitor(s,t.triggerId,e.screen.name,a||""),r()},BaseCreativeUnit.prototype.goToURLAction=function(e,t,r){var a=creative.urlOpenedOverrideUrls&&creative.urlOpenedOverrideUrls[t.reportLabel]||t.url,i=creative.shouldClickThroughToNewWindow(e),n=!1,o=2e3,s=function(){n||(n=!0,creative.adapter.openBrowser(this._processURLParams(a),i))}.bind(this),c=(creative.experiments.get("OpenBrowserRefactor")||{}).chosenVariant,l=(creative.experiments.get("WindowOpenWithDelay")||{}).chosenVariant,p=function(e,t,r){c&&creative.aggregatorTracking.trackAggregator("openBrowserRefactor",1,{branch:e,logic:t,environment:r})};if(!a||["http://","https://"].indexOf(a)>-1)return e.track({name:"userError",userErrorId:"exitUriIsEmpty"}),r();a=this._addUrlAppendage(a);var d="urlOpened";if(creative.adapter._stopAllMedia(),e.track({name:d,url:a,label:t.reportLabel}),e.trackClickThrough(),deviceInfo.browser.ie()||deviceInfo.browser.edge())!creative.adapter.canOpenUrlInSameWindow||i?(p("new-window","flush-and-open","desktop-windows"),creative.adapter.trackingCenter.flush(),s()):(p("same-window","flush-then-open","desktop-windows"),creative.adapter.trackingCenter.flush(s),defer(s,o));else if("on"==c)!creative.adapter.canOpenUrlInSameWindow||i?(p("new-window","flush-and-open","all-except-desktop-windows"),creative.adapter.trackingCenter.flush(),s()):(p("same-window","flush-then-open","all-except-desktop-windows"),creative.adapter.trackingCenter.flush(s),defer(s,o));else if(!creative.adapter.canOpenUrlInSameWindow||i){p("new-window","wrap+open","all-except-desktop-windows"),l&&creative.aggregatorTracking.trackAggregator("windowOpenWithDelay",1,{delay:l}),c&&creative.aggregatorTracking.trackAggregator("openBrowserRefactorFlushVsWrap",1,{trackingWith:"wrap"});var u=creative.wrapRedirectPageUrl(this._processURLParams(a));c&&(creative.aggregatorTracking.trackAggregator("openBrowserRefactorFlushVsWrap",1,{trackingWith:"flush"}),creative.adapter.trackingCenter.flush()),"undefined"==typeof l||"control"===l?creative.adapter.openBrowser(u,i):setTimeout(function(){creative.adapter.openBrowser(u,i)},0)}else p("same-window","wrap+open","all-except-desktop-windows"),creative.adapter.openBrowser(creative.wrapRedirectPageUrl(this._processURLParams(a)),i);creative.adapter.sendToEventMonitor(d,t.triggerId,e.screen.name,a,t.reportLabel),r()},BaseCreativeUnit.prototype.facebookURLAction=function(e,t,r){if(!t.url)return r();creative.adapter._stopAllMedia(),e.track({name:"facebookShareAttempt",url:t.url,label:t.reportLabel}),e.trackClickThrough();var a="http://m.facebook.com/sharer.php?u="+encodeURIComponent(t.url);creative.adapter.openBrowser(creative.wrapRedirectPageUrl(a),creative.shouldClickThroughToNewWindow(e)),r()},BaseCreativeUnit.prototype.callURLAction=function(e,t,r){if(!t.url)return r();var a=this._processURLParams(t.url),i=new Image;i.onload=i.onerror=function(){r()},i.src=a},BaseCreativeUnit.prototype.displayImageAction=function(e,t,r){if(!t.file)return r();var a=function(e,a){var i=document.createElement("div");i.className="celtra-display-image-overlay touchable",i.style.backgroundImage='url("'+t.file.getUrl()+'")',this.unitDiv.appendChild(i),(e>this.size.width||a>this.size.height)&&(i.style.backgroundSize="contain"),t.color&&(i.style.backgroundColor=t.color),attach(i,"tap",function(){i.parentNode.removeChild(i),r()},!1);var n=document.createElement("div");n.className="celtra-back-button touchable "+this.alignBackButtonHorizontal,i.appendChild(n)}.bind(this);if(t.file.meta)a(t.file.meta.width,t.file.meta.height);else{var i=new Image;i.onload=function(){a(this.width,this.height)},i.onerror=function(){return console.error("Couldn't display image: "+t.file.getUrl()),r()},i.src=t.file.getUrl()}},BaseCreativeUnit.prototype.saveImageAction=function(e,t,r){function a(a,n){var o=a.getOriginalUrl(),c=a.name,l=a.blobHash;if(i(l),creative.adapter.canSaveImage())creative.adapter.trackingCenter.flush(function(){var a="shared.png";"undefined"!=typeof c?a=c:"string"==typeof n&&n.trim().length>0&&(a=n.trim()+".png"),creative.adapter.saveImage(o,encodeURIComponent(a),r);var i=n||c;creative.adapter.sendToEventMonitor(s,t.triggerId,e.screen.name,i,t.reportLabel)});else{var p=new SaveImageDialog(creative.adapter,creative.resourceUrl,o);p.show(r)}}function i(r){e.track({name:s,blobHash:r,label:t.reportLabel}),e.trackClickThrough()}function n(){creative.adapter.createPlacements({preloader:{attachment:"body",positioning:"screen",type:"layer"}},function(){var e=creative.adapter.placements.preloader;e.setZIndex("max"),e.setSize("100%","100%"),e.setPosition(0,0);var t=e.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=creative.resourceUrl+"runner/clazzes/PostBlobPreloader.css",e.getContainer().appendChild(t);var r=e.createElement("div");addClass(r,"celtra-preloader-container");var a=e.createElement("div");addClass(a,"celtra-preloader-image"),a.style.backgroundImage="url("+creative.resourceUrl+"runner/clazzes/CreativeUnit/preloader.png)",r.appendChild(a),e.populate(r,function(){e.show()})})}function o(){creative.adapter.destroyPlacement("preloader")}var s="imageSaveAttempted";if(t.imageOrigin=t.imageOrigin?t.imageOrigin:"asset","component"==t.imageOrigin&&t.component)if(t.component.file)a(t.component.file,t.component.name);else{var c=t.component.getField();if(null===c)return void r();if(-1===creative.runtimeParams.enabledServices.indexOf("contentSharing"))return void this.alertAction(e,{text:"This feature is not available in your region"},r);var l=c.url,p=l.split(",")[1];n(),postBlob(p,function(e,i){if(o(),i>=200&&300>i){var n=JSON.parse(e),s=creative.cachedApiUrl+"blobs/"+n.hash+"/shared.png",c=new File(s);a(c,t.component.name)}else r()})}else"asset"==t.imageOrigin&&t.file?a(t.file):r()},BaseCreativeUnit.prototype.playSoundAction=function(e,t,r){if(!t.file)return r();var a=new Audio(t.file.getUrl());attach(a,"ended",function(){r()},!1),a.play()},BaseCreativeUnit.prototype.playVideoInPlayerAction=function(e,t,r){if(!t.file)return r();var a=creative.adapter.useFSVP,i=t.file.url?"URL":"File",n=new VideoContext(e,t.file,t.reportLabel);n.track({engineType:"html5",name:"videoPlayAttempted",trackable:a,filename:t.file.name,userInitiated:e.consideredUserInitiatedByBrowser,startMuted:!1,videoPlayerMode:"fullscreen",videoPreset:null,sourceType:i,source:"URL"==i?t.file.url:t.file.blobHash,label:t.reportLabel}),creative.adapter.playVideoInPlayer(n,t,function(a){var i=(a?t.onSuccess:t.onFailure)||nullai;i(e,r)})},BaseCreativeUnit.prototype.playVideoInPlayerActionDryRun=function(e,t,r){return t.file?((t.onSuccess||nullai)(e,noop),(t.onFailure||nullai)(e,noop),void r()):r()},BaseCreativeUnit.prototype.playVideoFromURLAction=function(e,t,r){if(!t.url)return r();var a=t.file=new File(t.url),i=creative.adapter.useFSVP,n=a.url?"URL":"File";creative.adapter._stopAllMedia();var o=new VideoContext(e,a,t.reportLabel);o.track({engineType:"html5",name:"videoPlayAttempted",trackable:i,filename:null,userInitiated:e.consideredUserInitiatedByBrowser,startMuted:!1,videoPlayerMode:"fullscreen",videoPreset:null,sourceType:n,source:"URL"==n?a.url:a.blobHash,label:t.reportLabel}),creative.adapter.playVideoInPlayer(o,t,function(a){var i=(a?t.onSuccess:t.onFailure)||nullai;i(e,r)})},BaseCreativeUnit.prototype.playVideoFromURLActionDryRun=function(e,t,r){return t.url?((t.onSuccess||nullai)(e,noop),(t.onFailure||nullai)(e,noop),void r()):r()},BaseCreativeUnit.prototype.vibrateAction=function(e,t,r){r()},BaseCreativeUnit.prototype.getAppAction=function(e,t,r){var a=(creative.runtimeParams.overrides||creative.runtimeParams).deviceInfo,i=function(e){return new RegExp("(^http(s)?://)|(^market://)","i").test(e)},n=function(){return new RegExp("^\\d+$").test(t.appStoreUrl)?"https://itunes.apple.com/app/id"+t.appStoreUrl:(i(t.appStoreUrl)?"":"http://")+t.appStoreUrl},o=function(){return i(t.androidMarketAppId)?t.androidMarketAppId:android()||"Android"===a.osName?"market://details?id="+t.androidMarketAppId:"https://play.google.com/store/apps/details?id="+t.androidMarketAppId};creative.adapter._stopAllMedia();var s;if(creative.storeOpenedOverrideUrls[t.reportLabel]?s=creative.storeOpenedOverrideUrls[t.reportLabel]:t.appStoreUrl&&(ios()||-1!==["OSX","IOS"].indexOf(a.osName))?s=n():t.androidMarketAppId&&(s=o()),s&&-1==["http://","https://"].indexOf(s)){var c=!ios("9",null),l="storeOpened",p=2,d=function(){creative.adapter.getApp(this._processURLParams(s))}.bind(this),u=function(){if(!--p&&c){d();var r={};t.appStoreUrl&&(r.appStoreUrl=n()),t.androidMarketAppId&&(r.androidMarketAppId=o()),creative.adapter.sendToEventMonitor(l,t.triggerId,e.screen.name,r,t.reportLabel)}}.bind(this);e.track({name:l,appUri:s,label:t.reportLabel},u),e.trackClickThrough(u),c||setTimeout(d,0)}else e.track({name:"userError",userErrorId:"exitUriIsEmpty"});r()},BaseCreativeUnit.prototype.callPhoneAction=function(e,t,r){if(!t.number)return r();creative.adapter._stopAllMedia();var a="phoneCalled",i=deviceInfo.os.ios()&&deviceInfo.browser.safari(),n=function(){creative.adapter.callPhone(t.number),creative.adapter.sendToEventMonitor(a,t.triggerId,e.screen.name,t.number,t.reportLabel)};e.track({name:a,number:t.number,label:t.reportLabel}),e.trackClickThrough(),i?(creative.adapter.trackingCenter.flush(),defer(n)):creative.adapter.trackingCenter.flush(n),r()},BaseCreativeUnit.prototype.answerSurveyQuestion=function(e,t,r){var a=["answerIds","questionId","surveyId"],i=/[0-9a-f]{8}/;a.forEach(function(e){if("answerIds"==e){if(!(t.answerIds instanceof Array))throw new Error("args.answerIds must be an array");t.answerIds.forEach(function(e){if(!i.test(e))throw new Error("args.answerIds must contain Ids that have hexadecimal formatted string containing 8 characters")})}else if(!i.test(t[e]))throw new Error("args."+e+" must be hexadecimal formatted string containing 8 characters")}),e.track({name:"surveyQuestionAnswered",answerIds:t.answerIds,questionId:t.questionId,surveyId:t.surveyId}),r()},BaseCreativeUnit.prototype.saveTheDateAction=function(e,t,r){function a(e){var r;return t.allDay?(r=new CDate,r.value=e.getFullYear()+"-"+zeroPad(e.getMonth()+1)+"-"+zeroPad(e.getDate())):(e="my"===t.timezone?e.getUTCFullYear()+"-"+zeroPad(e.getUTCMonth()+1)+"-"+zeroPad(e.getUTCDate())+" "+zeroPad(e.getUTCHours())+":"+zeroPad(e.getUTCMinutes())+":"+zeroPad(e.getUTCSeconds()):e.getFullYear()+"-"+zeroPad(e.getMonth()+1)+"-"+zeroPad(e.getDate())+" "+zeroPad(e.getHours())+":"+zeroPad(e.getMinutes())+":"+zeroPad(e.getSeconds()),r=new CDateTime,r.value=e,r.tz=t.timezone),r}return t.eventName&&t.location&&t.start?(t.end=t.end||new Date(t.start.getTime()+36e5),t.timezone=t.timezone||"my",t.end<t.start?(console.error("End date must be after the start date!"),r()):-1===["my","utc","user"].indexOf(t.timezone)?(console.error("Invalid timezone argument!"),r()):"undefined"!=typeof t.reminder&&-1===["5m","15m","30m","1h","2h","1d","2d","date"].indexOf(t.reminder)?(console.error("Invalid reminder argument!"),r()):(t.start=a(t.start),t.end=a(t.end),void CCalendar.saveTheDateAction(e,t,r))):(console.error("saveTheDateAction must have eventName, location and start date defined!"),r())},BaseCreativeUnit.prototype.resizeAction=function(){throw new Error("Resize action is not available for this ad format or creative unit")},BaseCreativeUnit.prototype._areRevealResizeActionArgsValid=function(e){var t=["intro","collapsed","maximum","fullscreen"];return-1!==t.indexOf(e.height)},BaseCreativeUnit.prototype.expandAction=function(){throw new Error("Expand action is not available for this ad format or creative unit")},BaseCreativeUnit.prototype._assertAppearBeforeExpand=function(){this.hasAppearedAtLeastOnce||creative.adapter.trackingCenter.track({name:"userError",userErrorId:"expandBeforeAppear"})},BaseCreativeUnit.prototype.collapseAction=function(){throw new Error("Collapse action is not available for this ad format or creative unit")},BaseCreativeUnit.prototype.dismissAction=function(){throw new Error("Dismiss action is not available for this ad format or creative unit")},BaseCreativeUnit.prototype.findAll=function(){throw new Error("Not implemented!")},BaseCreativeUnit.prototype.findByType=function(){throw new Error("Not implemented!")},BaseCreativeUnit.prototype.find=function(e){var t=this.findAll(e);return t.length>0?t[0]:null};;
!function(e){"use strict";var r={};r.toString=function(){return"[Clazz CustomAudiences]"};var t=function(e,r,t,n){function i(r,t){var i=new XMLHttpRequest;i.open(e,u+s+"/"+encodeURIComponent(r)+"/"+encodeURIComponent(t)+"?"+creative.authTokenUrlParam),i.send(n)}if(-1===["PUT","DELETE"].indexOf(e))throw new Error("Unsupported request method: "+e);if("undefined"==typeof creative.runtimeParams.customAudiences[r])throw new Error('Custom audience "'+r+'" is not used by the creative.');creative.runtimeParams.customAudiences[r]={userExists:t,userData:n};var u=creative.secure?creative.customAudiencesUrl:creative.insecureCustomAudiencesUrl,s="/audiences/"+r,o=creative.userIdentifiers;for(var a in o)for(var c in o[a])i(a,o[a][c])};r.addUser=function(e,r){creative.runtimeParams.userOptOut||t("PUT",e,!0,r)},r.removeUser=function(e){creative.runtimeParams.userOptOut||t("DELETE",e,!1)},e.CustomAudiences=r}(window);;
!function(e){"use strict";var t={ambience:"Ambience",animatey:"Animatey",abtest:"Best",basket:"Basket",button:"Button",canvas:"Canvas",celebration:"Celebration",checkbox:"CheckBox",feedbasedchoice:"ChoiceFeed",countdown:"Countdown",draggy:"Draggy",dropdown:"Dropdown",dynamiccontent:"DynamicContent",facebookshare:"FacebookShareButton",fallback:"Fallback",frame:"Frame",flippy:"Flippy",group:"Group",gyro:"Gyro",hotspot:"Hotspot",input:"Input",map:"Map",transitions:"Transitions",mastervideo:"MasterVideo",nearby:"Nearby",painty:"Painty",pannable:"Pannable",particles:"Particle",picture:"Picture",puzzle:"Puzzle",shapey:"Shapey",smoke:"Smoke",stack:"Stack",stopwatch:"Stopwatch",locatorclassic:"StoreLocator2",locator:"StoreLocator3",swipeygallery:"Swipey",swipeygroup:"SwipeyGroup",takephoto:"TakePhotoButton",texty:"Texty",twitterfeed:"TwitterFeed",twittershare:"TwitterShareButton",inlinevideo:"Video","360view":"View360","360video":"Video360","360video":"Video360",weather:"Weather",whatsappshare:"WhatsAppShareButton",wipeable:"Wipeable",youtube:"Youtube",scene:"Scene",brandtracksurvey:"BrandTrackSurvey",brandtrackquestion:"BrandTrackQuestion",customcode:"CustomCode",videoasset:"VideoAsset"},n=function(e){return e=e.toLowerCase().replace(/\W+/g,""),e in t?t[e]:""},o=function(e,t){function n(i){t&&a.length>0||i.forEach(function(t){e(t)&&a.push(t),t.getActiveContainers().forEach(function(e){n(e.objects),o(e.scenes)})})}function o(n){!n||t&&a.length>0||n.forEach(function(t){e(t)&&a.push(t)})}var a=[];return"Screen"==this.constructor.name?(n(this.objects),o(this.scenes)):"function"==typeof this.getActiveContainers&&this.getActiveContainers().forEach(function(e){n(e.objects),o(e.scenes)}),a},a=function(e){var t=o.call(this,e,!0);return t.length>0?t[0]:null},i=function(e){return function(t){return"undefined"==typeof e||t.name==e}},r={findAll:function(e){return o.call(this,i(e))},findByType:function(e){var t=[];return"undefined"==typeof e?t:o.call(this,function(t){return t.constructor.name==n(e)})},findByLocalId:function(e){return a.call(this,function(t){return t.localId==e})},find:function(e){return a.call(this,i(e))}};e.DiscoverableTrait=r}(window);;
!function(e){"use strict";function t(e,t){var i=d[e]||{};return i[t]||[]}function i(e){var t="string"==typeof e?e.split("/"):[];if(!(t.length<2))return t[1]}function r(e){if("undefined"==typeof o[e]&&(o[e]={type:"unknown",rows:[]}),0===e.indexOf("LocationTableImplicitField")&&"unknown"===o[e].type){var t="text";"/website"===e.slice(-8)&&(t="url"),o[e].type=t}return o[e]}function n(){return u?o:(creative.runtimeParams.dynamicContent.forEach(function(e){e.rows.forEach(function(e,t){var i=e.fieldValues;Object.keys(i).forEach(function(e){var n=r(e),d=i[e].metaData,o=i[e].value;n.rows[t]={metadata:"object"==typeof d?JSON.parse(JSON.stringify(d)):null,value:o}})}),e.fields.forEach(function(t){var i="CustomFeedField/"+t.id,n=r(i);n.id=t.id,n.feedId=e.feedId,n.name=t.name,n.type=t.fieldType})}),u=!0,o)}var d={choice:{checkChoiceFeed:["feedFieldKey"],ChoiceFeed:["choiceFeedFieldKey"]},color:{Shapey:["backgroundColorFeedFieldKey"],Texty:["textColorFeedFieldKey"]},font:{Texty:["textFontFeedFieldKey"]},html:{CustomCode:["htmlContentFeedFieldKey"]},image:{Picture:["imageSourceFeedFieldKey"],Swipey:["contentItemsFeedFieldKey"],Video:["posterImageFeedFieldKey"]},text:{Texty:["textContentFeedFieldKey"]},url:{goToFeedURL:["feedFieldKey"]},video:{MasterVideo:["videoSourceFeedFieldKey"],VideoAsset:["videoSourceFeedFieldKey"],Video:["videoSourceFeedFieldKey"]}},o={},u=!1,a={checkAndTrackValue:function(e,t,i,r){e&&(this.isCorrectFieldType(e,i,r)?this.getFieldValueByKey(e,t)||creative.adapter.trackingCenter.track({name:"userError",userErrorId:"feedValueMissing"}):creative.adapter.trackingCenter.track({name:"userError",userErrorId:"feedValueUnlinked"}))},getCustomFields:function(){var e=n();return Object.keys(e).filter(function(e){return 0===e.indexOf("CustomFeedField")}).map(function(t){var i=e[t];return{id:i.id,feedId:i.feedId,name:i.name,type:i.type,values:i.rows.map(function(e){return e.value}).filter(function(e){return null!==e})}})},getCustomFieldByKey:function(e){var t=i(e);if(t)for(var r=this.getCustomFields(),n=0;n<r.length;n++)if(r[n].id===t)return r[n]},getCustomFieldByName:function(e){for(var t,i=this.getCustomFields(),r=0;r<i.length;r++)if(i[r].name===e){t=i[r];break}return t},getFeedByFieldKey:function(e){var t=i(e);if(t)return creative.runtimeParams.dynamicContent.find(function(e){return e.fields.some(function(e){return e.id==t})})},getFieldByKey:function(e){var t=n();return t[e]},getFieldRowsByKey:function(e){var t=this.getFieldByKey(e),i=t?t.rows:[],r=1===i.length&&"string"==typeof i[0].value||i.length>1;return r?i:[]},getFieldRowByKey:function(e,t){t="number"==typeof t?t:0;var i=this.getFieldRowsByKey(e);return i[t]},getFieldValueByKey:function(e,t){var i=this.getFieldRowByKey(e,t);return i&&i.value},isCorrectFieldType:function(e,i,r){var n=this.getFieldByKey(e);if(!n)return!1;var d=t(n.type,i);return-1!==d.indexOf(r)}};e.FeedData=a}(window);;
var FeedImageOptimizationTrait={getFeedImageOptimizationSetting:function(t){if(!this.feedImageOptimizationSettings)return null;for(var e=0;e<this.feedImageOptimizationSettings.length;e++)if(this.feedImageOptimizationSettings[e].feedFieldKey===t)return this.feedImageOptimizationSettings[e];return null}};;
var FeedImageCreator={_createFeedImageFile:function(e,t){var i=e+"FeedFieldKey",n=FeedData.getFieldValueByKey(this[i],t);if("string"!=typeof n||!FeedData.isCorrectFieldType(this[i],this.constructor.name,i))return null;var a=[],r=void 0,d=this.parentScreen&&this.parentScreen.parentContainer?this.parentScreen.parentContainer.getFeedImageOptimizationSetting(this[i]):{};d&&d.optimizedWidth&&d.optimizedHeight&&d.fitting&&(a=a=[{creativeUnitVariantId:this.parentScreen.parentContainer.localId,optimizedWidth:d.optimizedWidth,optimizedHeight:d.optimizedHeight}],r=d.fitting);var h=ScreenObject._toSizePx(this.layoutCurrent.size,this.parentContainer.size),o={height:Math.max(1,h.height),width:Math.max(1,h.width)};return new File({url:n,dynamic:!0,meta:o,optimizationSettings:a,fitting:r})}};;
var UnitVariantSelector={selectBestFitByArea:function(t,e,i,a){var n=t.map(function(t){var n,r=t.baseSize;if(!t.scaleUnit&&(e<r.width||i<r.height))n=0;else if(t.scaleUnit&&(e<r.width||i<t.getComputedHeight(e)))n=0;else{var h;if(a&&"fixed"===t.sizing)h=1;else{var d=r.width/r.height,s=e/i;h=d>s?e/r.width:i/r.height}var u=r.width*r.height*h*h/(e*i);n=u/h}return{variant:t,rank:1e8*n|0}});return n=n.sort(function(t,i){return t.rank===i.rank?t.rank?i.variant.getComputedHeight(e)-t.variant.getComputedHeight(e):t.variant.baseSize.width===i.variant.baseSize.width?t.variant.getComputedHeight(e)-i.variant.getComputedHeight(e):t.variant.baseSize.width-i.variant.baseSize.width:i.rank-t.rank}),n[0].variant},selectWidestThenShortest:function(t,e,i){var a=t.map(function(t){return{variant:t,rank:e<t.baseSize.width||i<t.getComputedHeight(e)?0:t.baseSize.width}});return a=a.sort(a.every(function(t){return!t.rank})?function(t,e){return t=t.variant,e=e.variant,t.baseSize.width==e.baseSize.width?t.getComputedHeight(e.baseSize.width)-e.getComputedHeight(t.baseSize.width):t.baseSize.width-e.baseSize.width}:function(t,i){return t.rank===i.rank?t.variant.getComputedHeight(e)-i.variant.getComputedHeight(e):i.rank-t.rank}),a[0].variant},selectWidestThenTallest:function(t,e){var i=t.map(function(t){return{variant:t,rank:e<t.baseSize.width?0:t.baseSize.width}});return i=i.sort(i.every(function(t){return!t.rank})?function(t,e){return t=t.variant,e=e.variant,t.baseSize.width==e.baseSize.width?e.getComputedHeight(e.baseSize.width)-t.getComputedHeight(t.baseSize.width):t.baseSize.width-e.baseSize.width}:function(t,e){return t.rank==e.rank?e.variant.getComputedHeight(e.variant.baseSize.width)-t.variant.getComputedHeight(t.variant.baseSize.width):e.rank-t.rank}),i[0].variant},selectFittingWidestThenTallest:function(t,e,i){var a=t.map(function(t){return{variant:t,rank:e<t.baseSize.width||i<t.baseSize.height?0:t.baseSize.width}});return a=a.sort(a.every(function(t){return!t.rank})?function(t,e){return t=t.variant,e=e.variant,t.baseSize.width==e.baseSize.width?e.getComputedHeight(e.baseSize.width)-t.getComputedHeight(t.baseSize.width):t.baseSize.width-e.baseSize.width}:function(t,e){return t.rank==e.rank?e.variant.getComputedHeight(e.variant.baseSize.width)-t.variant.getComputedHeight(t.variant.baseSize.width):e.rank-t.rank}),a[0].variant}};;
!function(t){"use strict";var e={stringPatternAngle:"(?:[+-]?\\d*\\.?\\d+)(?:deg|grad|rad|turn)",stringPatternColor:"(?:#(?:[A-Fa-f0-9]{3,6})|(?:(?:rgb|hsl)a?)\\(\\s*(?:\\d+(?:\\%)?\\s*,\\s*){2,3}(?:(?:\\d+\\.)?\\d+)\\s*\\))",stringPatternSideCorner:"top|bottom|left|right",stringPatternValue:"(?:[+-]?\\d*\\.?\\d+)(?:%|[a-z]+)?",patternHex:/^(#|)([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,matchHexHash:1,matchHexColor:2,patternRgb:/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i,matchRgbRed:1,matchRgbGreen:2,matchRgbBlue:3,patternRgba:/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*((?:\d\.)?\d\d?)\s*\)$/i,matchRgbaRed:1,matchRgbaGreen:2,matchRgbaBlue:3,matchRgbaAlpha:4,patternGradient:/^\-?(moz|webkit|o|ms|)(?:(?:-|)(?:repeating-|)(linear|radial|))-gradient\((.*?)\)(?:;|)$/i,matchGradientPrefix:1,matchGradientType:2,matchGradientValues:3,generatedGradientSyntax:null,matchGradientSyntaxLine:1,matchGradientSyntaxAngle:2,matchGradientSyntaxSideCorner:3,matchGradientSyntaxStopList:4,buildGradientSyntax:function(){var t=["(?:to\\s+)?((?:",e.stringPatternSideCorner,")\\s*(?:",e.stringPatternSideCorner,")?)"].join(""),a=["(",e.stringPatternAngle,")"].join(""),n=["(",a,"|",t,")"].join(""),r=[e.stringPatternColor,"\\s*(?:",e.stringPatternValue,")?"].join(""),i=["(?:",r,"\\s*,\\s*)*",r].join(""),o=["^\\s*",n,"\\s*,\\s*(",i,")\\s*$"].join("");return e.generatedGradientSyntax=new RegExp(o,"i"),e.generatedGradientSyntax},generatedRadialGradientSyntax:null,matchRadialGradientSyntaxEllipse:1,matchRadialGradientSyntaxWidth:2,matchRadialGradientSyntaxHeight:3,matchRadialGradientSyntaxXPosition:4,matchRadialGradientSyntaxYPosition:5,matchRadialGradientSyntaxStopList:6,buildRadialGradientSyntax:function(){var t=["(ellipse)?\\s*","(",e.stringPatternValue,")\\s+","(",e.stringPatternValue,")\\s+at\\s+","(",e.stringPatternValue,")\\s+","(",e.stringPatternValue,")"].join(""),a=[e.stringPatternColor,"\\s*(?:",e.stringPatternValue,")?"].join(""),n=["(?:",a,"\\s*,\\s*)*",a].join(""),r=["^\\s*",t,"\\s*,\\s*(",n,")\\s*$"].join("");return e.generatedRadialGradientSyntax=new RegExp(r,"i"),e.generatedRadialGradientSyntax},generatedGradientStopList:null,matchGradientStopListColor:1,matchGradientStopListPosition:2,buildGradientStopList:function(){var t=["\\s*(",e.stringPatternColor,")","(?:\\s+","(",e.stringPatternValue,"))?","(?:\\s*,\\s*)?"].join("");return e.generatedGradientStopList=new RegExp(t,"gi"),e.generatedGradientStopList},gradientOldSideCorner:{"to top":"left bottom, left top","to left":"right top, left top","to bottom":"left top, left bottom","to right":"left top, right top","to top right":"left bottom, right top","to top left":"right bottom, left top","to bottom right":"left top, right bottom","to bottom left":"right top, left bottom"},gradientPrefixedSideCorner:{"to top":"bottom","to left":"right","to bottom":"top","to right":"left","to top right":"bottom left","to top left":"bottom right","to bottom right":"top left","to bottom left":"top right"}};Object.defineProperties(e,{patternGradientSyntax:{get:function(){return null===e.generatedGradientSyntax?e.buildGradientSyntax():e.generatedGradientSyntax}},patternRadialGradientSyntax:{get:function(){return null===e.generatedRadialGradientSyntax?e.buildRadialGradientSyntax():e.generatedRadialGradientSyntax}},patternGradientStopList:{get:function(){return null===e.generatedGradientStopList?e.buildGradientStopList():e.generatedGradientStopList}}}),e.convertAngleToSideCorner=function(t,e){/\-?(moz|webkit|o|ms)/.test(e)&&(t=90-t);var a=(t+360)%360,n="to top";return a>347||14>a?n="to top":a>=14&&75>=a?n="to top right":a>75&&105>a?n="to right":a>=105&&167>=a?n="to bottom right":a>167&&194>a?n="to bottom":a>=194&&255>=a?n="to bottom left":a>255&&285>a?n="to left":a>=285&&347>=a&&(n="to left top"),n},e.convertSideCornerToAngle=function(t,e){var a=0;switch(t){case"bottom":case"to top":a=0;break;case"left":case"to right":a=90;break;case"right":case"to left":a=270;break;case"top":case"to bottom":a=180;break;case"to bottom right":case"to right bottom":a=167;break;case"to bottom left":case"to left bottom":a=194;break;case"to top right":case"to right top":a=14;break;case"to top left":case"to left top":a=347;break;case"bottom right":case"right bottom":a=285;break;case"bottom left":case"left bottom":a=75;break;case"top right":case"right top":a=255;break;case"top left":case"left top":a=105}return/\-?(moz|webkit|o|ms)/.test(e)&&(a=90-a),(a+360)%360},e.isHex=function(t){return e.patternHex.test(t)},e.isRgb=function(t){return e.patternRgb.test(t)},e.isRgba=function(t){return e.patternRgba.test(t)},e.isGradient=function(t){return e.patternGradient.test(t)},e.parseColorStopList=function(t){for(var a,n=e.patternGradientStopList.exec(t),r=[];null!==n;)a={color:n[e.matchGradientStopListColor]},n[e.matchGradientStopListPosition]&&(a.position=n[e.matchGradientStopListPosition]),r.push(a),n=e.patternGradientStopList.exec(t);return r},e.parseGradient=function(t){var a=null,n=e.patternGradient.exec(t);if(null!==n){a={original:n[0],oldSyntax:!n[e.matchGradientType],prefix:n[e.matchGradientPrefix],type:n[e.matchGradientType],colorStopList:[]};var r=e.patternGradientSyntax.exec(n[e.matchGradientValues]);null!==r&&(r[e.matchGradientSyntaxLine]&&(a.line=r[e.matchGradientSyntaxLine]),r[e.matchGradientSyntaxAngle]&&(a.angle=r[e.matchGradientSyntaxAngle]),r[e.matchGradientSyntaxSideCorner]&&(a.sideCorner=r[e.matchGradientSyntaxSideCorner]),a.colorStopList=e.parseColorStopList(r[e.matchGradientSyntaxStopList]));var i=e.patternRadialGradientSyntax.exec(n[e.matchGradientValues]);null!==i&&(a.radialGradientEllipse=i[e.matchRadialGradientSyntaxEllipse],i[e.matchRadialGradientSyntaxWidth]&&(a.radialGradientWidth=i[e.matchRadialGradientSyntaxWidth]),i[e.matchRadialGradientSyntaxHeight]&&(a.radialGradientHeight=i[e.matchRadialGradientSyntaxHeight]),i[e.matchRadialGradientSyntaxXPosition]&&(a.radialGradientXPosition=i[e.matchRadialGradientSyntaxXPosition]),i[e.matchRadialGradientSyntaxYPosition]&&(a.radialGradientYPosition=i[e.matchRadialGradientSyntaxYPosition]),a.colorStopList=e.parseColorStopList(i[e.matchRadialGradientSyntaxStopList]))}return a},e.createGradient=function(t){var a={backgroundColor:null,webkitGradient:null,mozLinearGradient:null,msLinearGradient:null,oLinearGradient:null,webkitLinearGradient:null,linearGradient:null,radialGradient:null},n=e.parseGradient(t);if(n.oldSyntax)throw new Error('[Not supported] Can not create gradient from old "webkit-gradient" syntax.');for(var r="",i="",o=n.colorStopList.length,d=0;o>d;d++){var l=n.colorStopList[d];if(l.color){if(0!==d?(r+=", ",i+=", "):a.backgroundColor=l.color,r+=l.color,i+="color-stop(",l.position)r+=" "+l.position,i+=l.position;else{var s=100/(o-1)*d;i+=s+"%"}i+=", "+l.color+")"}}if("linear"===n.type){var g=0;"undefined"!=typeof n.angle?g=parseInt(n.angle,10):"undefined"!=typeof n.sideCorner&&(g=e.convertSideCornerToAngle(n.line,n.prefix));var c=g;/\-?(moz|webkit|o|ms)/.test(n.prefix)?g=90-c:c=90-g;var p=e.convertAngleToSideCorner(g),G=e.gradientOldSideCorner[p];a.webkitGradient="-webkit-gradient(linear, "+G+", "+i+")",a.mozLinearGradient="-moz-linear-gradient("+c+"deg, "+r+")",a.msLinearGradient="-ms-linear-gradient("+c+"deg, "+r+")",a.oLinearGradient="-o-linear-gradient("+c+"deg, "+r+")",a.webkitLinearGradient="-webkit-linear-gradient("+c+"deg, "+r+")",a.linearGradient="linear-gradient("+g+"deg, "+r+")"}else if("radial"===n.type){var m=parseInt(n.radialGradientWidth,10),h=parseInt(n.radialGradientHeight,10),S=parseInt(n.radialGradientXPosition,10),u=parseInt(n.radialGradientYPosition,10),f=m+"% "+h+"%",b=S+"% "+u+"% ",x=f+" at "+b;a.radialGradient="radial-gradient("+x+", "+r+")"}return a},e.createGradientStyle=function(t){var a=e.createGradient(t),n="";for(var r in a){var i=a[r];null!==i&&e.isGradient(i)&&(n+="background-image: "+i+"; ")}return n},t.Color=e}(window),"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=window.Color);;
!function(){"use strict";var t=[],e=["provider","family","style","weight","stretch"],i=["adobe","custom","google","system"],n=e.concat(["baseUrl","files","projectId","subset"]),o={updateTextStyle:function(){},initializeFont:function(t){this._initialFont instanceof FontBase||(this._initialFont=this.font),this.font.setBaseUrl((creative.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+"fonts/"),t||(this.incrementLoadingCount(),this.loadFont(deferred(this.decrementLoadingCount.bind(this),0,"TextStyleIntegrator.initializeFont deferred loadFont callback"))),this.updateTextStyle()},resetFont:function(){this._initialFont instanceof FontBase&&this.font!==this._initialFont&&(this.font=this._initialFont,this.updateTextStyle())},toSizePx:function(t,e){var i=parseFloat(t);return t.toString().indexOf("vh")>-1&&(i=Math.round(e*i/100)),i},getFontSize:function(){return this.toSizePx(this.fontSize,this.parentScreen.size.height)},getLineSpacing:function(){var t=parseFloat(this.lineSpacing);return String(this.lineSpacing).indexOf("em")>-1&&(t*=this.toSizePx(this.fontSize,this.parentScreen.size.height)),t},getLetterSpacing:function(){var t=parseFloat(this.letterSpacing);return String(this.letterSpacing).indexOf("em")>-1&&(t*=this.toSizePx(this.fontSize,this.parentScreen.size.height)),t},getScaleBaseHeight:function(){return this.scaleBaseHeight},getScaleBaseWidth:function(){return this.scaleBaseWidth},getTextColor:function(){return this.textColor},getTextShadowOffset:function(){var t={x:0,y:0};if("undefined"!=typeof this.textShadow&&this.textShadow){var e=this.textShadowAngle*(Math.PI/180);t.x=Math.round(this.textShadowDistance*Math.cos(e)),t.y=Math.round(this.textShadowDistance*Math.sin(e))}return t},getTextShadowBlur:function(){return android("2")&&this.textShadowBlur<1?1:this.textShadowBlur},getTextPaddingTop:function(){return this.textPaddingTop},getTextPaddingRight:function(){return this.textPaddingRight},getTextPaddingBottom:function(){return this.textPaddingBottom},getTextPaddingLeft:function(){return this.textPaddingLeft},applyTextStyle:function(t){var e=this.font.getCssProperties(),i={fontFamily:e["font-family"],fontStyle:e["font-style"],fontWeight:e["font-weight"],color:this.getTextColor(),letterSpacing:"",textAlign:"",textDecoration:"",textShadow:"",paddingTop:"",paddingRight:"",paddingBottom:"",paddingLeft:""};if("undefined"!=typeof this.textAlign&&(i.textAlign=this.textAlign),"undefined"!=typeof this.textDecoration&&(i.textDecoration=this.textDecoration),"undefined"!=typeof this.letterSpacing&&(i.letterSpacing=this.getLetterSpacing()+"px"),"undefined"!=typeof this.textShadow&&this.textShadow){var n=this.getTextShadowOffset();i.textShadow=n.x+"px "+n.y+"px "+this.getTextShadowBlur()+"px "+this.textShadowColor}var o=this.getTextPaddingTop(),a=this.getTextPaddingRight(),r=this.getTextPaddingBottom(),s=this.getTextPaddingLeft();"number"==typeof o&&(i.paddingTop=o+"px"),"number"==typeof a&&(i.paddingRight=a+"px"),"number"==typeof r&&(i.paddingBottom=r+"px"),"number"==typeof s&&(i.paddingLeft=s+"px"),extend(t.style,i),t.setAttribute("dir",this.textDirection||""),this.checkAndFixAutoWritingDirectionSupport(t)},_writingDirectionFallbackInputListenerRegistered:!1,checkAndFixAutoWritingDirectionSupport:function(t){var e="auto"===this.textDirection&&t.dir!==this.textDirection,i=("start"===this.textAlign||"end"===this.textAlign)&&t.style.textAlign!=this.textAlign;if(e||i){var n=t.tagName.toLowerCase(),o="textarea"===n||"input"===n&&"text"===t.type.toLowerCase();o&&!this._writingDirectionFallbackInputListenerRegistered&&(this._writingDirectionFallbackInputListenerRegistered=!0,attach(t,"input",function(){this._applyWritingDirectionFallbacks(t,t.value)}.bind(this))),(o||"input"!==n)&&this._applyWritingDirectionFallbacks(t,t.innerText)}},_applyWritingDirectionFallbacks:function(t,e){var i,n=guessWritingDirection(e)||"ltr";"start"===this.textAlign&&(i="ltr"===n?"left":"right"),"end"===this.textAlign&&(i="ltr"===n?"right":"left"),t.setAttribute("dir",n||""),i&&(t.style.textAlign=i)},applyTextSize:function(t){var e=this.getNaturalSize(),i=this.getFontSize();this.scaleFont&&this.getScaleBaseWidth()>0&&"undefined"!=typeof this.scaleBaseHeight&&this.getScaleBaseHeight()>0?i=Math.min(i/(this.getScaleBaseWidth()/e.width),i/(this.getScaleBaseHeight()/e.height)):this.scaleFont&&this.getScaleBaseWidth()>0&&(i/=this.getScaleBaseWidth()/e.width);var n={fontSize:i+"px",lineHeight:"",paddingLeft:"",paddingRight:""};if("undefined"!=typeof this.lineSpacing&&(n.lineHeight=Math.max(1,this.getLineSpacing()+i)+"px"),this.scaleFont&&"undefined"!=typeof this.scaleBaseHeight){var o=this.getScaleBaseWidth()/this.getScaleBaseHeight(),a=o*e.height,r=e.width-a;if(r>0)switch(this.textAlign){case"center":n.paddingRight=Math.round(r/2)+"px",n.paddingLeft=Math.round(r/2)+"px";break;case"right":n.paddingLeft=Math.round(r)+"px";break;default:n.paddingRight=Math.round(r)+"px"}}extend(t.style,n)},getFontLoader:function(t){t=t||noop,!this.font.needsLoading()||FontBase.useCSSFontLoadingAPI||"undefined"!=typeof FontLoader?t():loadJS(creative.resourceUrl+"runner-min/FontLoader.js",t)},loadFont:function(t){t=t||noop;var e={fontFamily:this.font.family,fontProvider:this.font.provider,fontStretch:this.font.stretch||"",fontStyle:this.font.style,fontWeight:this.font.weight,fontTtfUrl:this.font.getFileUrl("ttf")||"",fontWoffUrl:this.font.getFileUrl("woff")||"",fontWoff2Url:this.font.getFileUrl("woff2")||""},i=creative.perf.start("TextStyleIntegrator.loadFont",e);this.getFontLoader(function(){var n=creative.perf.start("TextStyleIntegrator.loadStyle",e);this.font.loadStyle(function(o){e.errorMessage=o||"",n.end(),i.end(),o||(this.font.isCustom()&&this.callExternalPageViewCounter(),this.font.isMonotype()&&this.trackMonotypeUsage()),t(o)}.bind(this))}.bind(this))},setFont:function(t){var o=this.font.hasOwnProperty("localId");!o||this._initialFont instanceof FontBase||(this._initialFont=this.font);var a={baseUrl:(creative.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+"fonts/"};n.forEach(function(i){o&&-1!==e.indexOf(i)&&(a[i]=this.font[i]),"undefined"!=typeof t[i]&&(a[i]=t[i])}.bind(this)),"web"===a.provider&&(a.provider="system"),-1===i.indexOf(a.provider)&&(a.provider="custom"),this.font.localId?("custom"===a.provider&&a.family===this.font.family&&(a.family=this.font.family+" (custom)"),this.font=new FontBase(a)):extend(this.font,a),creative.track({name:"retiredFeatureUsed",featureType:"apifunction",featureName:"TextStyleIntegrator.setFont"})},callExternalPageViewCounter:function(){if(this.font.hasTrackingUrlDefined()&&"live"===creative.runtimeParams.purpose){var e=this.font.getTrackingUrl();if(-1===t.indexOf(e)){t.push(e);var i=document.createElement("img");i.src=this.font.getTrackingUrl()}}},trackMonotypeUsage:function(){creative.runtimeParams.monotypeProjectId&&!creative.runtimeParams.monotypeUsageReported&&(creative.runtimeParams.monotypeUsageReported=1,creative.aggregatorTracking.trackAggregator("monotypeUsageReported",{monotypeProjectId:creative.runtimeParams.monotypeProjectId,creativeId:creative.id}))}};window.TextStyleIntegrator=o}();;
!function(e){var o=Date.now||function(){return+new Date},t=60,_=1e3,i={},l=1;e.core?core.effect||(core.effect={}):e.core={effect:{}},core.effect.Animate={requestAnimationFrame:function(){var o=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame,t=!!o;if(o&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(o.toString())&&(t=!1),t)return function(e,t){o(e,t)};var _=60,i={},l=0,n=1,r=null,a=+new Date;return function(e){var o=n++;return i[o]=e,l++,null===r&&(r=setInterval(function(){var e=+new Date,o=i;i={},l=0;for(var t in o)o.hasOwnProperty(t)&&(o[t](e),a=e);e-a>2500&&(clearInterval(r),r=null)},1e3/_)),o}}(),stop:function(e){var o=null!=i[e];return o&&(i[e]=null),o},isRunning:function(e){return null!=i[e]},start:function(e,n,r,a,c,s){var p=o(),h=p,f=0,m=0,u=l++;if(s||(s=document.body),u%20===0){var g={};for(var v in i)g[v]=!0;i=g}var d=function(l){var g=l!==!0,v=o();if(!i[u]||n&&!n(u))return i[u]=null,void(r&&r(t-m/((v-p)/_),u,!1));if(g)for(var T=Math.round((v-h)/(_/t))-1,S=0;S<Math.min(T,4);S++)d(!0),m++;a&&(f=(v-p)/a,f>1&&(f=1));var D=c?c(f):f;e(D,v,g)!==!1&&1!==f||!g?g&&(h=v,core.effect.Animate.requestAnimationFrame(d,s)):(i[u]=null,r&&r(t-m/((v-p)/_),u,1===f||null==a))};return i[u]=!0,core.effect.Animate.requestAnimationFrame(d,s),u}}}(window);var ZyngaScroller;!function(){var e=function(){};ZyngaScroller=function(o,t){this.__callback=o,this.options={scrollingX:!0,scrollingY:!0,animating:!0,animationDuration:250,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3,speedMultiplier:1,scrollingComplete:e,penetrationDeceleration:.03,penetrationAcceleration:.08};for(var _ in t)this.options[_]=t[_]};var o=function(e){return Math.pow(e-1,3)+1},t=function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},_={__isSingleTouch:!1,__isTracking:!1,__didDecelerationComplete:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(e,o,t,_){var i=this;e===+e&&(i.__clientWidth=e),o===+o&&(i.__clientHeight=o),t===+t&&(i.__contentWidth=t),_===+_&&(i.__contentHeight=_),i.__computeScrollMax(),i.scrollTo(i.__scrollLeft,i.__scrollTop,!0)},setPosition:function(e,o){var t=this;t.__clientLeft=e||0,t.__clientTop=o||0},setSnapSize:function(e,o){var t=this;t.__snapWidth=e,t.__snapHeight=o},activatePullToRefresh:function(e,o,t,_){var i=this;i.__refreshHeight=e,i.__refreshActivate=o,i.__refreshDeactivate=t,i.__refreshStart=_},triggerPullToRefresh:function(){this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0),this.__refreshStart&&this.__refreshStart()},finishPullToRefresh:function(){var e=this;e.__refreshActive=!1,e.__refreshDeactivate&&e.__refreshDeactivate(),e.scrollTo(e.__scrollLeft,e.__scrollTop,!0)},getValues:function(){var e=this;return{left:e.__scrollLeft,top:e.__scrollTop,zoom:e.__zoomLevel,isDragging:e.__isDragging}},getScrollMax:function(){var e=this;return{left:e.__maxScrollLeft,top:e.__maxScrollTop}},zoomTo:function(e,o,t,_,i){var l=this;if(!l.options.zooming)throw new Error("Zooming is not enabled!");i&&(l.__zoomComplete=i),l.__isDecelerating&&(core.effect.Animate.stop(l.__isDecelerating),l.__isDecelerating=!1);var n=l.__zoomLevel;null==t&&(t=l.__clientWidth/2),null==_&&(_=l.__clientHeight/2),e=Math.max(Math.min(e,l.options.maxZoom),l.options.minZoom),l.__computeScrollMax(e);var r=(t+l.__scrollLeft)*e/n-t,a=(_+l.__scrollTop)*e/n-_;r>l.__maxScrollLeft?r=l.__maxScrollLeft:0>r&&(r=0),a>l.__maxScrollTop?a=l.__maxScrollTop:0>a&&(a=0),l.__publish(r,a,e,o)},zoomBy:function(e,o,t,_,i){var l=this;l.zoomTo(l.__zoomLevel*e,o,t,_,i)},scrollTo:function(e,o,t,_){var i=this;if(i.__isDecelerating&&(core.effect.Animate.stop(i.__isDecelerating),i.__isDecelerating=!1),null!=_&&_!==i.__zoomLevel){if(!i.options.zooming)throw new Error("Zooming is not enabled!");e*=_,o*=_,i.__computeScrollMax(_)}else _=i.__zoomLevel;i.options.scrollingX?i.options.paging?e=Math.round(e/i.__clientWidth)*i.__clientWidth:i.options.snapping&&(e=Math.round(e/i.__snapWidth)*i.__snapWidth):e=i.__scrollLeft,i.options.scrollingY?i.options.paging?o=Math.round(o/i.__clientHeight)*i.__clientHeight:i.options.snapping&&(o=Math.round(o/i.__snapHeight)*i.__snapHeight):o=i.__scrollTop,e=Math.max(Math.min(i.__maxScrollLeft,e),0),o=Math.max(Math.min(i.__maxScrollTop,o),0),e===i.__scrollLeft&&o===i.__scrollTop&&(t=!1),i.__publish(e,o,_,t)},scrollBy:function(e,o,t){var _=this,i=_.__isAnimating?_.__scheduledLeft:_.__scrollLeft,l=_.__isAnimating?_.__scheduledTop:_.__scrollTop;_.scrollTo(i+(e||0),l+(o||0),t)},doMouseZoom:function(e,o,t,_){var i=this,l=e>0?.97:1.03;return i.zoomTo(i.__zoomLevel*l,!1,t-i.__clientLeft,_-i.__clientTop)},doTouchStart:function(e,o){if(null==e.length)throw new Error("Invalid touch list: "+e);if(o instanceof Date&&(o=o.valueOf()),"number"!=typeof o)throw new Error("Invalid timestamp value: "+o);var t=this;t.__interruptedAnimation=!0,t.__isDecelerating&&(core.effect.Animate.stop(t.__isDecelerating),t.__isDecelerating=!1,t.__interruptedAnimation=!0),t.__isAnimating&&(core.effect.Animate.stop(t.__isAnimating),t.__isAnimating=!1,t.__interruptedAnimation=!0);var _,i,l=1===e.length;l?(_=e[0].pageX,i=e[0].pageY):(_=Math.abs(e[0].pageX+e[1].pageX)/2,i=Math.abs(e[0].pageY+e[1].pageY)/2),t.__initialTouchLeft=_,t.__initialTouchTop=i,t.__zoomLevelStart=t.__zoomLevel,t.__lastTouchLeft=_,t.__lastTouchTop=i,t.__lastTouchMove=o,t.__lastScale=1,t.__enableScrollX=!l&&t.options.scrollingX,t.__enableScrollY=!l&&t.options.scrollingY,t.__isTracking=!0,t.__didDecelerationComplete=!1,t.__isDragging=!l,t.__isSingleTouch=l,t.__positions=[]},doTouchMove:function(e,o,t){if(null==e.length)throw new Error("Invalid touch list: "+e);if(o instanceof Date&&(o=o.valueOf()),"number"!=typeof o)throw new Error("Invalid timestamp value: "+o);var _=this;if(_.__isTracking){var i,l;2===e.length?(i=Math.abs(e[0].pageX+e[1].pageX)/2,l=Math.abs(e[0].pageY+e[1].pageY)/2):(i=e[0].pageX,l=e[0].pageY);var n=_.__positions;if(_.__isDragging){var r=i-_.__lastTouchLeft,a=l-_.__lastTouchTop,c=_.__scrollLeft,s=_.__scrollTop,p=_.__zoomLevel;if(null!=t&&_.options.zooming){var h=p;if(p=p/_.__lastScale*t,p=Math.max(Math.min(p,_.options.maxZoom),_.options.minZoom),h!==p){var f=i-_.__clientLeft,m=l-_.__clientTop;c=(f+c)*p/h-f,s=(m+s)*p/h-m,_.__computeScrollMax(p)}}if(_.__enableScrollX){c-=r*this.options.speedMultiplier;var u=_.__maxScrollLeft;(c>u||0>c)&&(_.options.bouncing?c+=r/2*this.options.speedMultiplier:c=c>u?u:0)}if(_.__enableScrollY){s-=a*this.options.speedMultiplier;var g=_.__maxScrollTop;(s>g||0>s)&&(_.options.bouncing?(s+=a/2*this.options.speedMultiplier,_.__enableScrollX||null==_.__refreshHeight||(!_.__refreshActive&&s<=-_.__refreshHeight?(_.__refreshActive=!0,_.__refreshActivate&&_.__refreshActivate()):_.__refreshActive&&s>-_.__refreshHeight&&(_.__refreshActive=!1,_.__refreshDeactivate&&_.__refreshDeactivate()))):s=s>g?g:0)}n.length>60&&n.splice(0,30),n.push(c,s,o),_.__publish(c,s,p)}else{var v=_.options.locking?3:0,d=5,T=Math.abs(i-_.__initialTouchLeft),S=Math.abs(l-_.__initialTouchTop);_.__enableScrollX=_.options.scrollingX&&T>=v,_.__enableScrollY=_.options.scrollingY&&S>=v,n.push(_.__scrollLeft,_.__scrollTop,o),_.__isDragging=(_.__enableScrollX||_.__enableScrollY)&&(T>=d||S>=d),_.__isDragging&&(_.__interruptedAnimation=!1)}_.__lastTouchLeft=i,_.__lastTouchTop=l,_.__lastTouchMove=o,_.__lastScale=t}},doTouchEnd:function(e){if(e instanceof Date&&(e=e.valueOf()),"number"!=typeof e)throw new Error("Invalid timestamp value: "+e);var o=this;if(o.__isTracking){if(o.__isTracking=!1,o.__isDragging)if(o.__isDragging=!1,o.__isSingleTouch&&o.options.animating&&e-o.__lastTouchMove<=100){for(var t=o.__positions,_=t.length-1,i=_,l=_;l>0&&t[l]>o.__lastTouchMove-100;l-=3)i=l;if(i!==_){var n=t[_]-t[i],r=o.__scrollLeft-t[i-2],a=o.__scrollTop-t[i-1];o.__decelerationVelocityX=r/n*(1e3/60),o.__decelerationVelocityY=a/n*(1e3/60);var c=o.options.paging||o.options.snapping?4:1;(Math.abs(o.__decelerationVelocityX)>c||Math.abs(o.__decelerationVelocityY)>c)&&(o.__refreshActive||o.__startDeceleration(e))}else o.options.scrollingComplete()}else e-o.__lastTouchMove>100&&o.options.scrollingComplete();o.__isDecelerating||(o.__refreshActive&&o.__refreshStart?(o.__publish(o.__scrollLeft,-o.__refreshHeight,o.__zoomLevel,!0),o.__refreshStart&&o.__refreshStart()):((o.__interruptedAnimation||o.__isDragging)&&o.options.scrollingComplete(),o.scrollTo(o.__scrollLeft,o.__scrollTop,!0,o.__zoomLevel),o.__refreshActive&&(o.__refreshActive=!1,o.__refreshDeactivate&&o.__refreshDeactivate()))),o.__positions.length=0}},__publish:function(e,_,i,l){var n=this,r=n.__isAnimating;if(r&&(core.effect.Animate.stop(r),n.__isAnimating=!1),l&&n.options.animating){n.__scheduledLeft=e,n.__scheduledTop=_,n.__scheduledZoom=i;var a=n.__scrollLeft,c=n.__scrollTop,s=n.__zoomLevel,p=e-a,h=_-c,f=i-s,m=function(e,o,t){t&&(n.__scrollLeft=a+p*e,n.__scrollTop=c+h*e,n.__zoomLevel=s+f*e,n.__callback&&n.__callback(n.__scrollLeft,n.__scrollTop,n.__zoomLevel))},u=function(e){return n.__isAnimating===e},g=function(e,o,t){o===n.__isAnimating&&(n.__isAnimating=!1),(n.__didDecelerationComplete||t)&&n.options.scrollingComplete(),n.options.zooming&&(n.__computeScrollMax(),n.__zoomComplete&&(n.__zoomComplete(),n.__zoomComplete=null))};n.__isAnimating=core.effect.Animate.start(m,u,g,n.options.animationDuration,r?o:t)}else n.__scheduledLeft=n.__scrollLeft=e,n.__scheduledTop=n.__scrollTop=_,n.__scheduledZoom=n.__zoomLevel=i,n.__callback&&n.__callback(e,_,i),n.options.zooming&&(n.__computeScrollMax(),n.__zoomComplete&&(n.__zoomComplete(),n.__zoomComplete=null))},__computeScrollMax:function(e){var o=this;null==e&&(e=o.__zoomLevel),o.__maxScrollLeft=Math.max(o.__contentWidth*e-o.__clientWidth,0),o.__maxScrollTop=Math.max(o.__contentHeight*e-o.__clientHeight,0)},__startDeceleration:function(){var e=this;if(e.options.paging){var o=Math.max(Math.min(e.__scrollLeft,e.__maxScrollLeft),0),t=Math.max(Math.min(e.__scrollTop,e.__maxScrollTop),0),_=e.__clientWidth,i=e.__clientHeight;e.__minDecelerationScrollLeft=Math.floor(o/_)*_,e.__minDecelerationScrollTop=Math.floor(t/i)*i,e.__maxDecelerationScrollLeft=Math.ceil(o/_)*_,e.__maxDecelerationScrollTop=Math.ceil(t/i)*i}else e.__minDecelerationScrollLeft=0,e.__minDecelerationScrollTop=0,e.__maxDecelerationScrollLeft=e.__maxScrollLeft,e.__maxDecelerationScrollTop=e.__maxScrollTop;var l=function(o,t,_){e.__stepThroughDeceleration(_)},n=e.options.snapping?4:.1,r=function(){var o=Math.abs(e.__decelerationVelocityX)>=n||Math.abs(e.__decelerationVelocityY)>=n;return o||(e.__didDecelerationComplete=!0),o},a=function(){e.__isDecelerating=!1,e.__didDecelerationComplete&&e.options.scrollingComplete(),e.scrollTo(e.__scrollLeft,e.__scrollTop,e.options.snapping)};e.__isDecelerating=core.effect.Animate.start(l,r,a)},__stepThroughDeceleration:function(e){var o=this,t=o.__scrollLeft+o.__decelerationVelocityX,_=o.__scrollTop+o.__decelerationVelocityY;if(!o.options.bouncing){var i=Math.max(Math.min(o.__maxDecelerationScrollLeft,t),o.__minDecelerationScrollLeft);i!==t&&(t=i,o.__decelerationVelocityX=0);var l=Math.max(Math.min(o.__maxDecelerationScrollTop,_),o.__minDecelerationScrollTop);l!==_&&(_=l,o.__decelerationVelocityY=0)}if(e?o.__publish(t,_,o.__zoomLevel):(o.__scrollLeft=t,o.__scrollTop=_),!o.options.paging){var n=.95;o.__decelerationVelocityX*=n,o.__decelerationVelocityY*=n}if(o.options.bouncing){var r=0,a=0,c=o.options.penetrationDeceleration,s=o.options.penetrationAcceleration;t<o.__minDecelerationScrollLeft?r=o.__minDecelerationScrollLeft-t:t>o.__maxDecelerationScrollLeft&&(r=o.__maxDecelerationScrollLeft-t),_<o.__minDecelerationScrollTop?a=o.__minDecelerationScrollTop-_:_>o.__maxDecelerationScrollTop&&(a=o.__maxDecelerationScrollTop-_),0!==r&&(r*o.__decelerationVelocityX<=0?o.__decelerationVelocityX+=r*c:o.__decelerationVelocityX=r*s),0!==a&&(a*o.__decelerationVelocityY<=0?o.__decelerationVelocityY+=a*c:o.__decelerationVelocityY=a*s)}}};for(var i in _)ZyngaScroller.prototype[i]=_[i]}();;
function Scroller(t,i,o){this.container=t,this.list=i,this.options=o||{},this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._handleScroll=this._handleScroll.bind(this),this.silentScrolling=!1,this.zyngaScroller=new ZyngaScroller(this._handleScroll,{scrollingX:"vertical"===this.options.direction?!1:!0,scrollingY:"horizontal"===this.options.direction?!1:!0,bouncing:!!this.options.bouncing,animating:!!this.options.animating,locking:!!this.options.locking,snapping:!!this.options.snapping,animationDuration:"undefined"!=typeof this.options.animationDuration?this.options.animationDuration:250,scrollingComplete:deferred(this.emits("scrollingEnd"))}),this.setEasing("undefined"==typeof this.options.easing?!0:this.options.easing),this.redraw()}extend(Scroller.prototype,EventEmitter),Object.defineProperty(Scroller.prototype,"isDragging",{get:function(){return this.zyngaScroller.getValues().isDragging}}),Scroller._owner="celtra",Scroller.prototype._handleScroll=function(t,i){t=isNaN(t)?0:t,i=isNaN(i)?0:i;var o=this.getMaxScroll();this.currentPosition={left:t,top:i,leftPercent:o.left?t/o.left:0,topPercent:o.top?i/o.top:0},celtra.styler.css(this.list,"transform",ScreenObject.supports3d?"translate3d("+-t+"px, "+-i+"px, 0)":"translate("+-t+"px, "+-i+"px)"),this.scrollbars&&(this.currentPosition.sbTop=this.currentPosition.top/(this.list.size.height-this.container.size.height)*(this.container.size.height-parseInt(this.scrollbars.verticalStyle.height,10)),this.currentPosition.sbLeft=this.currentPosition.left/(this.list.size.width-this.container.size.width)*(this.container.size.width-parseInt(this.scrollbars.horizontalStyle.width,10)),this.currentPosition.sbTopPercent=this.currentPosition.sbTop/(this.container.size.height-parseInt(this.scrollbars.verticalStyle.height,10)),this.currentPosition.sbLeftPercent=this.currentPosition.sbLeft/(this.container.size.width-parseInt(this.scrollbars.horizontalStyle.width,10)),this._renderScrollbars(this.currentPosition.sbLeft,this.currentPosition.sbTop)),this.silentScrolling||this.emit("scrolling",this.currentPosition)},Scroller.prototype._handleTouchStart=function(t){this.zyngaScroller.doTouchStart(t.touches,t.timeStamp),this.emit("scrollingStart")},Scroller.prototype._handleTouchMove=function(t){this.zyngaScroller.doTouchMove(t.touches,t.timeStamp)},Scroller.prototype._handleTouchEnd=function(t){this.zyngaScroller.doTouchEnd(t.timeStamp)},Scroller.prototype._createScrollbars=function(){var t=document.createElement("div");addClass(t,"celtra-vertical-scrollbar"),addClass(t,this.options.scrollbarPosition||"none"),this.container.appendChild(t);var i=document.createElement("div");t.appendChild(i),t.style.height=Math.round(this.container.size.height/this.list.size.height*this.container.size.height)+"px",t.style.backgroundColor=this.options.scrollbarColor,t.style.display=this.list.size.height<=this.container.size.height?"none":"block";var o=document.createElement("div");addClass(o,"celtra-horizontal-scrollbar"),addClass(o,this.options.scrollbarPosition||"none"),this.container.appendChild(o);var e=document.createElement("div");o.appendChild(e),o.style.width=Math.round(this.container.size.width/this.list.size.width*this.container.size.width)+"px",o.style.backgroundColor=this.options.scrollbarColor,o.style.display=this.list.size.width<=this.container.size.width?"none":"block",this.scrollbars={vertical:t,horizontal:o,verticalStyle:t.style,horizontalStyle:o.style}},Scroller.prototype.scrollTo=function(t,i,o,e,s,n){this._scroll("scrollTo",{left:t,top:i,animate:o,duration:e,easing:s,callback:n})},Scroller.prototype.scrollBy=function(t,i,o,e,s,n){this._scroll("scrollBy",{left:t,top:i,animate:o,duration:e,easing:s,callback:n})},Scroller.prototype._scroll=function(t,i){i.animate&&("number"==typeof i.duration?this._setAnimationDuration(i.duration):"boolean"==typeof i.duration&&(i.easing=i.duration),"boolean"==typeof i.easing&&this.setEasing(i.easing)),this.once("scrollingEnd",function(){"function"==typeof i.callback&&i.callback()}),this.zyngaScroller[t](i.left,i.top,i.animate),this.emit("scrollingStart")},Scroller.prototype.getMaxScroll=function(){return{left:this.zyngaScroller.__maxScrollLeft,top:this.zyngaScroller.__maxScrollTop}},Scroller.prototype.getCurrentScroll=function(){return this.currentPosition},Scroller.prototype._setAnimationDuration=function(t){this.zyngaScroller.options.animationDuration=t},Scroller.prototype.setEasing=function(t){this.options.easing=t,this.zyngaScroller.__publish=function(i,o,e,s){var n=this,r=function(t){return Math.pow(t-1,3)+1},l=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},a=n.__isAnimating;if(a&&(core.effect.Animate.stop(a),n.__isAnimating=!1),s&&n.options.animating){n.__scheduledLeft=i,n.__scheduledTop=o,n.__scheduledZoom=e;var c=n.__scrollLeft,h=n.__scrollTop,p=n.__zoomLevel,d=i-c,u=o-h,_=e-p,g=function(t,i,o){o&&(n.__scrollLeft=c+d*t,n.__scrollTop=h+u*t,n.__zoomLevel=p+_*t,n.__callback&&n.__callback(n.__scrollLeft,n.__scrollTop,n.__zoomLevel))},S=function(t){return n.__isAnimating===t},z=function(t,i,o){i===n.__isAnimating&&(n.__isAnimating=!1),(n.__didDecelerationComplete||o)&&n.options.scrollingComplete(),n.options.zooming&&(n.__computeScrollMax(),n.__zoomComplete&&(n.__zoomComplete(),n.__zoomComplete=null))};n.__isAnimating=t?core.effect.Animate.start(g,S,z,n.options.animationDuration,a?r:l):core.effect.Animate.start(g,S,z,n.options.animationDuration)}else n.__scheduledLeft=n.__scrollLeft=i,n.__scheduledTop=n.__scrollTop=o,n.__scheduledZoom=n.__zoomLevel=e,n.__callback&&n.__callback(i,o,e),n.options.zooming&&(n.__computeScrollMax(),n.__zoomComplete&&(n.__zoomComplete(),n.__zoomComplete=null))}},Scroller.prototype.redraw=function(){this.container.size={width:this.container.offsetWidth,height:this.container.offsetHeight},this.list.size={width:this.list.offsetWidth,height:this.list.offsetHeight},this.zyngaScroller.setDimensions(this.container.size.width,this.container.size.height,this.list.size.width,this.list.size.height),this.options.snapping&&this._setSnapSize(this.container.size.width,this.container.size.height);var t=this.getMaxScroll();this.zyngaScroller.scrollTo(t.left*this.currentPosition.leftPercent,t.top*this.currentPosition.topPercent,!1),this.scrollbars?(this.scrollbars.verticalStyle.height=Math.round(this.container.size.height/this.list.size.height*this.container.size.height)+"px",this.scrollbars.horizontalStyle.width=Math.round(this.container.size.width/this.list.size.width*this.container.size.width)+"px",this.currentPosition.sbTop=(this.container.size.height-parseInt(this.scrollbars.verticalStyle.height,10))*this.currentPosition.sbTopPercent,this.currentPosition.sbLeft=(this.container.size.width-parseInt(this.scrollbars.horizontalStyle.width,10))*this.currentPosition.sbLeftPercent,this._renderScrollbars(this.currentPosition.sbLeft,this.currentPosition.sbTop)):("outer"===this.options.scrollbarPosition||"inner"===this.options.scrollbarPosition)&&this._createScrollbars()},Scroller.prototype._renderScrollbars=function(t,i){ScreenObject.allowPositioningAndSizingUsingTransforms?(celtra.styler.css(this.scrollbars.vertical,"transform",ScreenObject.supports3d?"translate3d(0, "+i+"px, 0)":"translate(0, "+i+"px)"),celtra.styler.css(this.scrollbars.horizontal,"transform",ScreenObject.supports3d?"translate3d("+t+"px, 0, 0)":"translate("+t+"px, 0)")):(this.scrollbars.verticalStyle.top=i+"px",this.scrollbars.horizontalStyle.left=t+"px"),this.container.size.height>=this.list.size.height?(this.scrollbars.verticalStyle.display="none",removeClass(this.container,"vertical-scrollbar")):(this.scrollbars.verticalStyle.display="block",addClass(this.container,"vertical-scrollbar")),this.container.size.width>=this.list.size.width?(this.scrollbars.horizontalStyle.display="none",removeClass(this.container,"horizontal-scrollbar")):(this.scrollbars.horizontalStyle.display="block",addClass(this.container,"horizontal-scrollbar"))},Scroller.prototype._setSnapSize=function(t,i){this.zyngaScroller.setSnapSize(t,i)};;
function Creative(e,t,r,n,i,a,o,s,u,c,d,m,p){if(e instanceof Creative)throw"This JSON has already been unfreezed. We do it inline, to improve performance. Duplicate it yourself before unfreezing, if you need to use it again.";var v=p.start("Creative.new"),f=extend({adapter:a,runtimeParams:t||{},urlOpenedOverrideUrls:s,urlOpenedUrlAppendage:d,clickThroughDestinationUrl:m,storeOpenedOverrideUrls:u,macros:c},o),l=p.start("Creative.unfreeze");return e=Freezer.unfreeze(e,window,f),l.end(),e.instantiation=randInt(),e.batcher=new Batcher({protoLoading:a.protoLoading}),e.trackingCenter=r,e.universalInteractionId="",e.aggregatorTracking=n,e.experiments=i,e.perf=p,e.platformAdvId=t.platformAdvId,e.platformAdvIdTrackingLimited=t.platformAdvIdTrackingLimited,"undefined"!=typeof a&&null!==a&&(a.openBrowserSameWindowInHostileIFrame=function(e){window.top.location.href=e}),v.end(),e}Creative.toString=function(){return"[Clazz Creative]"},Creative.prototype.toString=function(){return"[Creative "+this.name+"]"},window.creative=null,extend(Creative.prototype,EventEmitter),Creative.init=function(e,t,r,n,i,a,o,s,u,c,d,m,p){if(window.creative)throw"creative is a singleton and was already initialized.";Logger.initFromRuntimeParams(t),window.creative=new Creative(e,t,r,n,i,a,o,s,u,c,d,m,p)},Creative.prototype.userInteracted=function(e){this.emit("interaction",e)},Creative.prototype.clickedThrough=function(e){this.emit("clickThrough",e)},Creative.prototype._getRuntimeParamsWithPrefix=function(e){var t={};for(var r in this.runtimeParams)0===r.indexOf(e)&&(t[r.slice(e.length)]=this.runtimeParams[r]);return t},Object.defineProperties(Creative.prototype,{sessionId:{enumerable:!0,get:function(){return this.runtimeParams.sessionId}},placementId:{enumerable:!0,get:function(){return this.runtimeParams.placementId||null}},folderId:{enumerable:!0,get:function(){return this.runtimeParams.folderId}},supplierId:{enumerable:!0,get:function(){return this.runtimeParams.supplierId||null}},secure:{enumerable:!0,get:function(){return 1==this.runtimeParams.secure}},userParams:{enumerable:!0,get:function(){return this._getRuntimeParamsWithPrefix("user.")}},userIdentifiers:{enumerable:!0,get:function(){return this.runtimeParams.userIdentifiers}},authTokenUrlParam:{enumerable:!1,get:function(){return"authBasis="+creative.runtimeParams.authBasis+"&authToken="+creative.runtimeParams.authToken}},customAudiences:{enumerable:!0,get:function(){return function(e){if(!creative.runtimeParams.customAudiences[e])throw new Error('Custom audience "'+e+'" is not used by the creative.');return{userExists:creative.runtimeParams.customAudiences[e].userExists,userData:creative.runtimeParams.customAudiences[e].userData,addUser:function(t){return CustomAudiences.addUser(e,t)},removeUser:function(){return CustomAudiences.removeUser(e)}}}}},acceptLanguage:{enumerable:!0,get:function(){return this.runtimeParams.acceptLanguage}}}),Creative.prototype.awake=function(){function e(r,n,i,a){r.forEach(function(r){r.parentUnit=a,r.parentScreen=i,r.parentContainer=n;var o=r.getNestedContainers();o.forEach(function(n){n.parentUnit=a,n.parentScreen=i,n.parentObject=r,e(n.objects,n,i,a),n.scenes&&t(n.scenes,n,i,a)})})}function t(e,t,r,n){e.forEach(function(e){e.parentUnit=n,e.parentScreen=r,e.parentContainer=t})}var r=this;for(var n in r.units){var i=r.units[n];i.name=n;var a=[];i.variants?i.variants.forEach(function(e){a=a.concat(e.master,e.screens),e.loadingScreen&&(a=[e.loadingScreen].concat(a))}):(a=[i.master].concat(i.screens),i.loadingScreen&&(a=[i.loadingScreen].concat(a))),a.forEach(function(r){r.parentUnit=i,e(r.objects,r,r,i),r.scenes&&t(r.scenes,r,r,i)})}},Creative.prototype.track=function(e,t){["firstInteraction","interaction","endCardInteraction","unitCollapsed","creativeDismissed","clickThroughDestinationOpened","firstClickThrough","itemSwiped"].indexOf(e.name)>=0&&(e=extend(e,{universalInteractionId:this.universalInteractionId})),this.trackingCenter.track(e,t)},Creative.prototype.setUniversalInteractionId=function(e){this.universalInteractionId=e},Creative.prototype.wrapRedirectPageUrl=function(e,t){return this.trackingCenter.wrapRedirectPageUrl(e,t)},Object.defineProperty(Creative.prototype,"sdk",{get:function(){return this.adapter},enumerable:!0}),Creative._throw=function(e){throw e},Creative.prototype.getUserInteracted=function(){return 1==this.runtimeParams.userInteracted},Creative.prototype.trackCreativeRendered=function(){creative.adapter.notifycreativeRendered(),this._getCreativeRendered()||(this.track({name:"creativeRendered"}),this.runtimeParams.creativeRendered=1,defer(this.trackingCenter.batchFlush))},Creative.prototype._getCreativeRendered=function(){return 1===this.runtimeParams.creativeRendered},Creative.prototype.trackCreativeRenderedOnScreenShow=Creative.prototype.trackCreativeRendered,Creative.prototype.trackCreativeRenderedOnVideoStart=noop,Creative.trackCustomEventAction=function(e,t,r){var n="custom";e.track({name:n,label:t.name}),creative.adapter.sendToEventMonitor(n,t.triggerId,e.screen.name,null,t.name),r&&r()},Creative.prototype.trackCreativeLoaded=function(e){this.track({name:"creativeLoaded",viewability00Measurable:e.observingViewability("00"),viewability501Measurable:e.observingViewability("501"),viewableTimeMeasurable:e.observingViewableTime(),cdnVariant:this.runtimeParams.variantChoices.CdnTiming||"none"}),defer(this.trackingCenter.batchFlush),this.perf._stopTrackingDefers=!0,this.perf.mark("creativeLoaded")},Creative.prototype.createUserLocation=function(e){return"undefined"!=typeof UserLocation?new UserLocation({lat:this.runtimeParams.gpsLat,lng:this.runtimeParams.gpsLng},e):void 0},Creative.prototype.getPageUrl=function(e){return(this.secure?this.creativeUrl:this.insecureCreativeUrl)+e+"?base64json="+encodeURIComponent(btoa(to_utf8(JSON.stringify(this.runtimeParams))))},Creative.prototype.shouldClickThroughToNewWindow=function(e){var t;t=["same","new"].indexOf(this.runtimeParams.preferredClickThroughWindow)>=0?this.runtimeParams.preferredClickThroughWindow:"new",creative&&creative.adapter.nesting.hostileIframe&&(t="new");var r=e&&e.inUserInitiatedIteration,n=deviceInfo.os.android()&&deviceInfo.browser.facebookApp();return"new"==t&&r&&!n},Creative.prototype.getFeedFields=function(){return FeedData.getCustomFields()},Creative.prototype.getFeedFieldByName=function(e){return FeedData.getCustomFieldByName(e)},Creative.prototype.getAllFeedFieldsByName=function(e){return FeedData.getCustomFields().filter(function(t){return t.name===e})};;
function CrossScreenBanner(){}inherit(CrossScreenBanner,Creative),CrossScreenBanner.toString=function(){return"[Clazz CrossScreenBanner]"},CrossScreenBanner.prototype.toString=function(){return"[CrossScreenBanner "+this.name+"]"},CrossScreenBanner.prototype.awake=function(){CrossScreenBanner.uber.awake.apply(this,arguments),this.adapter.wrapRedirectPageUrl=this.wrapRedirectPageUrl.bind(this),this.units.banner.dismissAction=function(e,n,r){e.track({name:"creativeDismissed"}),creative.adapter.dismiss(r,n)}.bind(this),this.units.banner.trackCreativeDismissed=function(){new ActionContext(this.currentScreen).track({name:"creativeDismissed"})},this.units.banner.userLocation=this.createUserLocation(!1)};;
var Kernel={};Kernel.toString=function(){return"[Clazz Kernel]"},Kernel.runInParallelAction=function(e,n,t){n.actions.waitForEach(function(n,t){n(e,t)},t)},Kernel.runInParallelActionDryRun=Kernel.runInParallelAction,Kernel.runInBackgroundAction=function(e,n,t){n.action&&n.action(e,noop),t()},Kernel.runInSequenceAction=function(e,n,t){for(var r=t,i=n.actions.length-1;i>=0;i--)r=function(n,t){return function(){t(e,n)}}(r,n.actions[i]);r()},Kernel.runInSequenceActionDryRun=Kernel.runInSequenceAction,Kernel.runNTimesAction=function(e,n,t){n.caller.hasOwnProperty("executionsLeft")||(n.caller.executionsLeft=n.repeat),n.caller.executionsLeft>0?(n.caller.executionsLeft--,(n.action||nullai)(e,t)):t&&t()},Kernel.runNTimesActionDryRun=function(e,n,t){(n.action||nullai)(e,t)},Kernel.loopAction=function(e,n,t){function r(){return 0==i?t():(-1!=i&&i--,void(n.action||nullai)(e,"thumb"===creative.runtimeParams.purpose?t:r))}var i=n.repeat;r()},Kernel.loopActionDryRun=function(e,n,t){(n.action||nullai)(e,t)},Kernel.sleepAction=function(e,n,t){setTimeout(t,n.duration)},Kernel.executeJavascriptAction=function(e,n,t){try{var r=e.initiator,i=e.screen.parentUnit,c=e.screen,a=new Function("ctx","c","unit","screen","variant",n.script.code),o=!1,u=i.getVariantForScreen?i.getVariantForScreen(c):void 0;null!==n.script.code.match(/http:/)&&this._track("executeJavascriptAction.code");var l=function(){o?console.warn('Multiple calls made to "c()" from "'+e.initiator.fieldName+'" Execute JS Action'):(t(),o=!0)}.bind(this);a.call(r,e,l,i,c,u)}catch(s){console.error(s.message+"\n"+s.stack)}},Kernel.randomAction=function(e,n,t){var r=0;if(n.outcomes.forEach(function(e){r+=e.weight}),!r)return t();for(var i=Math.random()*r,c=0;c<n.outcomes.length;c++){var a=n.outcomes[c];if(i-=a.weight,0>i)return(a.action||nullai)(e,t)}},Kernel.randomActionDryRun=function(e,n,t){n.outcomes.forEach(function(n){(n.action||nullai)(e,noop)}),t()},Kernel.bestAction=function(e,n,t){var r=creative.experiments.get("Best",[creative.id,n.experimentName]);r.trackExposure();var i=n.outcomes.filter(function(e){return e.experimentVariant==r.chosenVariant})[0],c=i?i:n.outcomes[0];(c.action||nullai)(e,t)},Kernel.bestActionDryRun=function(e,n,t){var r=creative.experiments.get("Best",[creative.id,n.experimentName]),i=n.outcomes.filter(function(e){return e.experimentVariant==r.chosenVariant})[0],c=i?i:n.outcomes[0];(c.action||nullai)(e,t)},Kernel.trackBestVariantSuccessAction=function(e,n,t){var r=creative.experiments.get("Best",[creative.id,n.experimentName]);r.trackSuccess(),creative.adapter.sendToEventMonitor("trackBestVariantSuccess",n.triggerId,e.screen.name,r.chosenVariant,""),t()},Kernel._track=function(e){this._privateApiTracked=this._privateApiTracked||{},this._privateApiTracked[e]||(this._privateApiTracked[e]=!0,creative.track({name:"retiredFeatureUsed",featureType:"loadingInsecureContent",featureName:e}))};;
;
function Scene(){}Scene.instances=[],Scene.prototype.awake=function(){this._framesPerSecond=this.framesPerSecond&&null!==this.framesPerSecond?this.framesPerSecond:20,this._framesPerPixel=.1,this._durationInFrames=0,this._durationInMilliseconds=0,this._durationInPixels=0,this._isTimeScene="time"===this.type,this._isReactiveScene="reactiveBanner"===this.type,this._lastUpdateObjectsProgress=0,this._objectVisibilityStates=[],this._claimedObjects=[],this._keyframeAnimations=Object.create(null),this._rawInitialValues=[],this._initSceneOnRenderApiCall=!0,this._suspended=!1,this.fallbackFrameShown=!1,this.forceFallbackFrame=!1,this.intersection="undefined"!=typeof this.intersection?this.intersection:50,this.endingMode="string"==typeof this.endingMode?this.endingMode:"lastKeyframe",this.duration="number"==typeof this.duration?this.duration:10,this._appearedBefore=!1,this._isAppearing=!1,this._calculateDurations=this._calculateDurations.bind(this),this._buildKeyframeAnimations=this._buildKeyframeAnimations.bind(this),this._removeAnimatedClass=this._removeAnimatedClass.bind(this),this._renderOnSizeChange=this._renderOnSizeChange.bind(this),this._initPlayer(),this.parentContainer.on("appeared",this._appear.bind(this)),this.parentContainer.on("disappeared",this._dissapear.bind(this)),this.parentContainer.on("resize",this._calculateDurations),this.parentContainer.on("resize",this._buildKeyframeAnimations),this.parentContainer.on("resize",this._renderOnSizeChange),this.parentUnit.on("layoutChanged",this._calculateDurations),this.parentUnit.on("layoutChanged",this._buildKeyframeAnimations),this.parentUnit.on("layoutChanged",this._renderOnSizeChange),Scene.instances.push(this)},Scene._sizeProperties=["width","height"],Scene._positionProperties={horizontal:["left","hcenter","right"],vertical:["top","vcenter","bottom"]},Object.defineProperties(Scene.prototype,{paused:{get:function(){return this._player.paused}},_scenePlayerClazz:{get:function(){return window[this.type.charAt(0).toUpperCase()+this.type.slice(1)+"ScenePlayer"]},configurable:!0}}),Scene.prototype._initPlayer=function(){this._player=new this._scenePlayerClazz(this),this._player.on("stop",this._resetRawInitialValues.bind(this)),this._player.on("end",this._updateRawFinalValuesForAllLayouts.bind(this)),this._player.on("pause",this._removeAnimatedClass),this._player.on("stop",this._removeAnimatedClass)},Scene.prototype._removeAnimatedClass=function(){for(var e in this._claimedObjects)removeClass(this._claimedObjects[e].node,"animated")},Scene.prototype._getMaxFrameNumber=function(){if(this._isTimeScene&&"timelineDuration"===this.endingMode)return this.duration*this._framesPerSecond;var e=0;for(var t in this.objects){var i=this.objects[t],n=this.parentUnit.layoutCurrentIndex;for(var a in i.layoutSpecificValues[n]){var s=i.layoutSpecificValues[n][a];e=Math.max(e,s.frame)}}return e},Scene.prototype._calculateDurations=function(){this._durationInFrames=this._getMaxFrameNumber(),this._durationInMilliseconds=this._durationInFrames/this._framesPerSecond*1e3,this._durationInPixels=this._durationInFrames/this._framesPerPixel},Scene.prototype._captureRawInitialValues=function(e){this._rawInitialValues[e.localId]=[];for(var t=this.parentScreen.parentContainer.layouts.length,i=0;t>i;i++){var n=e.layoutSpecificValues[i];this._rawInitialValues[e.localId][i]=extend({rotation:n.rotation,opacity:n.opacity,hidden:n.hidden},n.position,n.size)}},Scene.prototype._calculateFinalValuesForObject=function(e){var t=[];for(var i in this.objects){var n=this.objects[i];if(n.target.localId==e.localId)for(var a in n.layoutSpecificValues){t[a]=Object.create(null);for(var s in n.layoutSpecificValues[a]){var r=n.layoutSpecificValues[a][s];for(var o in r.properties)null!==r.properties[o].value&&(t[a][o]=r.properties[o].value)}}}return t},Scene.prototype._updateRawFinalValuesForAllLayouts=function(){if("reverse"!==this.onEnd)for(var e in this._claimedObjects)for(var t=this._claimedObjects[e],i=this._calculateFinalValuesForObject(t),n=this.parentScreen.parentContainer.layouts.length,a=0;n>a;a++){var s=t.layoutSpecificValues[a],r=i[a];Scene._updateLayoutWithValues(s,r)}},Scene.prototype._buildKeyframeAnimations=function(){this._keyframeAnimations=Object.create(null);for(var e=this.parentUnit.layoutCurrentIndex,t=0;t<this.objects.length;t++){var i=this.objects[t],n=i.layoutSpecificValues[e];this._keyframeAnimations[i.target.localId]={firstFrameAnimated:!1},n.sort(function(e,t){return e.frame-t.frame});for(var a=0,s=Object.create(null),r=0;r<n.length;r++){var o=n[r];a=0===this._durationInFrames?0:o.frame/this._durationInFrames*100,s[String(a)]=Scene._extractPropertyValues(o.properties),0===~~r&&(this._keyframeAnimations[i.target.localId].startKeyframe=a)}this._keyframeAnimations[i.target.localId].endKeyframe=a;var l=KeyframeAnimation.getUsedProperties(s);this._rawInitialValues[i.target.localId]||this._captureRawInitialValues(i.target);var c=this._rawInitialValues[i.target.localId][e];Scene._fillInInitialAndDynamicKeyframeValues(s,c,l);var h=i.target.parentContainer.size;for(var p in s)Scene._keyframeWithUnitsToKeyframePx(s[p],h);var d=new KeyframeAnimation(s,null,l);this._keyframeAnimations[i.target.localId].animation=d}},Scene.prototype._dissapear=function(){(!this._player.paused||this.fallbackFrameShown)&&this._suspendScene(),this._isAppearing=!1},Scene.prototype._appear=function(){this._appearedBefore||(creative.adapter.canMeasureViewportPlacementGeometry?this.parentScreen.parentContainer.inView.on("areaInViewRatioChanged",this._handleAreaInViewRatioChanged.bind(this)):creative.adapter.containerViewabilityObserver&&creative.adapter.on("containerViewableChange",this._handleContainerViewableChange.bind(this))),(this._player.supportsAutoplay&&this.autoPlay&&!this._appearedBefore||this._suspended)&&this._playSceneOrDisplayFallbackFrame(),this._appearedBefore=!0,this._isAppearing=!0},Scene.prototype._initAnimations=function(){for(var e in this.objects){var t=this.objects[e].target;this.claimObject(t)}this._calculateDurations(),this._buildKeyframeAnimations()},Scene.prototype._playSceneOrDisplayFallbackFrame=function(){this._initSceneOnRenderApiCall||this._resetRawInitialValues(),this._initSceneOnRenderApiCall=!0,this.fallbackFrameShown=this._player.supportsFallback&&(!creative.adapter.assumeScrollSupported||this.forceFallbackFrame),!this._player.paused&&this.fallbackFrameShown&&this._player.pause(),this._suspended||this._initAnimations(),this.fallbackFrameShown?this._player.displayFallbackFrame(this.fallbackFrame/this._durationInFrames*100):this._player.play(),this._suspended=!1},Scene.prototype._pauseScene=function(){this._player.pause()},Scene.prototype._stopScene=function(){this._player.stop()},Scene.prototype._resetRawInitialValues=function(){for(var e in this.objects)delete this._rawInitialValues[this.objects[e].target.localId]},Scene.prototype._suspendScene=function(){this._player.pause(),this._suspended=!0},Scene.prototype._handleAreaInViewRatioChanged=function(e){e>0&&this._suspended&&this._isAppearing?this._playSceneOrDisplayFallbackFrame():0!==e||this._player.paused||this._suspendScene()},Scene.prototype._handleContainerViewableChange=function(e){e&&this._suspended&&this._isAppearing?this._playSceneOrDisplayFallbackFrame():e||this._player.paused||this._suspendScene()},Scene.prototype.getDuration=function(){return{frames:this._durationInFrames,pixels:this._durationInPixels,milliseconds:this._durationInMilliseconds}},Scene.prototype._calculateKeyframeStyleAttributes=function(e){var t=this._claimedObjects.indexOf(e);if(-1===t)return{};var i=this._objectVisibilityStates[t],n=e._calculateNewStyleAttributes();return i.isDirty("transition")&&("show"===i.transition?n.display="block":"hide"===i.transition&&(n.display="none")),n},Scene.prototype.updateObjects=function(e){for(var t in this._claimedObjects){var i=this._claimedObjects[t];if(i.node){if(i.isAnimated){var n=this._keyframeAnimations[i.localId],a=e>=n.startKeyframe,s=e<=n.endKeyframe||!n.firstFrameAnimated,r=this._lastUpdateObjectsProgress>n.startKeyframe&&e<n.startKeyframe,o=this._lastUpdateObjectsProgress<n.endKeyframe&&e>n.endKeyframe,l=this._isReactiveScene&&(r||o),c=a&&s||this.fallbackFrameShown||l;if(c)n.firstFrameAnimated=!0,hasClass(i.node,"animated")||addClass(i.node,"animated");else{if(!hasClass(i.node,"animated"))continue;removeClass(i.node,"animated")}}var h=this._keyframeAnimations[i.localId].animation.getValuesAt(e);Scene._updateLayoutWithValues(i.layoutCurrent,h,this._objectVisibilityStates[t]),i._keyframeStyle=this._calculateKeyframeStyleAttributes(i)}}this._lastUpdateObjectsProgress=e},Scene.prototype.renderObjects=function(){for(var e in this._claimedObjects){var t=this._claimedObjects[e];if(t.node){var i=this._objectVisibilityStates[e];i.isDirty("transition")&&("show"===i.transition?t.showAction(null,{},noop):"hide"===i.transition&&t.hideAction(null,{},noop),i.markClean("transition")),t._applyStyles(t.node,t._keyframeStyle),t.redrawSceneLayout()}}},Scene.prototype.getPlayer=function(){return this._player},Scene.prototype.claimObject=function(e){if(-1===this._claimedObjects.indexOf(e)){for(var t=0;t<Scene.instances.length;t++){var i=Scene.instances[t];i!==this&&(i.releaseObject(e),delete this._rawInitialValues[e.localId])}this._claimedObjects.push(e),this._objectVisibilityStates.push(new StateObject({transition:void 0}))}e._keyframeStyle=e._calculateNewStyleAttributes(),Scene._stopScenePlayersWithNoClaimedObjects()},Scene.prototype.releaseObject=function(e){var t=this._claimedObjects.indexOf(e);this._initSceneOnRenderApiCall=!0,-1!==t&&(delete this._claimedObjects[t]._keyframeStyle,this._claimedObjects=this._claimedObjects.slice(0,t).concat(this._claimedObjects.slice(t+1)),this._objectVisibilityStates=this._objectVisibilityStates.slice(0,t).concat(this._objectVisibilityStates.slice(t+1)))},Scene.prototype.renderFirstFrame=function(){this._initAnimations(),this._renderAtProgress(0)},Scene.prototype._renderAtProgress=function(e){e=this.fallbackFrameShown?this.fallbackFrame/this._durationInFrames*100:void 0!==e?e:this._player.progress,this.updateObjects(e),this.renderObjects()},Scene.prototype._renderOnSizeChange=function(e){this._player.paused&&this._claimedObjects.length>0&&(this._renderAtProgress(e),this._removeAnimatedClass())},Scene.prototype.renderAtProgress=function(e){this._player.paused&&void 0!==e&&(this._initSceneOnRenderApiCall&&(this._initSceneOnRenderApiCall=!1,this._initAnimations()),this._renderAtProgress(e))},Scene.prototype.playSceneAction=function(e,t,i){var n=-1===["repeat","reverse"].indexOf(this.onEnd),a="repeat"==this.onEnd&&!isNaN(this.onEndRepeatCount)&&this.onEndRepeatCount>0,s="reverse"==this.onEnd&&!isNaN(this.onEndReverseCount)&&this.onEndReverseCount>0,r=this.onEndWaitForCount&&(a||s);n||r?(this._player.once("stop",i),this._playSceneOrDisplayFallbackFrame()):(this._playSceneOrDisplayFallbackFrame(),i())},Scene.prototype.pauseSceneAction=function(e,t,i){"time"===this.type&&(this._pauseScene(),i())},Scene.prototype.stopSceneAction=function(e,t,i){"time"===this.type&&(this._stopScene(),i())},Scene.prototype.resetAction=function(e,t,i){this._player&&(this._stopScene(),this._player.destroy()),this._initPlayer(),this._suspended=!1,this._claimedObjects.forEach(function(e){this.releaseObject(e)},this),i()},Scene._extractPropertyValues=function(e){var t=Object.create(null);for(var i in e){var n=e[i].timingFunction;n&&(n.instance=Scene._getTimingFunctionByName(n.id)),t[i]={value:e[i].value,timingFunction:n}}return t},Scene._keyframeWithUnitsToKeyframePx=function(e,t){for(var i=0;i<Scene._sizeProperties.length;i++){var n=Scene._sizeProperties[i];if(n in e){var a=e[n].value,s=parseFloat(a);isNaN(s)||(a.indexOf("%")>-1&&(s=s/100*t[n]),e[n].value=s)}}for(var r in Scene._positionProperties)for(var o="horizontal"==r?"width":"height",l=Scene._positionProperties[r],c=0;c<l.length;c++){var h=l[c];if(h in e){var p=e[h].value,d=parseFloat(p);isNaN(d)||(p.indexOf("%")>-1&&(d=d/100*t[o]),e[h].value=d)}}},Scene._getTimingFunctionByName=function(e){return e?AnimationTimingFunctions[camelize(e)]:null},Scene._fillInInitialAndDynamicKeyframeValues=function(e,t,i){e[0]||(e[0]=Object.create(null));for(var n in t)!e[0][n]&&i.indexOf(n)>-1&&(e[0][n]={value:t[n],timingFunction:{id:"none",instance:Scene._getTimingFunctionByName("none")}});for(var a in e)for(var s in e[a])e[a][s]&&null===e[a][s].value&&(e[a][s].value=t[s])},Scene._ensureSizeOrPositionValueHasUnits=function(e){return e=String(e),e.indexOf("%")>-1||e.indexOf("px")>-1?e:e+"px"},Scene._updateLayoutWithValues=function(e,t,i){var n=extend({},e.position),a=!1;for(var s in Scene._positionProperties)for(var r=Scene._positionProperties[s],o=0;o<r.length;o++){var l=r[o];if(l in t){for(var c=0;c<r.length;c++){var h=r[c];delete n[h]}n[l]=Scene._ensureSizeOrPositionValueHasUnits(t[l]),a=!0}}a&&(e.position=n),"width"in t&&(e.size.width=Scene._ensureSizeOrPositionValueHasUnits(t.width)),"height"in t&&(e.size.height=Scene._ensureSizeOrPositionValueHasUnits(t.height)),"rotation"in t&&(e.rotation=t.rotation),"opacity"in t&&(e.opacity=t.opacity),"hidden"in t&&(i?e.hidden&&!t.hidden?i.transition="show":!e.hidden&&t.hidden&&(i.transition="hide"):e.hidden=t.hidden)},Scene._stopScenePlayersWithNoClaimedObjects=function(){for(var e=0;e<Scene.instances.length;e++){var t=Scene.instances[e];0!=t._claimedObjects.length||t.paused||t._player.stop()}};;
function View(){}extend(View.prototype,EventEmitter),View.prototype.awake=function(){this.node=null,this._loadingCount=null,this._waitingForLoadCallbacks=[],this._isAppearing=!1,this._hasAppearedAtLeastOnce=!1,this._shouldAppear=!1,this.incrementLoadingCount=this.incrementLoadingCount.bind(this),this.decrementLoadingCount=this.decrementLoadingCount.bind(this),this._preloadImage=this._preloadImage.bind(this),this._loadImage=this._loadImage.bind(this),this._trackViewShown=this._trackViewShown.bind(this),this.isTrackable&&this.once("appeared",this._trackViewShown),this.hacks={}},View.prototype.incrementLoadingCount=function(){if(this.loaded)throw"Starting loads after the view has already finished loading?";this._loadingCount++},View.prototype.decrementLoadingCount=function(){if(!this.loading)throw"decrementLoadingCount called while not loading!";if(!--this._loadingCount){this.finishedLoading();for(var e=this._waitingForLoadCallbacks,t=0;t<e.length;t++)e[t]();this._waitingForLoadCallbacks=[]}},View.prototype._checkAndEnhanceParamsForFileLoading=function(e,t,i){if(!(e instanceof File))throw"file is not a File";return"function"==typeof t?(i=t,t={}):"undefined"==typeof t&&(t={}),{settings:t,callback:i||noop}},View.prototype._preloadImage=function(e,t,i){var n=this._checkAndEnhanceParamsForFileLoading(e,t,i);this.incrementLoadingCount();var a=creative.perf.start("View.preloadImage",{uri:e.getUrl(n.settings.creativeUnitVariantId)});this._loadImage(e,n.settings,function(e,t){a.end(),n.callback(e,t),this.decrementLoadingCount()}.bind(this))},View.prototype._loadImage=function(e,t,i){var n=this._checkAndEnhanceParamsForFileLoading(e,t,i),a="batching"===creative.runtimeParams.variantChoices.BatchComponentAssets,o=a||n.settings.preferBatching,r=new Image,s=!1;return e.getDataUri({preferBatching:o,creativeUnitVariantId:n.settings.creativeUnitVariantId},function(e){s||(n.settings.crossOrigin&&(r.crossOrigin=n.settings.crossOrigin),r.onload=r.onerror=function(){r.onload=r.onerror=null,n.callback(r,e)},r.src=e)}),function(){s=!0,r.onload=r.onerror=null,r.src=""}},View.prototype.finishedLoading=function(){this.emit("loaded")},Object.defineProperty(View.prototype,"loaded",{get:function(){return this.node&&!this.loading}}),Object.defineProperty(View.prototype,"loading",{get:function(){return this._loadingCount>0}}),View.prototype.createNode=function(){this.on("loaded",creative.perf.start("View.load",{clazz:this.constructor.name,name:this.name}).end);var e=document.createElement("div");"undefined"!=typeof creative&&creative.adapter&&creative.adapter.useNativeClickForTapDetection&&(e.style.touchAction="manipulation"),this.localId&&(e.id="celtra-object-"+this.localId);for(var t=this.constructor;t;t=t.uber?t.uber.constructor:void 0)addClass(e,"celtra"+t.name.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}));return e},View.prototype.getNode=function(e){return this.loaded?e&&defer(e,0,"View.getNode defer finishedLoadingCallback",useAsap()):(e&&this._waitingForLoadCallbacks.push(e),this.node||(this.incrementLoadingCount(),this.node=this.createNode(),defer(this.decrementLoadingCount,0,"View.getNode defer decrementLoadingCount",useAsap()))),this.node},Object.defineProperty(View.prototype,"isAppearing",{get:function(){return this._isAppearing}}),Object.defineProperty(View.prototype,"hasAppearedAtLeastOnce",{get:function(){return this._hasAppearedAtLeastOnce}}),View.prototype.appear=function(){var e="View APPEAR called on "+this.constructor.name+" "+this.localId+" (name="+this.name+")";this.parentContainer&&(e+=" from "+this.parentContainer.constructor.name+" "+this.parentContainer.localId+" (name="+this.parentContainer.name+")"),Logger("events.appear").log(e),this.hidden?this._shouldAppear=!0:this.isAppearing||(this._appear(),this._isAppearing=!0,this._hasAppearedAtLeastOnce=!0,this.emit("appeared"))},View.prototype.disappear=function(){var e="View DISAPPEAR called on "+this.constructor.name+" "+this.localId+" (name="+this.name+")";this.parentContainer&&(e+=" from "+this.parentContainer.constructor.name+" "+this.parentContainer.localId+" (name="+this.parentContainer.name+")"),Logger("events.appear").log(e),this.isAppearing&&(this._disappear(),this._isAppearing=!1,this._shouldAppear=!1,this.emit("disappeared"))},View.prototype.reset=function(){this.isAppearing&&(this._shouldAppear=this.hidden,this._isAppearing=!this.hidden)},View.prototype._appear=function(){},View.prototype._disappear=function(){},View.prototype.appearNestedObjects=function(){this.objects.forEach(function(e){e.appear()},this)},View.prototype.disappearNestedObjects=function(){this.objects.forEach(function(e){e.disappear()},this)},View.prototype._trackViewShown=function(e){var t={name:"viewShown",viewName:this.name,clazz:this.constructor.name};new ActionContext(this,!1).track(extend(t,e))};;
BaseCreativeUnit.prototype.alert=function(e,t){var a=e.boxWidth||BaseCreativeUnit._defaultModalBoxWidth;e.message=removeHtmlTags(e.message);var i=this._calculateModalDialogActualHeight(e);a<=this.size.width&&i<=this.size.height?this.showModalDialogInPlacement("alert",e,t):(alert(e.message),t())},BaseCreativeUnit.prototype.prompt=function(e,t){var a=e.boxWidth||BaseCreativeUnit._defaultModalBoxWidth,i=this._calculateModalDialogActualHeight(e);if(a<=this.size.width&&i<=this.size.height)this.showModalDialogInPlacement("prompt",e,t);else{var l=prompt(removeHtmlTags(e.message));t(l)}},BaseCreativeUnit.prototype._getUniqueId=function(){var e=new Date,t=e.getTime()+Math.random();return t},BaseCreativeUnit.prototype.showModalDialogInPlacement=function(e,t,a){var i=this._getUniqueId(),l={};l[i]={attachment:"node",parentNode:this.node,positioning:"screen",type:"layer"},creative.adapter.createPlacements(l,function(){function l(e){13==e.keyCode&&(creative.adapter.destroyPlacement(i),o=null,a(C.value))}function r(e){e.preventDefault(),e.stopPropagation()}function n(t){t.preventDefault(),t.stopPropagation(),creative.adapter.destroyPlacement(i),o=null,"prompt"==e?a(C.value):a()}function s(e){e.preventDefault(),e.stopPropagation(),creative.adapter.destroyPlacement(i),o=null,a(null)}if(window){var o=creative.adapter.placements[i];o.setZIndex("max"),o.setSize("100%","100%"),o.setPosition(0,0);var d=o.createElement("link");d.rel="stylesheet",d.type="text/css",d.href=creative.resourceUrl+"runner-min/clazzes/ModalDialogs-Overlay.css",o.getContainer().appendChild(d);var c=o.createElement("div");addClass(c,"celtra-alert"),c.style.display="none";var p=o.createElement("div");addClass(p,"celtra-alert-dark-overlay"),c.appendChild(p),this.preventScroll(c);var h=o.createElement("div");if(addClass(h,"celtra-alert-box"),t.title&&""!=t.title){var u=o.createElement("h1");addClass(u,"celtra-alert-title"),u.innerHTML=t.title,h.appendChild(u)}if(t.title&&""!=t.title&&t.message&&""!=t.message){var v=o.createElement("hr");addClass(v,"celtra-alert-dark-line"),h.appendChild(v);var m=o.createElement("hr");addClass(m,"celtra-alert-light-line"),h.appendChild(m)}if(t.message&&""!=t.message){var g=o.createElement("div");addClass(g,"celtra-alert-message"),g.innerHTML=t.message,g.setAttribute("dir","auto"),"auto"!==g.dir&&(g.dir=guessWritingDirection(t.message)||"ltr"),h.appendChild(g)}if("prompt"==e){var C=o.createElement("input");addClass(C,"celtra-alert-input"),C.value=t.defaultValue||"",h.appendChild(C),attach(C,"keypress",l)}var f=o.createElement("div");if(addClass(f,"celtra-alert-ok"),f.innerHTML="OK",h.appendChild(f),this.preventScroll(h),once(f,"touchend",n,!1),"prompt"==e&&t.showCancel){addClass(f,"with-cancel");var y=o.createElement("div");addClass(y,"celtra-alert-cancel"),y.innerHTML="CANCEL",h.appendChild(y),attach(f,"touchstart",r,!1),once(y,"touchend",s,!1)}c.appendChild(h),o.populate(c,function(){o.show();var e=setInterval(function(){"absolute"===celtra.styler.computedCSS(h,"position")&&(computedBoxHeight=parseInt(celtra.styler.computedCSS(h,"height"),10)+parseInt(celtra.styler.computedCSS(h,"paddingTop"),10)+parseInt(celtra.styler.computedCSS(h,"paddingBottom"),10),h.style.marginTop=-computedBoxHeight/2+"px",h.style.opacity=1,clearInterval(e),e=null)},100)})}}.bind(this))},BaseCreativeUnit.prototype._calculateModalDialogActualHeight=function(e){var t=document.createElement("div");t.style.cssText="visibility:hidden; font-family:Helvetica,Arial,sans-serif; font-size:14px; padding-bottom:10px; text-shadow:0 1px 0 rgba(0,0,0,1); width:220px;",t.innerText=e.message,this.node.appendChild(t);var a=parseInt(window.getComputedStyle(t).getPropertyValue("height"),10),i=a+BaseCreativeUnit._defaultModalBoxHeightWithoutMessage;return this.node.removeChild(t),i},BaseCreativeUnit.prototype.preventScroll=function(e){var t=["mousewheel","touchmove"];t.forEach(function(t){attach(e,t,function(e){e.preventDefault()},!1)})},BaseCreativeUnit._defaultModalBoxWidth=242,BaseCreativeUnit._defaultModalBoxHeightWithoutMessage=75;;
function CreativeUnitWithVariants(){this._uvOverrideSize=null,this.variantSelector=null}inherit(CreativeUnitWithVariants,BaseCreativeUnit),CreativeUnitWithVariants.toString=function(){return"[Clazz CreativeUnitWithVariants]"},CreativeUnitWithVariants.prototype.toString=function(){return"[CreativeUnitWithVariants "+this.name+" ("+this.localId+")]"},CreativeUnitWithVariants.prototype.awake=function(){CreativeUnitWithVariants.uber.awake.call(this),this._currentVariant=null,this._fullScreenVariantLockActive=!1,this.preventUVUpdate=!1,this.variants.forEach(function(t,i){t.originalIndex=i}),this.variants=this.variants.filter(function(t){return"rm"===t.companionType||!t.companionType}),this.variants.sort(function(t,i){function e(t){return t.minSize.width*t.minSize.height}return e(t.layouts[0])-e(i.layouts[0])}).forEach(function(t){t.parentUnit=this,t.on("shareableStateChanged",function(){this.emit("shareableStateChanged")}.bind(this))},this),this.widthBreakpoints=this._extractBreakpoints(),this.hacks.variantSelectionDeferTime=deviceInfo.browser.firefox()?200:0},Object.defineProperties(CreativeUnitWithVariants.prototype,{size:{get:function(){return this.getAvailableSize()},enumerable:!0,configurable:!1},minimumSize:{get:function(){return{width:this.variants[0].layouts[0].minSize.width,height:this.variants[0].layouts[0].minSize.height}},enumerable:!0,configurable:!1},layoutCurrentIndex:{get:function(){return 0},enumerable:!0,configurable:!1},currentScreen:{get:function(){return this.currentVariant?this.currentVariant.currentScreen:null},enumerable:!0,configurable:!1},currentVariant:{set:function(t){this._currentVariant!==t&&(this._currentVariant=t,this.emit("shareableStateChanged"))},get:function(){return this._currentVariant}},usesUpdatedVariantSelection:{get:function(){return this.variants.some(function(t){return t.scaleUnit})},enumerable:!0,configurable:!1}}),CreativeUnitWithVariants.prototype.getLargestComputedHeight=function(t){return this.variants.reduce(function(i,e){return Math.max(e.getComputedHeight(t),i)},0)},CreativeUnitWithVariants.prototype.updateUnitVariantPrevention=function(t){var i=this.preventUVUpdate!==t;this.preventUVUpdate=t,i&&!t&&this._updateVariant()},CreativeUnitWithVariants.prototype.setUVOverrideSize=function(t,i){this._uvOverrideSize||(this._uvOverrideSize={}),t&&(this._uvOverrideSize.width=t),i&&(this._uvOverrideSize.height=i)},CreativeUnitWithVariants.prototype.setUVOverrideWidth=function(t){this.setUVOverrideSize(t)},CreativeUnitWithVariants.prototype.createNode=function(){var t=CreativeUnitWithVariants.uber.createNode.apply(this,arguments);this.currentVariant=this.getVariantForSize(this._availableSize.width,this._availableSize.height),this.currentVariant.parentContainer=this,this.incrementLoadingCount();var i=this.currentVariant.getNode(function(){this.currentVariant.updateSizeAndPosition(),t.appendChild(i),this.decrementLoadingCount(),this.emit("variantChanged")}.bind(this));return t},CreativeUnitWithVariants.prototype.setAvailableSize=function(t,i){var e=CreativeUnitWithVariants.uber.setAvailableSize.call(this,t,i);return e&&this.loaded&&(this._updateGeometry(t,i),defer(function(){this._lockVariantIfNativeFullscreen(),this._updateVariant(),this.emit("resize")}.bind(this),this.hacks.variantSelectionDeferTime)),e},CreativeUnitWithVariants.prototype._updateGeometry=function(t,i){var e=this.getNode();e.style.width=t+"px",e.style.height=i+"px"},CreativeUnitWithVariants.prototype._lockVariantIfNativeFullscreen=function(){var t=creative.adapter&&creative.adapter.inNativeFullscreen();!this.lockedToVariant&&t?(this.lockVariantSelectionToCurrentVariant(),this._fullScreenVariantLockActive=!0):this._fullScreenVariantLockActive&&!t&&(this.unlockVariantSelection(),this._fullScreenVariantLockActive=!1)},CreativeUnitWithVariants.prototype._updateVariant=function(){var t,i=this.node;t=this.currentVariant&&this.preventUVUpdate?this.currentVariant:this.getVariantForSize(this.size.width,this.size.height),t.parentContainer=this;var e=this.currentVariant;if(t===this.currentVariant)return void t.updateSizeAndPosition();this.currentVariant=t;var n=t.getNode(function(){n.parentNode||i.appendChild(n),t===this.currentVariant&&(t.updateSizeAndPosition(),t.node.style.display="block",this._isRendering&&t.enterRenderTree(),this.isAppearing&&t.appear()),this.emit("variantChanged")}.bind(this));e&&t!==e&&(this.isAppearing&&e.disappear(),e.node.style.display="none",e.exitRenderTree())},CreativeUnitWithVariants.prototype.goToVariant=function(t,i){return i=i||noop,"number"!=typeof t||this.currentVariant.localId===t?defer(function(){i(this.currentVariant)}.bind(this)):(this.lockVariantSelectionToLocalId(t),void(this.lockedToVariant?(this.lockedToVariant.once("appeared",function(){i(this.currentVariant),this.lockedToVariant=null}.bind(this)),this._updateVariant()):defer(function(){i(this.currentVariant)}.bind(this))))},CreativeUnitWithVariants.prototype.getMatchingBreakpoint=function(t){for(var i=this.widthBreakpoints[0],e=1;e<this.widthBreakpoints.length&&!(t<this.widthBreakpoints[e].width);e++)i=this.widthBreakpoints[e];return i},CreativeUnitWithVariants.prototype._extractBreakpoints=function(){var t=[];return this.variants.forEach(function(i){var e=i.baseSize;t.some(function(t){return t.width==e.width})?t.forEach(function(t){t.width==e.width&&(t.height=Math.min(t.height,e.height))}):t.push(e)}.bind(this)),t.sort(function(t,i){return t.width-i.width}),t},CreativeUnitWithVariants.prototype.lockVariantSelectionToSize=function(t){this.lockedToVariant=this.variants.find(function(i){return i.baseSize.width==t.width&&i.baseSize.height==t.height})},CreativeUnitWithVariants.prototype.lockVariantSelectionToLocalId=function(t){this.lockedToVariant=this.variants.filter(function(i){return i.localId===t})[0]},CreativeUnitWithVariants.prototype.lockVariantSelectionToCurrentVariant=function(){this.lockedToVariant=this.currentVariant},CreativeUnitWithVariants.prototype.unlockVariantSelection=function(){this.lockedToVariant=null},CreativeUnitWithVariants.prototype.getVariantForSize=function(t,i){return this._uvOverrideSize&&(this._uvOverrideSize.width&&(t=this._uvOverrideSize.width),this._uvOverrideSize.height&&(i=this._uvOverrideSize.height)),this.lockedToVariant?this.lockedToVariant:"fittingWidestThenTallest"===this.variantSelector?UnitVariantSelector.selectFittingWidestThenTallest(this.variants,t,i):"widestThenTallest"===this.variantSelector?UnitVariantSelector.selectWidestThenTallest(this.variants,t):"widestThenShortest"===this.variantSelector?UnitVariantSelector.selectWidestThenShortest(this.variants,t,i):UnitVariantSelector.selectBestFitByArea(this.variants,t,i,this.usesUpdatedVariantSelection)},CreativeUnitWithVariants.prototype.getVariantForScreen=function(t){for(var i=0;i<this.variants.length;i++)if(this.variants[i].screens.indexOf(t)>-1||this.variants[i].master===t)return this.variants[i];return null},CreativeUnitWithVariants.prototype._appear=function(){this.loaded||Creative._throw("Cannot show the unit before it has finished loading."),this.isAppearing&&Creative._throw("The unit is already appearing."),this.node.parentNode||Creative._throw("Creative unit must be added to DOM before show() is called. Animations will start on show()."),Logger("unit").log("Showing "+this),(this.currentVariant.minSize.width>this._availableSize.width||this.currentVariant.minSize.height>this._availableSize.height)&&creative.adapter&&creative.adapter.trackingCenter.track({name:"userError",userErrorId:"unitVariantsDoNotFitPlacement"}),this.currentVariant.isAppearing||this.currentVariant.appear(),this.inView&&(this.inView.start(),this.currentVariant&&this.currentVariant.inView&&this.currentVariant.inView.start())},CreativeUnitWithVariants.prototype._disappear=function(){this.isAppearing||Creative._throw("The unit is not appearing, can not disappear."),Logger("unit").log("Hiding "+this),this.inView&&this.inView.stop()},CreativeUnitWithVariants.prototype.enterRenderTree=function(){this._isRendering||(this._isRendering=!0,this.currentVariant.updateSizeAndPosition(),this.currentVariant.enterRenderTree())},CreativeUnitWithVariants.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this.currentVariant&&this.currentVariant.exitRenderTree())},CreativeUnitWithVariants.prototype.goToScreenAction=function(t,i,e){return i.screen?(extend(i,i.animation),void i.screen.parentContainer.goToScreen(i.screen,i,e)):(console.warn("Go to screen action is called without a destination page!"),e&&e())},CreativeUnitWithVariants.prototype.findAll=function(t){var i=[];return this.currentVariant.findAll(t).forEach(function(t){i.push(t)}),i},CreativeUnitWithVariants.prototype.findByType=function(t){var i=[];return this.currentVariant.findByType(t).forEach(function(t){i.push(t)}),i};;
function CreativeUnitVariant(){}inherit(CreativeUnitVariant,View),extend(CreativeUnitVariant.prototype,TriggerHost),extend(CreativeUnitVariant.prototype,ScreenTransitioner),extend(CreativeUnitVariant.prototype,FeedImageOptimizationTrait),CreativeUnitVariant.toString=function(){return"[Clazz CreativeUnitVariant]"},CreativeUnitVariant.prototype.toString=function(){return"[CreativeUnitVariant "+this.minSize.width+""+this.minSize.height+" ("+this.localId+")]"},Object.defineProperty(CreativeUnitVariant.prototype,"isTrackable",{get:function(){return!0}}),CreativeUnitVariant.prototype._getDestinationScreen=function(){var e=this.screens[0];if("modal"==this.parentUnit.name&&"undefined"!=typeof creative.runtimeParams.goToPageAfterExpand){var t=creative.runtimeParams.goToPageAfterExpand;if("string"!=typeof t)throw new TypeError("Only string type is allowed to reference destination screen!");var i=this.screens.filter(function(e){return e.title===t});i.length>0&&(e=i[0])}return e},CreativeUnitVariant.prototype.awake=function(){CreativeUnitVariant.uber.awake.apply(this,arguments),this._isRendering=!1,this._isMasterShown=!1,this._currentScreen=null,this.visibleScreen=null,this.triggers=this.triggers||[],this._preloadReachableScreens=this._preloadReachableScreens.bind(this),this.screens.forEach(function(e){e.objects.forEach(function(e){e.zIndex+=ScreenObject._zIndexOffset})})},CreativeUnitVariant.prototype.createNode=function(){var e=CreativeUnitVariant.uber.createNode.apply(this,arguments);if(this.incrementLoadingCount(),this.parentContainer.inView&&(this.inView=new InViewObject(this,this.parentContainer.inView)),this.screenHolder=document.createElement("div"),this.screenHolder.className="celtra-screen-holder",e.appendChild(this.screenHolder),this.borderColor&&this.borderSize>0){var t=document.createElement("div");t.className="celtra-creative-border",t.style.borderColor=this.borderColor,t.style.borderWidth=this.borderSize+"px",e.appendChild(t)}var i=2,n=function(){--i||this.decrementLoadingCount()}.bind(this);return this.screenHolder.appendChild(this.master.getNode(n)),this.screenHolder.appendChild(this._getDestinationScreen().getNode(n)),e.style.background=this.backgroundColor,this.screens.forEach(function(e){e.on("enteredRenderTree",function(){this.parentContainer.node.style.background=this.currentScreen.showOverflow?this.backgroundColor:""}.bind(this))}.bind(this)),e},Object.defineProperties(CreativeUnitVariant.prototype,{size:{get:function(){return"responsive"==this.sizing?{width:Math.max(this.parentUnit.size.width,this.minSize.width),height:Math.max(this.parentUnit.size.height,this.minSize.height)}:{width:this.minSize.width,height:this.minSize.height}},enumerable:!0,configurable:!1},minSize:{get:function(){return{width:this.currentLayout.minSize.width,height:this.currentLayout.minSize.height}},enumerable:!0,configurable:!1},baseSize:{get:function(){return{width:this.minSize.width,height:this.revealCollapsedHeight?this.revealCollapsedHeight:this.minSize.height}},enumerable:!0,configurable:!1},currentLayout:{get:function(){return this.layouts[0]},enumerable:!0,configurable:!1},currentScreen:{set:function(e){this._currentScreen!==e&&(this._currentScreen=e,this.emit("shareableStateChanged"))},get:function(){return this._currentScreen}}}),CreativeUnitVariant.prototype.getComputedHeight=function(e){return this.scaleUnit?Math.max(this.baseSize.height,Math.ceil(e*(this.baseSize.height/this.baseSize.width))):this.baseSize.height},CreativeUnitVariant.prototype.enterRenderTree=function(){this._isRendering||(this._isRendering=!0,this.updateSizeAndPosition(),this.master.enterRenderTree(),this.visibleScreen&&this.visibleScreen.enterRenderTree(),this.emit("enteredRenderTree"))},CreativeUnitVariant.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this.master&&(this.master.loaded?this.master.exitRenderTree():this.master.once("loaded",this.master.exitRenderTree.bind(this.master))),this.visibleScreen&&(this.visibleScreen.loaded?this.visibleScreen.exitRenderTree():this.visibleScreen.once("loaded",this.visibleScreen.exitRenderTree.bind(this.visibleScreen))),this.emit("exitedRenderTree"))},CreativeUnitVariant.prototype._trackViewShown=function(){new ActionContext(this,!1).track({name:"viewShown",viewName:this.currentLayout.designTimeSize.width+" x "+this.currentLayout.designTimeSize.height,clazz:this.constructor.name,designSize:this.currentLayout.designTimeSize,availableSize:this.parentUnit.getAvailableSize()})},CreativeUnitVariant.prototype._appear=function(){var e=this.currentScreen;this.currentScreen||(e=this._getDestinationScreen());var t=function(){this.inView&&(this.inView.start(),e&&e.inView&&e.inView.start())}.bind(this);"LeanLoading"===e.title?creative.adapter.waitForWindowLoad(function(){this.goToScreen(e),t()}.bind(this)):(this.goToScreen(e),t())},CreativeUnitVariant.prototype._disappear=function(){this.master.disappear(),this.currentScreen.disappear(),this.inView&&this.inView.stop()},CreativeUnitVariant.prototype.inViewTriggerSetup=function(){var e=!1;this.triggers.forEach(function(t){("enterView"===t.type||"leaveView"===t.type)&&(e=!0,this.inViewAreaRatio=0)},this),e&&this.inView.on("areaInViewRatioChanged",this.triggerInView.bind(this))},CreativeUnitVariant.prototype.updateSizeAndPosition=function(){var e=this.getNode();e.style.width=this.size.width+"px",e.style.height=this.size.height+"px","center"==this.currentLayout.unitAlignment.horizontal?(e.style.left="50%",e.style.right="auto",e.style.marginLeft=-this.size.width/2+"px"):(e.style.marginLeft=0,"left"==this.currentLayout.unitAlignment.horizontal?(e.style.left=0,e.style.right="auto"):(e.style.right=0,e.style.left="auto")),"center"==this.currentLayout.unitAlignment.vertical?(e.style.top="50%",e.style.bottom="auto",e.style.marginTop=-this.size.height/2+"px"):(e.style.marginTop=0,"top"==this.currentLayout.unitAlignment.vertical?(e.style.top=0,e.style.bottom="auto"):(e.style.bottom=0,e.style.top="auto")),this.emit("resize")},CreativeUnitVariant.prototype.findAll=function(e){var t=[];return this.screens.forEach(function(i){("undefined"==typeof e||i.title==e)&&t.push(i),i.findAll(e).forEach(function(e){t.push(e)})}),t},CreativeUnitVariant.prototype.find=function(e){var t=this.findAll(e);return t.length>0?t[0]:null},CreativeUnitVariant.prototype.findByType=function(e){var t=[];return"undefined"==typeof e?result:(this.screens.forEach(function(i){i.findByType(e).forEach(function(e){t.push(e)})}),t)};;
function ScreenObjectContainer(){}inherit(ScreenObjectContainer,View),ScreenObjectContainer.toString=function(){return"[Clazz ScreenObjectContainer]"},ScreenObjectContainer.prototype.toString=function(){return"[ScreenObjectContainer "+this.localId+"]"},ScreenObjectContainer.prototype.appear=function(){ScreenObjectContainer.uber.appear.call(this),ScreenObjectContainer.uber.appearNestedObjects.call(this)},ScreenObjectContainer.prototype.disappear=function(){ScreenObjectContainer.uber.disappearNestedObjects.call(this),ScreenObjectContainer.uber.disappear.call(this)};;
function Screen(){}inherit(Screen,ScreenObjectContainer),extend(Screen.prototype,TriggerHost),extend(Screen.prototype,SceneHost),extend(Screen.prototype,DiscoverableTrait),Screen.toString=function(){return"[Clazz Screen]"},Screen.prototype.toString=function(){return"[Screen "+this.localId+" (name="+this.title+")]"},Object.defineProperty(Screen.prototype,"name",{get:function(){return this.title}}),Object.defineProperty(Screen.prototype,"size",{get:function(){return this.parentContainer.size}}),Screen.prototype.awake=function(){ScreenObjectContainer.uber.awake.apply(this,arguments),this._isRendering=!1,this.appearedAtLeastOnce=!1,this._updateSize=this._updateSize.bind(this),this.handleShake=this.handleShake.bind(this),this.handleShakeFallback=this.handleShakeFallback.bind(this)},Screen.prototype.isFirstScreen=function(){return this===this.parentContainer.screens[0]},Screen.prototype.isLoadingScreen=function(){return this===this.parentContainer.loadingScreen},Screen.prototype.isMasterScreen=function(){return this===this.parentContainer.master},Screen.prototype.isNormalScreen=function(){return!this.isMasterScreen()&&!this.isLoadingScreen()},Object.defineProperty(Screen.prototype,"parentUnitVariant",{get:function(){return"CreativeUnitWithVariants"==this.parentUnit.constructor.name?(this._parentContainer||(this._parentContainer=this.parentUnit.getVariantForScreen(this)),this._parentContainer):null}}),Object.defineProperty(Screen.prototype,"parentContainer",{get:function(){return this.parentUnitVariant||this.parentUnit}}),Screen.prototype.createNode=function(){Logger("unit").log("Starting to load "+this),!this.isLoadingScreen()&&creative.experiments.get("TrackingLoadingTimes")&&this.once("loaded",creative.aggregatorTracking.trackAggregatorMagicTriplet("screenLoad",{unitName:this.parentUnit.name,screenRank:this.isFirstScreen()?"First":this.isMasterScreen()?"Master":"Other"},3e4)),this.nestedSceneHosts=[];var e=Screen.uber.createNode.call(this);return e.style.overflow=this.showOverflow?"visible":"hidden",this.objects.forEach(function(t){this.incrementLoadingCount(),e.appendChild(t.getNode(this.decrementLoadingCount))},this),this.parentContainer.on("resize",this._updateSize),e.style.width=e.style.height="100%",this.parentContainer.inView&&(this.inView=new InViewObject(this,this.parentContainer.inView),this.inViewTriggerSetup()),this._updateSize(),e},Screen.prototype.initImmediatelyPlayedScenes=function(){this._initImmediatelyPlayedScenes(),this.nestedSceneHosts.forEach(function(e){e._initImmediatelyPlayedScenes()})},Screen.prototype._appear=function(){var e=!this.appearedAtLeastOnce;this.appearedAtLeastOnce=!0;var t=new ActionContext(this,{certainlyNotCausedByUserBehavior:!!this.parentUnit.firstAppearWithoutUserInteraction&&e&&(this.isFirstScreen()||this.isMasterScreen())});this!==this.parentContainer.loadingScreen&&this!==this.parentContainer.master&&(t.track({name:"screenShown"}),creative.trackCreativeRenderedOnScreenShow()),e?this.fireTriggers("firstAppear",null,function(){defer(function(){this.fireTriggers("appear",null,noop,t)}.bind(this),void 0,void 0,useAsap())}.bind(this),t):this.fireTriggers("appear",null,noop,t),this.inView&&this.inView.start(),this._shakeListenerStart()},Screen.prototype._shakeListenerStart=function(){this.hasTriggers("shake")&&(this.shakeListener||(this.shakeListener=new ShakeListener),this.shakeListener.on("shake",this.handleShake),this.shakeListener.on("shakeFallback",this.handleShakeFallback),this.shakeListener.start())},Screen.prototype._shakeListenerStop=function(){this.shakeListener&&(this.shakeListener.off("shake",this.handleShake),this.shakeListener.off("shakeFallback",this.handleShakeFallback),this.shakeListener.stop())},Screen.prototype._disappear=function(){this.inView&&this.inView.stop(),this._shakeListenerStop()},Screen.prototype.handleShakeFallback=function(){if(this.parentUnit.currentScreen===this){var e=new ActionContext(this,!1);this.fireTriggers("shake",function(t,i){var n=2,r=1e3*("undefined"!=typeof t.fallbackEmitDelay?t.fallbackEmitDelay:n);return"undefined"==typeof t.fallbackCustomActionSet||"event-actions"===t.fallbackCustomActionSet?setTimeout(function(){this.triggerActionByLocalId(e,{localId:i.localId},noop)}.bind(this),r):setTimeout(function(){this.triggerActionByLocalId(e,{localId:t.fallbackCustomActionSet},noop)}.bind(this),r),!1}.bind(this),null,e)}},Screen.prototype.handleShake=function(e){if(this.parentUnit.currentScreen===this){var t=new ActionContext(this,!1);this.fireTriggers("shake",function(t,i){var n=t.direction&&t.direction.indexOf(e)>-1,r=!1,a=!1,s=500;return n?(clearTimeout(i.shakeTimeout),i.shakeStartTime||(i.shakeStartTime=new Date),r=t.duration&&(new Date).getTime()-i.shakeStartTime.getTime()>=t.duration,i.shakeTimeout=setTimeout(function(){delete i.shakeStartTime,i.triggered=!1},s),r&&!i.triggered&&(a=!0,i.triggered=!0),a):!1}.bind(this),null,t)}},Screen.prototype.enterRenderTree=function(){this._isRendering||(this._isRendering=!0,this.emit("enteredRenderTree"))},Screen.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this.emit("exitedRenderTree"))},Screen.prototype._updateSize=function(){this.emit("resize")},Screen.prototype.finishedLoading=function(){Screen.uber.finishedLoading.call(this),Logger("unit").log("Finished loading "+this)},Screen.prototype.triggerBeforeAppear=function(e){var t=new ActionContext(this,{certainlyNotCausedByUserBehavior:!!this.parentUnit.firstAppearWithoutUserInteraction&&!this.appearedAtLeastOnce&&(this.isFirstScreen()||this.isMasterScreen())});this.fireTriggers("beforeAppear",null,e,t)},Screen.prototype.triggerOrientationChange=function(e){this.fireTriggers("orientationChange",null,e)},Screen.prototype.getMaxZIndex=function(){var e=0;return this.objects.forEach(function(t){t.zIndex>e&&(e=t.zIndex)}),e},Screen.prototype.inViewTriggerSetup=function(){var e=!1;this.triggers.forEach(function(t){("enterView"===t.type||"leaveView"===t.type)&&(e=!0,this.inViewAreaRatio=0)},this),e&&this.inView.on("areaInViewRatioChanged",this.triggerInView.bind(this))},Screen.prototype.triggerInView=function(e){var t=new ActionContext(this),i="enterView",n=this.inViewAreaRatio,r=e,a=function(e,t){return e.parameters.area-t.parameters.area};e<this.inViewAreaRatio&&(i="leaveView",r=this.inViewAreaRatio,n=e,a=function(e,t){return t.parameters.area-e.parameters.area}),this.fireSortedTriggers(i,function(e){var t=e.area/100;return t>=n&&r>=t},null,t,a),this._getTriggers(i,function(e){var t=e.area/100;return t>=n&&r>=t}),this.inViewAreaRatio=e},Screen.prototype.getActionsExecutedOnAppear=function(){var e=!this.appearedAtLeastOnce,t=new ActionContext(this,{certainlyNotCausedByUserBehavior:!!this.parentUnit.firstAppearWithoutUserInteraction&&e&&(this.isFirstScreen()||this.isMasterScreen())}),i=this.fireTriggersDryRun("beforeAppear",null,noop,t);return e&&(i=i.concat(this.fireTriggersDryRun("firstAppear",null,noop,t))),i.concat(this.fireTriggersDryRun("appear",null,noop,t))},Screen.prototype.resetAction=function(e,t,i){var n=this.findAll(),r=n.length,a=function(){this._shakeListenerStop(),this._shakeListenerStart(),i()}.bind(this);r?n.forEach(function(i){i.resetAction(e,t,function(){--r||a()})}):a()},Screen.prototype.shuffleAction=function(e,t,i){function n(e){for(var t,i,n=e.length;0!==n;)i=Math.floor(Math.random()*n),n-=1,t=e[n],e[n]=e[i],e[i]=t;return e}var r=n(t.objects.map(function(e){return JSON.parse(JSON.stringify(e.layoutSpecificValues))}));t.objects.forEach(function(e,t){e.layoutSpecificValues.forEach(function(e,i){e.position=r[t][i].position}),e._refreshDisplayState()}),i&&i()},Screen.prototype._trackViewShown=function(){Screen.uber._trackViewShown.call(this,{isMasterScreen:this.isMasterScreen(),isLoadingScreen:this.isLoadingScreen()})};;
function NestedContainer(){}inherit(NestedContainer,ScreenObjectContainer),extend(NestedContainer.prototype,TriggerHost),NestedContainer.toString=function(){return"[Clazz NestedContainer]"},NestedContainer.prototype.toString=function(){return"[NestedContainer "+this.localId+"]"},NestedContainer.prototype.createNode=function(){var e=NestedContainer.uber.createNode.call(this);return this.node=e,this._updateSize=this._updateSize.bind(this),this.enterRenderTree=this.enterRenderTree.bind(this),this.exitRenderTree=this.exitRenderTree.bind(this),this.parentObject.on("enteredRenderTree",this.enterRenderTree),this.parentObject.on("exitedRenderTree",this.exitRenderTree),this.objects.forEach(function(t){this.incrementLoadingCount(),e.appendChild(t.getNode(this.decrementLoadingCount))}.bind(this)),0===this.objects.length&&addClass(e,"empty"),this.parentObject.parentContainer.on("resize",this._updateSize),e},NestedContainer.prototype.redrawLayout=function(){this.node.style.width=this.layoutCurrent.size.width,this.node.style.height=this.layoutCurrent.size.height,this.node.style.position="relative",this.node.style.overflow="hidden"},NestedContainer.prototype._updateSize=function(){this.redrawLayout(),this.emit("resize")},NestedContainer.prototype.enterRenderTree=function(){this.emit("enteredRenderTree"),this._updateSize()},NestedContainer.prototype.exitRenderTree=function(){this.emit("exitedRenderTree")},NestedContainer.prototype.onFocus=function(e){this.hasTriggers("itemFocus")&&this.fireTriggers("itemFocus",null,e,new ActionContext(this.parentObject))},NestedContainer.prototype.onBlur=function(e){this.hasTriggers("itemBlur")&&this.fireTriggers("itemBlur",null,e,new ActionContext(this.parentObject))},Object.defineProperty(NestedContainer.prototype,"layoutCurrent",{get:function(){return this.layoutSpecificValues[this.parentUnit.layoutCurrentIndex]}}),Object.defineProperties(NestedContainer.prototype,{size:{get:function(){var e,t=this.layoutCurrent.size,i=parseFloat(t.width),n=parseFloat(t.height);return t.width.toString().indexOf("%")>-1&&(e=this.parentObject.getNaturalSize(),i=e.width*i/100),t.height.toString().indexOf("%")>-1&&(e||(e=this.parentObject.getNaturalSize()),n=e.height*n/100),{width:Math.round(i),height:Math.round(n)}}}});;
function ScreenObject(){}inherit(ScreenObject,View),extend(ScreenObject.prototype,TriggerHost),extend(ScreenObject.prototype,DiscoverableTrait),extend(ScreenObject.prototype,ClickPreventer),ScreenObject.requiresRedrawToTriggerAnimationEvents=android("4.0"),ScreenObject.redrawTriggerInterval=60,ScreenObject.toString=function(){return"[Clazz ScreenObject]"},ScreenObject.prototype.toString=function(){return"[ScreenObject "+this.localId+" (name="+this.name+")]"},ScreenObject.allowPositioningAndSizingUsingTransforms=!android("2.2","2.3")||celtra.iframe(),ScreenObject._zIndexOffset=1e4,ScreenObject._resettableProperties=["position","size","rotation","zIndex","opacity","hidden"],ScreenObject._3dTransformBlacklisted=function(t){return/Silk\/\d|Kindle Fire| KFTT | KFOT | KFJWI | KFJWA |\bGT-P3100\b| HTC[ _]One[ _]S /.test(t)||/\bGT-I9300\b/.test(t)&&android("4.0")}(navigator.userAgent),ScreenObject.supports3d=function(){var t="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MSCSSMatrix"in window||/Gecko\//.test(navigator.userAgent);return t&&!this._3dTransformBlacklisted}(),ScreenObject.requires3dTranslateForPositioning=/GT-I9500|GT-I9505|SM-N900|GT-P5210|SM-T520/.test(navigator.userAgent),ScreenObject.dummyImageSpacer=windows("10"),ScreenObject._toPositionPx=function(t,e,i){var n,r,o,s,a=i.width,c=i.height,h=e.width,u=e.height;return["left","right","hcenter"].forEach(function(e){e in t&&(n=e)}),["bottom","top","vcenter"].forEach(function(e){e in t&&(r=e)}),o=t[n],s=t[r],o=o.indexOf("%")>-1?a*parseFloat(o)/100:parseFloat(o),"hcenter"===n?o=(a-h)/2+o:"right"===n&&(o=a-(o+h)),s=s.indexOf("%")>-1?c*parseFloat(s)/100:parseFloat(s),"vcenter"===r?s=(c-u)/2+s:"bottom"===r&&(s=c-(s+u)),{x:ScreenObject._roundIfNeeded(o),y:ScreenObject._roundIfNeeded(s)}},ScreenObject._toSizePx=function(t,e){var i=parseFloat(t.width),n=parseFloat(t.height),r=e.width,o=e.height;return t.width.toString().indexOf("%")>-1&&(i=r*i/100),t.height.toString().indexOf("%")>-1&&(n=o*n/100),{width:ScreenObject._roundIfNeeded(i),height:ScreenObject._roundIfNeeded(n)}},ScreenObject._roundIfNeeded=function(t){return Math.round(t)},Object.defineProperty(ScreenObject.prototype,"layoutCurrent",{get:function(){return null==this.layoutCurrentIndex?this.layoutSpecificValues[0]:this.layoutSpecificValues[this.layoutCurrentIndex]},enumerable:!0,configurable:!1}),Object.defineProperty(ScreenObject.prototype,"layoutCurrentIndex",{get:function(){return this.parentUnit.layoutCurrentIndex},enumerable:!0,configurable:!1}),ScreenObject._Position=function(t,e){this._instance=t,this._position=e},Object.defineProperties(ScreenObject._Position.prototype,{x:{get:function(){return this._position.x},set:function(t){delete this._instance.layoutCurrent.right,delete this._instance.layoutCurrent.hcenter,this._instance.layoutCurrent.position.left=t+("number"==typeof t?"px":"")}},y:{get:function(){return this._position.y},set:function(t){delete this._instance.layoutCurrent.bottom,delete this._instance.layoutCurrent.vcenter,this._instance.layoutCurrent.position.top=t+("number"==typeof t?"px":"")}}}),ScreenObject._Size=function(t,e){this._instance=t,this._size=e},Object.defineProperties(ScreenObject._Size.prototype,{width:{get:function(){return this._size.width},set:function(t){this._instance.layoutCurrent.size.width=t+("number"==typeof t?"px":"")}},height:{get:function(){return this._size.height},set:function(t){this._instance.layoutCurrent.size.height=t+("number"==typeof t?"px":"")}}}),Object.defineProperties(ScreenObject.prototype,{position:{get:function(){var t=ScreenObject._toPositionPx(this.layoutCurrent.position,this.size,this.parentContainer.size);return new ScreenObject._Position(this,t)},set:function(t){delete this.layoutCurrent.position.right,delete this.layoutCurrent.position.hcenter,delete this.layoutCurrent.position.bottom,delete this.layoutCurrent.position.vcenter,this.layoutCurrent.position.left=t.left,this.layoutCurrent.position.top=t.top}},originalSize:{get:function(){var t=this.layoutCurrentIndex||0;return ScreenObject._toSizePx(JSON.parse(this.originalLayoutSpecificValues)[t].size,this.parentContainer.size)},set:function(){throw new Error("originalSize is not settable!")}},size:{get:function(){var t=ScreenObject._toSizePx(this.layoutCurrent.size,this.parentContainer.size);return new ScreenObject._Size(this,t)},set:function(t){this.layoutCurrent.size.width=t.width,this.layoutCurrent.size.height=t.height}},opacity:{get:function(){return this.layoutCurrent.opacity},set:function(t){this.layoutCurrent.opacity=t}},rotation:{get:function(){return this.layoutCurrent.rotation},set:function(t){this.layoutCurrent.rotation=t}},hidden:{get:function(){return this.layoutCurrent.hidden},set:function(t){this.layoutSpecificValues.forEach(function(e){e.hidden=t})}}}),ScreenObject.getCSSTranslate=function(t,e){return ScreenObject.requires3dTranslateForPositioning?"translate3d("+t+"px,"+e+"px, 0)":"translate("+t+"px,"+e+"px)"},ScreenObject.prototype.awake=function(){ScreenObject.uber.awake.call(this),this.originalLayoutSpecificValues=JSON.stringify(this.layoutSpecificValues),this.originalZIndex=this.zIndex,this.finishAnimation=this.finishAnimation.bind(this),this._refreshDisplayState=this._refreshDisplayState.bind(this)},ScreenObject.prototype.enterRenderTree=function(){this._isRendering||(this._isRendering=!0,this.emit("enteredRenderTree"))},ScreenObject.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this._isInMouseOver&&trigger(this.node,"mouseout",!1),this.emit("exitedRenderTree"))},ScreenObject.prototype.react=function(t){var e=this.parentUnit.getRxStateObject(),i=function(){this._isRendering&&t.call(this,e)}.bind(this);null!==e&&(this._rxListeners.push(i),Ticker.frame(i,"render"))},ScreenObject.prototype.appearNestedObjects=function(){this.getNestedContainers().forEach(function(t){t.appear(),t.appearNestedObjects(t.objects)},this)},ScreenObject.prototype.disappearNestedObjects=function(){this.getNestedContainers().forEach(function(t){t.disappearNestedObjects(t.objects),t.disappear()},this)},ScreenObject.prototype.initTemplates=function(){var t=this.templates={},e=this.constructor.templates;if(e){for(var i in e)"string"==typeof e[i]&&(e[i]=tmpl(e[i]));extend(t,e)}},ScreenObject.prototype.tmpl=function(t,e,i){this.templates||this.initTemplates();var n=this.templates[t];return n?n.call(i||this,e):"Missing template: "+t},ScreenObject.prototype.template=function(t,e,i){var n,r=document.createElement("div");r.innerHTML=this.tmpl(t,e);var o=r.firstChild;if(i)for(;n=r.firstChild;)i.appendChild(n);return o},ScreenObject.prototype.ifNotClosing=function(t,e,i){var n=this.fireTriggersDryRun(t,null,noop,e)._actions,r=["dismiss","collapse"],o=!n.some(function(t){return r.indexOf(t.method)>-1});o&&i()},ScreenObject.prototype.createNode=function(){this._isInMouseOver=!1;var t=this,e=ScreenObject.uber.createNode.call(t);if(e.style.position="absolute",this.hasTriggers("tap")&&(addClass(e,"touchable"),attach(e,"tap",function(){var e=new ActionContext(t,!0);t.ifNotClosing("tap",e,e.trackUserInteraction),t.fireTriggers("tap",null,null,e)},!1)),deviceInfo.deviceType.desktop()){var i="mouseOver",n=[];if(this.hasTriggers(i)){var r=this._getTriggers(i,null),o=[],s=noop;r.forEach(function(t){t.parameters&&t.parameters.delay&&o.indexOf(t.parameters.delay)<0&&o.push(t.parameters.delay)}),attach(e,"mouseover",function(){var e=new ActionContext(t,!0),r=function(n){return function(){t.fireTriggers(i,function(t){return t.delay==n},null,e)}};t._isInMouseOver=!0,o.forEach(function(t,e){s=r(t),n[e]=setTimeout(s,t)})},!1)}attach(e,"mouseout",function(){var e=new ActionContext(t,!0);t._isInMouseOver=!1,n.forEach(clearTimeout),n=[],t.hasTriggers("mouseOut")&&t.fireTriggers("mouseOut",null,null,e)},!1)}return attach(e,"touchstart",function(){if(t.hasTriggers("touchstart")){var e=new ActionContext(t,!0);t.ifNotClosing("touchstart",e,e.trackUserInteraction),t.fireTriggers("touchstart",null,null,e)}},!1),attach(e,"touchend",function(){if(t.hasTriggers("touchend")){var e=new ActionContext(t,!0);t.ifNotClosing("touchend",e,e.trackUserInteraction),t.fireTriggers("touchend",null,null,e)}},!1),this.hasTriggers("swipe")&&(attach(e,"touchstart",function(t){t.stopPropagation()}),new SwipeListener({target:e,swipeNodeGetter:function(){return this.parentUnit.node}.bind(this),swipe:function(e,i){var n=new ActionContext(t,!0);t.fireTriggers("swipe",function(r){var o=e==r.direction&&i>=r.length;return o&&t.ifNotClosing("swipe",n,n.trackUserInteraction),o},null,n)}})),attach(e,"transitionend",function(t){t.stopPropagation()},!1),this.parentContainer.on("resize",this._refreshDisplayState),this.parentContainer.on("enteredRenderTree",function(){this.hidden||this.enterRenderTree()}.bind(this)),this.parentContainer.on("exitedRenderTree",function(){this.hidden||this.exitRenderTree()}.bind(this)),this.layoutPrevious=this.layoutCurrent,this.parentUnit.on("layoutChanged",this.handleLayoutChanged.bind(this)),this.initClickPrevention(function(){return this.node}.bind(this)),this._applyStyles(e,this._calculateNewStyleAttributes()),this.positionUsingTransforms()||deviceInfo.browser.safari("9.0.0",null)||(e.style.outline="1px solid transparent"),this._rxListeners=[],e},ScreenObject.prototype.positionUsingTransforms=retFalse,ScreenObject.prototype.sizeUsingTransforms=retFalse,ScreenObject.prototype.isValid=retTrue,ScreenObject.prototype.getNaturalSize=function(){return this.originalSize},ScreenObject.prototype._calculateNewStyleAttributes=function(){var t={transform:"",transformOrigin:"50% 50%"},e=this.getNaturalSize(),i=this.position.x,n=this.position.y;if(this.sizeUsingTransforms()&&(i+=ScreenObject._roundIfNeeded((this.size.width-e.width)/2),n+=ScreenObject._roundIfNeeded((this.size.height-e.height)/2)),this.positionUsingTransforms()?(t.left="0",t.top="0",(i||n)&&(t.transform+=ScreenObject.getCSSTranslate(i,n))):(t.left=i+"px",t.top=n+"px"),(this.isAnimated||0!=this.rotation)&&(t.transform+=" rotate("+this.rotation+"deg) "),this.sizeUsingTransforms()){t.width=e.width+"px",t.height=e.height+"px";var r=this.size.width/e.width,o=this.size.height/e.height;t.transform+=" scale("+r+", "+o+")"}else t.width=this.size.width+"px",t.height=this.size.height+"px";return t.zIndex=this.zIndex,t.opacity=this.opacity,t.display=this.hidden?"none":"block",t},ScreenObject.prototype._applyStyles=function(t,e){e&&Object.keys(e).forEach(function(i){celtra.styler.css(t,i,e[i])})},ScreenObject.prototype._refreshDisplayState=function(){if(this.node){var t=this._calculateNewStyleAttributes(),e=!1;for(var i in t){var n=String(t[i]).replace(/^\s*|\s*$/g,""),r=celtra.styler.css(this.node,i),o=null;celtra.styler.css(this.node,i)!==n&&(o=n,r!=o&&"zIndex"!=i&&"display"!=i&&(e=!0))}return this._applyStyles(this.node,t),this.redrawLayout(),e}},ScreenObject.prototype.finishAnimation=function(){this.node&&void 0!==celtra.styler.css(this.node,"transitionDuration")&&(celtra.styler.css(this.node,"transitionDuration","1ms"),this.node.offsetWidth,celtra.styler.css(this.node,"transitionDuration",""))},ScreenObject.prototype.handleLayoutChanged=function(){var t=function(){this.layoutPrevious.hidden&&!this.layoutCurrent.hidden?this.enterRenderTreeAndAppear(!0):!this.layoutPrevious.hidden&&this.layoutCurrent.hidden&&this.parentContainer._isRendering&&this.exitRenderTree(),this.layoutPrevious=this.layoutCurrent}.bind(this);ios()?defer(t):t(),this.finishAnimation(),this._refreshDisplayState()},ScreenObject.prototype.redrawLayout=function(){},ScreenObject.prototype.redrawSceneLayout=function(){this.redrawLayout()},ScreenObject.prototype._checkAndEnhanceParamsForFileLoading=function(t,e,i){var n=ScreenObject.uber._checkAndEnhanceParamsForFileLoading.call(this,t,e,i);return n.settings.creativeUnitVariantId=this.parentScreen.parentContainer.localId,n},ScreenObject.prototype._preloadImage=function(t,e,i){var n=this._checkAndEnhanceParamsForFileLoading(t,e,i);ScreenObject.uber._preloadImage.call(this,t,n.settings,n.callback)},ScreenObject.prototype._loadImage=function(t,e,i){var n=this._checkAndEnhanceParamsForFileLoading(t,e,i);ScreenObject.uber._loadImage.call(this,t,n.settings,n.callback)},ScreenObject.prototype.setPosition=function(t,e){this.position={left:t+"px",top:e+"px"},this._refreshDisplayState()},ScreenObject.prototype.getPosition=function(){return{x:this.position.x,y:this.position.y}},ScreenObject.prototype.setSize=function(t,e){this.size.width=t,this.size.height=e,this._refreshDisplayState()},ScreenObject.prototype.getSize=function(){return{width:this.size.width,height:this.size.height}},ScreenObject.prototype.setOpacity=function(t){this.opacity=t,this._refreshDisplayState()},ScreenObject.prototype.getOpacity=function(){return this.opacity},ScreenObject.prototype.animateAction=function(t,e,i){function n(t){return!isNaN(parseFloat(t))&&isFinite(t)}function r(t){var e={position:{},size:{width:null,height:null},zIndex:null,opacity:null,rotation:null};return deep(e,t),e}function o(t,e){var i=e.size,n=t.size;null==i.width&&(i.width=n.width),null==i.height&&(i.height=n.height),t.size=i;var r=t.position,o=e.position,s=null,a=null,c=null,h=null;["left","right","hcenter"].forEach(function(t){t in r&&(s=t),t in o&&(c=t)}),["bottom","top","vcenter"].forEach(function(t){t in r&&(a=t),t in o&&(h=t)}),c&&null!==o[c]&&(delete r[s],r[c]=o[c]),h&&null!==o[h]&&(delete r[a],r[h]=o[h]),null!=e.rotation&&(t.rotation=e.rotation),null!=e.opacity&&(t.opacity=e.opacity),null!=e.zIndex&&(t.zIndex=e.zIndex)}i=i||noop,this.isAnimated=!0;var s="undefined"!=typeof e.duration?e.duration:1e3,a=e.timingFunction||"linear";if(e.layoutSpecificValues)e.layoutSpecificValues.forEach(function(t,e){this.layoutSpecificValues[e]&&o(this.layoutSpecificValues[e],r(t))}.bind(this));else{var c=r(e.properties);null!=c.position.x&&(c.position.left=c.position.x+"px"),null!=c.position.y&&(c.position.top=c.position.y+"px"),null!=c.zIndex&&(c.zIndex=c.zIndex+ScreenObject._zIndexOffset,this.zIndex=c.zIndex),null!=c.size.width&&n(c.size.width)&&(c.size.width+="px"),null!=c.size.height&&n(c.size.height)&&(c.size.height+="px"),o(this.layoutCurrent,c)}var h=this.node;celtra.styler.css(h,"transition",""),celtra.styler.css(h,"transitionProperty","all"),celtra.styler.css(h,"transitionDuration",s+"ms"),celtra.styler.css(h,"transitionTimingFunction",a);var u=this._refreshDisplayState();if(s>0&&u){var l=!1,p=function(){l||(l=!0,i())};ScreenObject.requiresRedrawToTriggerAnimationEvents&&!function(){var t=Date.now(),e=t+(Number(s)||0),i=function(){flash(),Date.now()<e&&setTimeout(i,ScreenObject.redrawTriggerInterval)};i()}(),setTimeout(p,(Number(s)||0)+500,!0),once(h,"transitionend",function(){celtra.styler.css(h,"transition",""),setTimeout(p,0,!1)},!1)}else{celtra.styler.css(h,"transition","");var d=s>0?s:0;setTimeout(i,d)}},ScreenObject.prototype.enterRenderTreeAndAppear=function(t){t&&this.parentScreen._isRendering&&this.enterRenderTree(),t&&!this.isAppearing&&this._shouldAppear&&this.appear()},ScreenObject.prototype.scaleAction=function(t,e,i){var n=e.useOriginalSize?this.originalSize:this.size,r=e.scale/100,o={width:n.width*r,height:n.height*r},s={x:this.position.x+this.size.width/2-o.width/2,y:this.position.y+this.size.height/2-o.height/2};this.animateAction(t,{properties:{position:s,size:o},duration:e.duration,timingFunction:e.timingFunction},i)},ScreenObject.prototype.showAction=function(t,e,i){var n=this.hidden;this.hidden=!1,this.node.style.display="block",this.enterRenderTreeAndAppear(n),this.node.offsetWidth,nextFrame(i)},ScreenObject.prototype.hideAction=function(t,e,i){var n=this.hidden;this.hidden=!0,this.node.style.display="none",!n&&this.parentScreen._isRendering&&(this.isAppearing&&(this.disappear(),this._shouldAppear=!0),this.exitRenderTree()),setTimeout(i,0)},ScreenObject.prototype.isHidden=function(){return this.hidden},ScreenObject.prototype.resetAction=function(t,e,i){this.layoutSpecificValues=JSON.parse(this.originalLayoutSpecificValues),this.reset(),this.zIndex=this.originalZIndex,this.finishAnimation(),this._refreshDisplayState(),defer(i)},ScreenObject.prototype.addStyle=function(t){var e="#celtra-object-"+this.localId,i=this.node,n=/^:(link|visited|active|hover|focus|first-child|nth-child|nth-last-child|nth-of-type|first-of-type|last-of-type|empty|target|checked|enabled|disabled)/,r=/,\s*/g;this.styleNode||(this.styleNode=document.createElement("style"),i||(i=document.getElementsByTagName("head")[0]),i.appendChild(this.styleNode));var o=[];for(var s in t)o.push({selector:s.split(r).map(function(t){return e+(n.test(t)?"":" ")+t}).join(","),attributes:t[s]});var a=this._styleSheetTemplate({rules:o});this.styleNode.textContent+=a},ScreenObject.prototype._styleSheetTemplate=tmpl("<% for (var i = 0; i < rules.length; i++) { %><%= rules[i].selector %> { <%= rules[i].attributes %> }\n<% } %>"),ScreenObject.prototype.css=function(t,e){"undefined"==typeof e&&(e=t,t=this.getNode()),Object.keys(e).forEach(function(i){celtra.styler.css(t,i,e[i])})},ScreenObject.prototype.getNestedContainers=function(){return[]},ScreenObject.prototype.getActiveContainers=function(){return this.getNestedContainers()};;
function Hotspot(){}inherit(Hotspot,ScreenObject),Hotspot.toString=function(){return"[Clazz Hotspot]"},Hotspot.prototype.toString=function(){return"[Hotspot "+this.localId+"]"},Hotspot.prototype.createNode=function(){var t=Hotspot.uber.createNode.call(this);return addClass(t,"touchable"),attach(t,"tap",this.handleTap),t},Hotspot.prototype.handleTap=function(t){t.stopPropagation()};;
function Group(){}inherit(Group,ScreenObject),Group.toString=function(){return"[Clazz Group]"},Group.prototype.toString=function(){return"[Group "+this.localId+"]"},Group.prototype.createNode=function(){var t=Group.uber.createNode.call(this);return this.incrementLoadingCount(),t.appendChild(this.content.getNode(this.decrementLoadingCount)),t},Group.prototype.getNestedContainers=function(){return[this.content]},Group.prototype.positionUsingTransforms=ios("8")?retFalse:retTrue,Group.prototype.sizeUsingTransforms=retTrue,Group.prototype.getNaturalSize=function(){return this.originalSize},Group.prototype._appear=function(){this.appearNestedObjects()},Group.prototype._disappear=function(){this.disappearNestedObjects()};var ObjectGroup=Group;;
function Picture(){}inherit(Picture,ScreenObject),extend(Picture.prototype,FeedImageCreator),Picture.toString=function(){return"[Clazz Picture]"},Picture.prototype.toString=function(){return"[Picture "+this.localId+"]"},Picture.prototype.createNode=function(){var e={};"string"==typeof this.imageSourceFeedFieldKey&&(FeedData.checkAndTrackValue(this.imageSourceFeedFieldKey,this.imageSourceFeedRowIndex,this.constructor.name,"imageSourceFeedFieldKey"),this.file=this._createFeedImageFile("imageSource",this.imageSourceFeedRowIndex));var i=Picture.uber.createNode.call(this);return this.file===this.placeholderFile?("string"==typeof this.imageSourceFeedFieldKey||this._newFileWasSet||(addClass(i,"empty"),this._preloadImage(new File("runner/image-placeholder.png"),function(e,t){this._isSettingFileInProgress||(i.style.backgroundImage="url("+t+")")}.bind(this))),i):(this.file&&this._preloadImage(this.file,e,function(e){this._newFileWasSet||this._handlePreloadedImage(i,e)}.bind(this)),i)},Picture.prototype.awake=function(){Picture.uber.awake.call(this),this.placeholderFile=new File("runner/image-placeholder.png"),this.placeholderFile.meta={height:28,width:28},this.file||(this.file=this.placeholderFile),this._originalFile=this.file,this._newFileWasSet=!1},Picture.prototype._handlePreloadedImage=function(e,i){this.file.dynamic&&(this.file.meta={height:i.naturalHeight,width:i.naturalWidth});var t="",r="",a="no-repeat";this.imagePosition&&(t=this.imagePosition.replace("-"," "));var s=this.sizeUsingTransforms()?this.getNaturalSize():this.size,h=this.fittingSize;switch("fitUpToOriginal"===this.fittingSize&&(h=s.width<this.file.width||s.height<this.file.height?"fit":"original"),h){case"original":r=this.file.width+"px "+this.file.height+"px";break;case"fit":r="contain";break;case"fill":r="cover";break;case"repeat":r=this.file.width+"px "+this.file.height+"px",a="repeat";break;case"stretch":default:r="100% 100%"}var n=document.createElement("div");if(n.style.cssText="position: absolute; top: 0; left: 0; width: 100%; height: 100%;",n.style.backgroundImage="url('"+(i.src||"").replace("'","-")+"')",n.style.backgroundPosition=t,n.style.backgroundSize=r,n.style.backgroundRepeat=a,ScreenObject.dummyImageSpacer){var l=document.createElement("img");l.style.cssText="position: absolute; top: 0; left: 0; width: 100%; height: 100%;",l.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",n.appendChild(l)}e.appendChild(n)},Picture.prototype.positionUsingTransforms=function(){var e=!(ios("8",null)||desktop()&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent));return e&&this.isAnimated},Picture.prototype.sizeUsingTransforms=Picture.prototype.positionUsingTransforms,Picture.prototype.getNaturalSize=function(){if(!this.file)return Picture.uber.getNaturalSize.call(this);var e,i,t,r,a=this.file.width,s=this.file.height,h=a/s,n=this.originalSize.width,l=this.originalSize.height,o=n/l,c=2048;return"original"==this.fittingSize||"fitUpToOriginal"==this.fittingSize||"repeat"==this.fittingSize?{width:n,height:l}:"stretch"==this.fittingSize?{width:a,height:s}:(e=h>o&&"fit"==this.fittingSize||o>h&&"fill"==this.fittingSize,i=o>h&&"fit"==this.fittingSize||h>o&&"fill"==this.fittingSize,t=a,r=s,e?r=a/n*l:i&&(t=s/l*n),t>c&&(r*=c/t,t=c),r>c&&(t*=c/r,r=c),{width:t,height:r})},Picture.prototype.getImageUrl=function(){return this.file?this.file.getUrl():void 0};;
function Fallback(){}inherit(Fallback,ScreenObject),Fallback.toString=function(){return"[Clazz Fallback]"},Fallback.prototype.toString=function(){return"[Fallback "+this.localId+"]"},Fallback.prototype.createNode=function(){var e=Fallback.uber.createNode.call(this),t=this._getChosenContainer();return t.getActionsExecutedOnAppear=function(){return t.fireTriggersDryRun("conditionMet",null,noop,new ActionContext(this))}.bind(this),this.incrementLoadingCount(),e.appendChild(t.getNode(this.decrementLoadingCount)),e},Object.defineProperty(Fallback.prototype,"isTrackable",{get:function(){return!0}}),Fallback.prototype._appear=function(){var e=this._getChosenContainer();e.appear();var t=new ActionContext(this);e.fireTriggers("conditionMet",null,noop,t),this._contentAvailable&&t.track({name:"contentAvailable"})},Fallback.prototype._disappear=function(){this._getChosenContainer().disappear()},Fallback.prototype._getChosenContainer=function(){if("undefined"!=typeof this._selectedContainer)return this._selectedContainer;var e=this.contentFields.length>0,t=e&&this.contentFields.every(function(e){var t=FeedData.getFieldRowsByKey(e.feedFieldKey).slice(0,e.requestedRows);return t.length>0&&t.every(function(e){return"string"==typeof e.value})}),n=e&&this.contentFields.every(function(e){return FeedData.isCorrectFieldType(e.feedFieldKey,e.initiator,e.property)});return this._contentAvailable=t&&n,this._selectedContainer=this._contentAvailable?this.availableContent:this.notAvailableContent,this._selectedContainer},Fallback.prototype.getNestedContainers=function(){return[this.availableContent,this.notAvailableContent]},Fallback.prototype.getActiveContainers=function(){return[this._getChosenContainer()]},Fallback.prototype.positionUsingTransforms=retTrue,Fallback.prototype.sizeUsingTransforms=retTrue,Fallback.prototype.getNaturalSize=function(){return this.originalSize};;
function Texty(){}inherit(Texty,ScreenObject),extend(Texty.prototype,TextStyleIntegrator),Texty.toString=function(){return"[Clazz Texty]"},Texty.prototype.toString=function(){return"[Texty "+this.localId+"]"},Texty.prototype.awake=function(){Texty.uber.awake.call(this),this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._handleTouchCancel=this._handleTouchCancel.bind(this),this._originalText=this.text,this._adaptToContentStrategy="none",this._adaptToContentInProgress=!1,this._textCharactersEnclosedWithSpanElements=!1,this._lineBreakOptimizationStrategy=this.lineBreakOptimizationStrategy||"none",this._shortestLineToLongestLineMinRatio=this.shortestLineToLongestLineMinRatio||.25,this._maxPaddingToSizeRatio=this.maxPaddingToSizeRatio||.25,this._originalTextColor=this.textColor,this._originalFont=this.font},Texty.prototype.createNode=function(){var t=Texty.uber.createNode.call(this);this.scroller=null,this._autoscrolling=!1,this._listeningForTouches=!1,this._sanitizeText=!0,this._processSpecialChars=!1;var e=this.getFontSize(),i=this._getNaturalFontSize();if(this._fontScaleFactor=e/i,this._lineHeightRatio=1,this._letterSpacingRatio=1,this._responsiveFontSize=this._getNaturalFontSize(),this._fontIsLoading=!1,"string"==typeof this.textColorFeedFieldKey&&FeedData.checkAndTrackValue(this.textColorFeedFieldKey,this.textColorFeedRowIndex,this.constructor.name,"textColorFeedFieldKey"),"string"==typeof this.textContentFeedFieldKey){FeedData.checkAndTrackValue(this.textContentFeedFieldKey,this.textContentFeedRowIndex,this.constructor.name,"textContentFeedFieldKey");var n="",o=FeedData.getFieldValueByKey(this.textContentFeedFieldKey,this.textContentFeedRowIndex);"string"==typeof o&&FeedData.isCorrectFieldType(this.textContentFeedFieldKey,this.constructor.name,"textContentFeedFieldKey")&&(n=o),this.text=n,this._processSpecialChars=!0}if(this.isTemplateField&&(this._processSpecialChars=!0),this._initialText=this.text,this._initialProcessSpecialChars=this._processSpecialChars,this._initialScaleFont=this.scaleFont,this._scrollContainer=document.createElement("div"),this._scrollContainer.className="scroll-container",this._textContainer=document.createElement("div"),this._textContainerClone=document.createElement("div"),this._textContainerClone.style.display="none",this._textContainerResponsive=document.createElement("div"),this._textContainerResponsive.style.visibility="hidden",(deviceInfo.browser.chrome(null,"48")||"Samsung Browser"===deviceInfo.browser.name)&&this._setTextContainerStyle("textRendering","geometricPrecision"),this.scrollable&&(this.scroller=new Scroller(t,this._textContainer,{direction:"vertical",animating:!0,easing:!0,locking:!1,scrollbarPosition:this.scrollbarPosition,scrollbarColor:this.scrollbarColor})),"string"==typeof this.textFontFeedFieldKey){FeedData.checkAndTrackValue(this.textFontFeedFieldKey,this.textFontFeedRowIndex,this.constructor.name,"textFontFeedFieldKey");var s,o=FeedData.getFieldValueByKey(this.textFontFeedFieldKey,this.textFontFeedRowIndex);"string"==typeof o&&FeedData.isCorrectFieldType(this.textFontFeedFieldKey,this.constructor.name,"textFontFeedFieldKey")&&(s=creative.fonts.find(function(t){return t.typefaceId===o})),this.font=s}if(this.font instanceof FontBase){var a=0===this.text.trim().length;this._updateTextContent(),this.initializeFont(a),this.font.needsLoading()&&!a&&(this._fontIsLoading=!0,this.font.loadStyle(function(){this._fontIsLoading=!1,this._handleSizeUpdate(!0)}.bind(this)))}return this._scrollContainer.appendChild(this._textContainer),this._scrollContainer.appendChild(this._textContainerClone),this._scrollContainer.appendChild(this._textContainerResponsive),t.appendChild(this._scrollContainer),this._startListeningForTouches(),t},Texty.prototype._appear=function(){this._handleSizeUpdate(!0)},Texty.prototype.redrawLayout=function(){this._handleSizeUpdate(!0)},Texty.prototype.redrawSceneLayout=function(){this._handleSizeUpdate(!1)},Texty.prototype._handleSizeUpdate=function(t){if(!(this.font&&this.font.needsLoading()&&this._fontIsLoading)){var e=null,i=this.node&&document.body.contains(this.node),n=this.responsiveFont||this.textAlignVertical>0||"none"!==this._adaptToContentStrategy||"none"!==this._lineBreakOptimizationStrategy;this.node&&this.node.parentNode&&!i&&n&&(e=this.node.parentNode,document.body.appendChild(this.node)),this._updateTextSizeAndAlignment(t),this._shrinkContentSizeToOptimizeLineBreaks(),this._adaptComponentSizeToContentSize(),this._updateScrollbar(),e&&e.appendChild(this.node)}},Texty.prototype._overrideNaturalSize=function(t,e){this.setSize(t,e);var i=this.layoutCurrentIndex||0,n=JSON.parse(this.originalLayoutSpecificValues);n[i].size={width:t+"px",height:e+"px"},this.originalLayoutSpecificValues=JSON.stringify(n)},Texty.prototype._updateTextSizeAndAlignment=function(t){this._setTextContainerStyle("paddingLeft",this.getTextPaddingLeft()+"px"),this._setTextContainerStyle("paddingRight",this.getTextPaddingRight()+"px"),this._setTextContainerStyle("paddingTop",this.getTextPaddingTop()+"px"),this._setTextContainerStyle("marginTop",""),this.responsiveFont||(this.applyTextSize(this._textContainer),this.applyTextSize(this._textContainerClone)),this._horizontallyRealignTextWithPadding(),t&&this._adjustFontSizeToFitContainer(),this._verticallyAlignText()},Texty.prototype._shrinkContentSizeToOptimizeLineBreaks=function(){if("none"!==this._lineBreakOptimizationStrategy&&"pre-line"===this.textWhiteSpace){var t=!1,e=5*this._fontScaleFactor,i=0,n=this._getLinesProperties(),o=n.length;if(!(1>=o))do{if(t=!1,n=this._getLinesProperties(),n.length>o){i-=e,this._setPaddingRelativeToAlignment(i);break}var s="all"===this._lineBreakOptimizationStrategy?this._getShortestLineLength(n):n[n.length-1].width;s<this._shortestLineToLongestLineMinRatio*this._getLongestLineLength(n)&&(i+=e,this._setPaddingRelativeToAlignment(i),i<this._maxPaddingToSizeRatio*this.size.width&&(t=!0))}while(t)}},Texty.prototype._setPaddingRelativeToAlignment=function(t){switch(this._getHorizontalAlignment()){case"left":this._textContainer.style.paddingRight=this.getTextPaddingRight()+t+"px";break;case"right":this._textContainer.style.paddingLeft=this.getTextPaddingLeft()+t+"px";break;case"center":this._textContainer.style.paddingLeft=this.getTextPaddingLeft()+t/2+"px",this._textContainer.style.paddingRight=this.getTextPaddingRight()+t/2+"px"}},Texty.prototype._adaptComponentSizeToContentSize=function(){if("none"!==this._adaptToContentStrategy&&!this._adaptToContentInProgress&&!this.scaleFont&&"pre-line"===this.textWhiteSpace){var t=this._getLinesProperties(),e=this._getLongestLineLength(t),i=t[t.length-1];if(0!==e&&i){var n=Math.max(1,this._responsiveFontSize*this._lineHeightRatio),o=i.height-n+t[0].top,s=Math.ceil(e)+this._getNaturalTextPaddingLeft()+this._getNaturalTextPaddingRight(),a=Math.ceil(i.top+i.height-o)+this._getNaturalTextPaddingTop()+this._getNaturalTextPaddingBottom();this.responsiveFont&&(a=Math.max(a,this._getContentSizeOfResponsiveContainer().height/this._fontScaleFactor+this._getNaturalTextPaddingTop())),s=Math.min(this.size.width,s),a=Math.min(this.size.height,a),"vertical"===this._adaptToContentStrategy?s=this.size.width:"horizontal"===this._adaptToContentStrategy&&(a=this.size.height);var r=this.position.x,h=this.position.y,l=this._getHorizontalAlignment();"center"===l?r=this.position.x+(this.size.width-s)/2:"right"===l&&(r=this.position.x+(this.size.width-s)),"50"===this.textAlignVertical?h=this.position.y+(this.size.height-a)/2:"100"===this.textAlignVertical&&(h=this.position.y+(this.size.height-a)),this._adaptToContentInProgress=!0,this._overrideNaturalSize(s,a),this.setPosition(r,h),this._adaptToContentInProgress=!1,this.emit("componentSizeUpdated")}}},Texty.prototype._getHorizontalAlignment=function(){switch(this.textAlign){case"justify":return"center";case"start":return"ltr"===window.getComputedStyle(this._textContainer).direction?"left":"right";case"end":return"ltr"===window.getComputedStyle(this._textContainer).direction?"right":"left";default:return this.textAlign}},Texty.prototype._getContentSizeOfResponsiveContainer=function(){var t=this._textContainerResponsive.getBoundingClientRect(),e=(parseInt(t.height,10)-t.height)*this._fontScaleFactor,i=(parseInt(t.width,10)-t.width)*this._fontScaleFactor,n=this._textContainerResponsive.scrollHeight+e,o=this._textContainerResponsive.scrollWidth+i;return{width:o,height:n}},Texty.prototype._setTextContainerStyle=function(t,e){this._textContainer.style[t]=e,this._textContainerClone.style[t]=e,this._textContainerResponsive.style[t]=e},Texty.prototype._setTextContainerAutomaticDirection=function(t){"auto"!==this.textDirection&&(t.style.direction="",t.setAttribute("dir","auto"))},Texty.prototype._applyAdjustedFontSizeStyle=function(t){var e=this._responsiveFontSize*this._fontScaleFactor;t.style.fontSize=e+"px",t.style.lineHeight=Math.max(1,e*this._lineHeightRatio)+"px",t.style.letterSpacing=e*this._letterSpacingRatio+"px"},Texty.prototype._adjustFontSizeToFitContainer=function(){if(this.responsiveFont){var t="undefined"!=typeof this.responsiveFontFactor?this.responsiveFontFactor:.5,e="undefined"!=typeof this.responsiveFontFactor?6:1,i=this.getFontSize(),n=this._getNaturalFontSize(),o=Math.max(Math.round(n*t),e),s=1/this._fontScaleFactor;this._responsiveFontSize=n;var a=Math.max(1,this.getLineSpacing()+i);this._lineHeightRatio=a/i,this._letterSpacingRatio=this.getLetterSpacing()/i;var r=this.getNaturalSize();this._applyAdjustedFontSizeStyle(this._textContainerResponsive);for(var h=this._getContentSizeOfResponsiveContainer();this._responsiveFontSize>o&&(h.height>r.height||h.width>r.width);)this._responsiveFontSize-=s,this._applyAdjustedFontSizeStyle(this._textContainerResponsive),h=this._getContentSizeOfResponsiveContainer();this._applyAdjustedFontSizeStyle(this._textContainer),this._applyAdjustedFontSizeStyle(this._textContainerClone)}},Texty.prototype.updateTextStyle=function(){this.applyTextStyle(this._textContainer),this.applyTextStyle(this._textContainerClone),this.applyTextStyle(this._textContainerResponsive),"string"==typeof this.textContentFeedFieldKey&&(this._setTextContainerAutomaticDirection(this._textContainer),this._setTextContainerAutomaticDirection(this._textContainerClone),this._setTextContainerAutomaticDirection(this._textContainerResponsive));var t="undefined"!=typeof this.textWhiteSpace?this.textWhiteSpace:"pre-wrap";this._setTextContainerStyle("whiteSpace",t)},Texty.prototype.getTextColor=function(){if("string"==typeof this.textColorFeedFieldKey){var t=FeedData.getFieldValueByKey(this.textColorFeedFieldKey,this.textColorFeedRowIndex);return"string"==typeof t&&FeedData.isCorrectFieldType(this.textColorFeedFieldKey,this.constructor.name,"textColorFeedFieldKey")?t:"transparent"}return TextStyleIntegrator.getTextColor.call(this)},Texty.prototype.loadFont=function(){this.font instanceof FontBase&&TextStyleIntegrator.loadFont.apply(this,arguments)},Texty.prototype._horizontallyRealignTextWithPadding=function(){var t=this.getTextPaddingLeft(),e=this.getTextPaddingRight(),i=parseInt(this._textContainer.style.paddingLeft,10),n=parseInt(this._textContainer.style.paddingRight,10);this.scaleFont&&"right"==this.textAlign&&!isNaN(i)?t=i-this.getTextPaddingLeft():this.scaleFont&&"left"==this.textAlign&&!isNaN(n)&&(e=n-this.getTextPaddingRight());var o=Math.max(t,this.getTextPaddingLeft()),s=Math.max(e,this.getTextPaddingRight());o!==i&&this._setTextContainerStyle("paddingLeft",o+"px"),s!==n&&this._setTextContainerStyle("paddingRight",s+"px")},Texty.prototype._verticallyAlignText=function(){if(!(this.scrollable||this._scrollContainer.offsetHeight<=this._textContainer.offsetHeight||"undefined"==typeof this.textAlignVertical)){this._setTextContainerStyle("paddingTop","");var t=0,e=this.scrollable?0:Number(this.textAlignVertical),i=this.getNaturalSize().height;this._textContainerClone.style.height=0,this._textContainerClone.style.display="inline";var n=0===e?0:this._textContainerClone.scrollHeight;this._textContainerClone.style.display="none";var o=Math.max(0,(i-n)*e/100);o=isNaN(o)?0:o,t=e>50&&i>n?-this.getTextPaddingBottom():50==e&&i>n?(this.getTextPaddingTop()+this.getTextPaddingBottom())/4:this.getTextPaddingTop(),this._setTextContainerStyle("marginTop",o+t+"px")}},Texty.prototype._getLongestLineLength=function(t){return Math.max.apply(null,t.map(function(t){return t.width}))},Texty.prototype._getShortestLineLength=function(t){return Math.min.apply(null,t.map(function(t){return t.width}))},Texty.prototype._getLinesProperties=function(){this._encloseTextCharactersWithSpanElements();for(var t=this._textContainer.getBoundingClientRect(),e=this._textContainer.querySelectorAll("span"),i=[],n=0;n<e.length;n++){var o=e[n].getBoundingClientRect(),s=o.top-t.top,a=o.left-t.left,r=i[i.length-1];r&&s===r.top?(a>r.left?r.width=Math.max(a-r.left+o.width,r.width):(r.width=Math.max(r.left-a+r.width,r.width),r.left=Math.min(a,r.left)),r.text=r.text+e[n].innerText):0!==o.width&&0!==o.height&&i.push({width:o.width,height:o.height,left:a,top:s,text:e[n].innerText})}return i},Texty.prototype._encloseTextCharactersWithSpanElements=function(){if(!this._textCharactersEnclosedWithSpanElements){for(var t="",e=0;e<this._textContainer.childNodes.length;e++){var i=this._textContainer.childNodes[e];t+=i.nodeType===Node.TEXT_NODE?i.textContent.split("").map(function(t){return"<span>"+t+"</span>"}).join(""):i.outerHTML}for(;this._textContainer.firstChild;)this._textContainer.removeChild(this._textContainer.firstChild);this._textContainer.innerHTML=t,this._textCharactersEnclosedWithSpanElements=!0}},Texty.prototype._updateTextContent=function(){var t=this._sanitizeText?htmlentitize(this.text.toString()):this.text;this._processSpecialChars&&(t=this._processSpecialFeedCharacters(t)),this._textContainer.innerHTML=t,this._textContainerClone.innerHTML=t,this._textContainerResponsive.innerHTML=t,this._textCharactersEnclosedWithSpanElements=!1},Texty.prototype._updateScrollbar=function(){this.scrollable&&(this.scroller.redraw(),this.scroller.scrollTo(0,0,!1),this.autoscrollEnabled&&(this._resetAutoScroll(),this._createAutoScroll()))},Texty.prototype._createAutoScroll=function(){var t=this.scroller.getMaxScroll();defer(function(){this.scroller.scrollTo(t.left,t.top,!0,this.autoscrollDuration,!0,function(){"return"===this.autoscrollConclusion?this.scroller.scrollTo(0,0,!0,this.autoscrollDuration,!0):"loop"===this.autoscrollConclusion&&(this._autoscrolling=!0,e())}.bind(this))}.bind(this),this.autoscrollDelay);var e=function(){this._autoscrolling&&this.scroller.scrollTo(0,0,!0,this.autoscrollDuration,!0,function(){this.scroller.scrollTo(t.left,t.top,!0,this.autoscrollDuration,!0,e)}.bind(this))}.bind(this)},Texty.prototype._resetAutoScroll=function(){this._autoscrolling=!1},Texty.prototype._handleTouchStart=function(t){t.preventDefault(),new ActionContext(this,!0).trackUserInteraction(),this.scrollable&&(this._resetAutoScroll(),t.stopPropagation(),this.scroller._handleTouchStart(t),attach(this.parentUnit.node,"touchmove",this._handleTouchMove),attach(this.parentUnit.node,"touchend",this._handleTouchEnd),attach(this.parentUnit.node,"touchcancel",this._handleTouchCancel))},Texty.prototype._handleTouchMove=function(t){t.preventDefault(),this.scroller._handleTouchMove(t)},Texty.prototype._handleTouchEnd=function(t){t.preventDefault(),this.scroller._handleTouchEnd(t),detach(this.parentUnit.node,"touchmove",this._handleTouchMove),detach(this.parentUnit.node,"touchend",this._handleTouchEnd),detach(this.parentUnit.node,"touchcancel",this._handleTouchCancel)},Texty.prototype._handleTouchCancel=function(t){this._handleTouchEnd(t)},Texty.prototype.positionUsingTransforms=retTrue,Texty.prototype.sizeUsingTransforms=retTrue,Texty.prototype.getNaturalSize=function(){return this.originalSize},Texty.prototype._getNaturalFontSize=function(){return this.toSizePx(this.fontSize,this.parentScreen.size.height)},Texty.prototype._getDefaultPadding=function(){return this.usePadding?2:0},Texty.prototype._getNaturalTextPaddingTop=function(){var t=TextStyleIntegrator.getTextPaddingTop.call(this);return"number"==typeof t?t:this._getDefaultPadding()},Texty.prototype._getNaturalTextPaddingRight=function(){var t=TextStyleIntegrator.getTextPaddingRight.call(this);return"number"==typeof t?t:this._getDefaultPadding()},Texty.prototype._getNaturalTextPaddingBottom=function(){var t=TextStyleIntegrator.getTextPaddingBottom.call(this);return"number"==typeof t?t:this._getDefaultPadding()},Texty.prototype._getNaturalTextPaddingLeft=function(){var t=TextStyleIntegrator.getTextPaddingLeft.call(this);return"number"==typeof t?t:this._getDefaultPadding()},Texty.prototype.getTextPaddingTop=function(){return this._getNaturalTextPaddingTop()},Texty.prototype.getTextPaddingRight=function(){return this._getNaturalTextPaddingRight()},Texty.prototype.getTextPaddingBottom=function(){return this._getNaturalTextPaddingBottom()},Texty.prototype.getTextPaddingLeft=function(){return this._getNaturalTextPaddingLeft()},Texty.prototype._startListeningForTouches=function(){this.scrollable&&!this._listeningForTouches&&(attach(this._textContainer,"touchstart",this._handleTouchStart),this._listeningForTouches=!0)},Texty.prototype._stopListeningForTouches=function(){this._listeningForTouches&&(detach(this._textContainer,"touchstart",this._handleTouchStart),this._listeningForTouches=!1)},Texty.prototype._setText=function(t){this.text=t,this.loadFont(function(){this._updateTextContent(),this.checkAndFixAutoWritingDirectionSupport(this._textContainer),this.checkAndFixAutoWritingDirectionSupport(this._textContainerClone),this.checkAndFixAutoWritingDirectionSupport(this._textContainerResponsive),this.scaleFont&&(this.scaleFont=!1),this.hidden||this._handleSizeUpdate(!0)}.bind(this))},Texty.prototype._processSpecialFeedCharacters=function(t){t=String(t);var e=t.split("\\[");if(e.length<2)return t;for(var i=1;i<e.length;i++){var n=e[i].split("\\]");e[i]='<span class="no-break">'+n[0]+"</span>",n.length>1&&(e[i]+=n.slice(1).join(""))}return e.join("")},Texty.prototype.showAction=function(t,e,i){Texty.uber.showAction.call(this,t,e,function(){this._startListeningForTouches(),i()}.bind(this))},Texty.prototype.hideAction=function(t,e,i){Texty.uber.hideAction.call(this,t,e,function(){this._stopListeningForTouches(),i()}.bind(this))},Texty.prototype.resetAction=function(t,e,i){this._sanitizeText=!0,this.resetFont(),Texty.uber.resetAction.call(this,t,e,function(){this.hidden||this._startListeningForTouches(),this.text=this._initialText,this._processSpecialChars=this._initialProcessSpecialChars,this._updateTextContent(),this.scaleFont=this._initialScaleFont,this.checkAndFixAutoWritingDirectionSupport(this._textContainer),this.checkAndFixAutoWritingDirectionSupport(this._textContainerClone),this.checkAndFixAutoWritingDirectionSupport(this._textContainerResponsive),this._handleSizeUpdate(!0),i()}.bind(this))},Texty.prototype.setTextAction=function(t,e,i){this._sanitizeText=!1,this._processSpecialChars=!1,this._setText(e.text),i()},Texty.prototype.getText=function(){var t=String(this.text);return this._processSpecialChars&&(t=t.replace(/\\(\]|\[)/g,"")),this._sanitizeText&&(t=htmlentitize(t)),t},Texty.prototype.setAdaptToContentStrategy=function(t){["both","vertical","horizontal","none"].indexOf(t)>-1&&(this._adaptToContentStrategy=t)},Texty.prototype.setLineBreakOptimizationStrategy=function(t){["all","last","none"].indexOf(t)>-1&&(this._lineBreakOptimizationStrategy=t)},Texty.prototype.setShortestLineToLongestLineMinRatio=function(t){this._shortestLineToLongestLineMinRatio=t},Texty.prototype.setMaxPaddingToSizeRatio=function(t){this._maxPaddingToSizeRatio=t};;
function Shapey(){}inherit(Shapey,ScreenObject),Shapey.toString=function(){return"[Clazz Shapey]"},Shapey.prototype.toString=function(){return"[Shapey "+this.localId+"]"},Object.defineProperties(Shapey.prototype,{_borderRoundness:{get:function(){var e=0,t=0,r=0,a=this._defaultValues.roundness;if("number"==typeof this.roundness&&(a=this.roundness),a>0){var o=Math.min(this.getNaturalSize().height,this.getNaturalSize().width),s=o/2,i=Math.max(this.getNaturalSize().height,this.getNaturalSize().width),h=i/2;if(50>a){var d=a/50;e=s*d}else{var n=(a-50)/50,l=(h-s)*n,p=s+l;t=this.getNaturalSize().width==o?s:p,r=this.getNaturalSize().height==o?s:p}}return this.shadow&&ios("8")&&window.devicePixelRatio>=3&&(1>e&&(e=1),1>t&&(t=1),1>r&&(r=1)),50>a?e+"px":t+"px "+r+"px"}}}),Shapey.prototype.awake=function(){Shapey.uber.awake.call(this),this._defaultValues={backgroundColor:"#365c99",borderColor:"#000000",borderWidth:5,roundness:0,shadowAngle:0,shadowBlur:10,shadowColor:"rgba(0,0,0,0.5)",shadowDistance:0}},Shapey.prototype.createNode=function(){var e=Shapey.uber.createNode.call(this);this._privateApiTracked={},addClass(e,"touchable"),this._shapey=document.createElement("div");var t=this._defaultValues.backgroundColor;if("string"==typeof this.backgroundColorFeedFieldKey){FeedData.checkAndTrackValue(this.backgroundColorFeedFieldKey,this.backgroundColorFeedRowIndex,this.constructor.name,"backgroundColorFeedFieldKey");var r=FeedData.getFieldValueByKey(this.backgroundColorFeedFieldKey,this.backgroundColorFeedRowIndex);t="string"==typeof r&&FeedData.isCorrectFieldType(this.backgroundColorFeedFieldKey,this.constructor.name,"backgroundColorFeedFieldKey")?r:"transparent"}else"string"==typeof this.backgroundColor&&(t=this.backgroundColor);if(Color.isGradient(t)){var a=Color.createGradientStyle(t);this.addStyle({".gradient-shapey":a}),addClass(this._shapey,"gradient-shapey")}else this._shapey.style.backgroundColor=t;if(this.border){var o="undefined"!=typeof this.borderColor?this.borderColor:this._defaultValues.borderColor,s="number"==typeof this.borderWidth?this.borderWidth:this._defaultValues.borderWidth;if(this._shapey.style.borderColor=o,this._shapey.style.borderStyle="solid",this._shapey.style.borderWidth=s+"px",deviceInfo.browser.chrome()||deviceInfo.browser.samsung()){var i="1";if(Color.isRgba(o)){var h=Color.patternRgba.exec(o);i=h[Color.matchRgbaAlpha]}"1"===i&&(this._shapey.style.backgroundClip="border-box")}}if(this.shadow){var d=("number"==typeof this.shadowAngle?this.shadowAngle:this._defaultValues.shadowAngle)*(Math.PI/180),n="number"==typeof this.shadowBlur?this.shadowBlur:this._defaultValues.shadowBlur,l="undefined"!=typeof this.shadowColor?this.shadowColor:this._defaultValues.shadowColor,p="number"==typeof this.shadowDistance?this.shadowDistance:this._defaultValues.shadowDistance,u=Math.round(p*Math.cos(d)),y=Math.round(p*Math.sin(d));celtra.styler.css(this._shapey,"boxShadow",u+"px "+y+"px "+n+"px "+l)}return e.appendChild(this._shapey),e},Shapey.prototype.redrawLayout=function(){if(this._shapey){var e=this._borderRoundness;parseInt(e,10)>0&&(this._shapey.style.borderTopLeftRadius=e,this._shapey.style.borderTopRightRadius=e,this._shapey.style.borderBottomLeftRadius=e,this._shapey.style.borderBottomRightRadius=e)}},Shapey.prototype._track=function(e){this._privateApiTracked[e]||(this._privateApiTracked[e]=!0,creative.track({name:"retiredFeatureUsed",featureType:"apifunction",featureName:e}))},Shapey.deprecatedPropertiesArray=["borderRoundness","shapey","defaultValues"],Shapey.deprecatedPropertiesObject={},Shapey.deprecatedPropertiesArray.forEach(function(e){Shapey.deprecatedPropertiesObject[e]={get:function(){return this._track("Shapey."+e+".getter"),this["_"+e]},set:function(t){this._track("Shapey."+e+".setter"),this["_"+e]=t}}}),Object.defineProperties(Shapey.prototype,Shapey.deprecatedPropertiesObject);;
var DynamicFeed={};DynamicFeed.toString=function(){return"[Clazz DynamicFeed]"},DynamicFeed.checkChoiceFeedAction=function(e,d,i){FeedData.checkAndTrackValue(d.feedFieldKey,d.feedRowIndex,d.caller.method,"feedFieldKey");var a=FeedData.getFieldValueByKey(d.feedFieldKey,d.feedRowIndex);"string"==typeof a&&FeedData.isCorrectFieldType(d.feedFieldKey,d.caller.method,"feedFieldKey")&&d.outcomes.forEach(function(d){return"string"==typeof d.choice&&d.choice.toLowerCase()===a.toLowerCase()?(d.action||nullai)(e,i):void 0})},DynamicFeed.goToFeedURLAction=function(e,d,i){FeedData.checkAndTrackValue(d.feedFieldKey,d.feedRowIndex,d.caller.method,"feedFieldKey"),d.url="";var a=FeedData.getFieldValueByKey(d.feedFieldKey,d.feedRowIndex);"string"==typeof a&&FeedData.isCorrectFieldType(d.feedFieldKey,d.caller.method,"feedFieldKey")&&(d.url=a),e.screen.parentUnit.goToURLAction(e,d,i)};;
function File(t){if(t){if("string"==typeof t)return void(this.url=t);if(!t.url)throw"Url parameter must be set.";if(deep(this,t),0===this.url.indexOf(creative.cachedApiUrl)||0===this.url.indexOf(creative.insecureCachedApiUrl)){var i=this.url.split("/");"undefined"==typeof this.name&&(this.name=i[i.length-1]||"unknown"),"undefined"==typeof this.blobHash&&(this.blobHash=i[i.length-2]),"undefined"==typeof this.retinaScaleFactor&&(this.retinaScaleFactor=File.getRetinaScaleFactor(this.name)),"undefined"==typeof this.quality&&(this.quality=File.getDefaultQuality(this.name))}}}File.toString=function(){return"[Clazz File]"},File.prototype.toString=function(){return"[File "+this.localId+"("+this.name+"/"+this.url+")]"},File.prototype.getOriginalUrl=function(){if(this.url){if(-1!==this.url.indexOf("://"))return this.url;if("/"===this.url[0])throw"An absolute path as URL?";return creative.resourceUrl+this.url}if(this.blobHash)return(creative.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+"blobs/"+this.blobHash+"/"+encodeURIComponent(this.name);throw"Neither url nor blobHash set?"},File.prototype.getUrl=function(t){var i=this.getOriginalUrl();return this.optimizable&&(i+="?transform=crush",this.quality>-1&&(i+="&quality="+this.quality),t&&this.optimizedWidth(t)>0&&this.optimizedHeight(t)>0&&(i+="&resize="+this.optimizedWidth(t)+"x"+this.optimizedHeight(t)),this.dynamic&&"string"==typeof this.fitting&&this.fitting.length>0&&(i+="&fitting="+this.fitting)),i},File.prototype.getDataUri=function(t,i){t instanceof Function&&(i=t,t={});var e=!this.dynamic&&("undefined"!=typeof this.blobHash||this.url.indexOf("api/animateySprites")>=0),n=creative.adapter.protoLoading.dataURIsSupported,r=creative.adapter.protoLoading.blobURIsSupported,a="treatment"===(creative.experiments.get("UseDataURIsGlobally")||{}).chosenVariant,h=1==creative.runtimeParams.dataURIsEnabled||1==creative.runtimeParams.turnOnBatching,o=(n||r)&&!creative.adapter.autoDecodesURLParams,s=(!!t.preferBatching||a||h)&&o&&e,l=this.getUrl(t.creativeUnitVariantId);"undefined"!=typeof this.dataUri?defer(function(){i(this.dataUri)}.bind(this),0,"File.getDataUri defer callback, has dataUri"):s?creative.batcher.getDataUri(l,i):defer(function(){i(l)},0,"File.getDataUri defer callback, url")},Object.defineProperties(File.prototype,{dynamic:{get:function(){return"undefined"!=typeof this._dynamic&&this._dynamic},set:function(t){this._dynamic=t},enumerable:!0,configurable:!1},optimizable:{get:function(){var t=this.getOriginalUrl(),i=0===t.indexOf(creative.cachedApiUrl)||0===t.indexOf(creative.insecureCachedApiUrl),e=creative.experiments?creative.experiments.get("FeedImageOptimization")||{}:{},n="on"===e.chosenVariant,r=i&&(!this.dynamic||n),a=!!String(this.name).match(/\.(gif|png|jpe?g)$/i);return r&&a},enumerable:!0,configurable:!1},retina:{get:function(){return this.retinaScaleFactor>1},enumerable:!0,configurable:!1},width:{get:function(){return this.retina?Math.round(this.meta.width/this.retinaScaleFactor):this.meta.width},enumerable:!0,configurable:!1},height:{get:function(){return this.retina?Math.round(this.meta.height/this.retinaScaleFactor):this.meta.height},enumerable:!0,configurable:!1},optimizedWidth:{get:function(){return function(t){if("number"!=typeof t||!this.optimizationSettings)return null;for(var i=null,e=0;e<this.optimizationSettings.length;e++){var n=this.optimizationSettings[e];if(n.creativeUnitVariantId===t&&n.optimizedWidth){i=n;break}}return i&&(i.optimizedWidth<this.meta.width||this.dynamic)?i.optimizedWidth:null}.bind(this)},enumerable:!0,configurable:!1},optimizedHeight:{get:function(){return function(t){if("number"!=typeof t||!this.optimizationSettings)return null;for(var i=null,e=0;e<this.optimizationSettings.length;e++){var n=this.optimizationSettings[e];if(n.creativeUnitVariantId===t&&n.optimizedHeight){i=n;break}}return i&&(i.optimizedHeight<this.meta.height||this.dynamic)?i.optimizedHeight:null}.bind(this)},enumerable:!0,configurable:!1}}),File.MAXIMUM_SUPPORTED_RETINA_SCALE=4,File.getDefaultQuality=function(t){t=String(t);var i=/\.png$/i.test(t),e=/\.jpe?g$/i.test(t),n=/\.gif$/i.test(t),r=File.getRetinaScaleFactor(t)>1,a=-1;return i?a=r?150:256:n?a=r?75:85:e&&(a=r?65:85),a},File.getRetinaScaleFactor=function(t){t=String(t);var i=new RegExp("^.*(@([2-"+File.MAXIMUM_SUPPORTED_RETINA_SCALE+"]+)x)"),e=t.toLowerCase().match(i);return e&&e[2]?parseInt(e[2],10):1};;
function Font(){}inherit(Font,FontBase),Font.toString=function(){return"[Clazz Font]"},Font.prototype.toString=function(){return"[Font "+this.localId+"]"},Font.prototype.hasFeedFields=function(){return this.feedFields instanceof Array},Font.prototype.getSubsetString=function(){var t=Font.uber.getSubsetString.apply(this);if(!this.hasFeedFields())return t;if("string"==typeof this.extendedSubsetString)return this.extendedSubsetString;var e=t||"";return this.feedFields.forEach(function(t){var n=FeedData.getFieldRowsByKey(t);n.forEach(function(t){"string"==typeof t.value&&(e+=t.value)})}),this.extendedSubsetString=e.replace(/[\r\n\t\f\v]/g,"").split("").filter(function(t,e,n){return n.indexOf(t)===e}).sort().join(""),this.extendedSubsetString},Font.prototype.getUnicodeRange=function(){return this.hasFeedFields()?"":Font.uber.getUnicodeRange.apply(this)};;
!function(){function t(){return this.sizeUsingTransforms()?r:a}function e(t,i){if(t instanceof Object&&t.constructor===Object){var n={};return Object.keys(t).forEach(function(h){n[h]=e(t[h],i)}),n}return"number"==typeof t?t*i:t}function i(t,e,i){return function(){return this.isAnimated&&("string"!=typeof i||this[i])?e.apply(this,arguments):t.apply(this,arguments)}}function n(n,h,s){var a=n[h],r=function(){return e(a.apply(this,arguments),t.call(this))};n[h]=i(a,r,s)}function h(t,e,i){var h="get"+ucfirst(e);n(t,h,i)}function s(){return this.isAnimated}var a=1,r=2;if(ScreenObject.prototype.positionUsingTransforms=s,ScreenObject.prototype.sizeUsingTransforms=s,"undefined"!=typeof Picture){Picture.prototype.positionUsingTransforms=s,Picture.prototype.sizeUsingTransforms=s;var o=Picture.prototype.awake;Picture.prototype.awake=function(){o.apply(this,arguments),this._imageElement=null,this.on("appear",this._drawImage.bind(this))};var l=Picture.prototype.createNode;Picture.prototype.createNode=function(){return this.parentContainer.on("resize",this._drawImage.bind(this)),l.apply(this,arguments)},Picture.prototype._drawImage=function(){if(this._imageElement){if("stretch"==this.fittingSize)return this._imageElement.style.position="absolute",this._imageElement.style.left="0px",this._imageElement.style.top="0px",this._imageElement.style.width="100%",void(this._imageElement.style.height="100%");var t=this.imagePosition?this.imagePosition.split("-"):["left","top"];1===t.length&&(["left","right"].indexOf(t[0])>-1?t.push("center"):t.unshift("center"));var e,i,n=this.file.width/this.file.height,h=this.sizeUsingTransforms()?this.getNaturalSize():this.size,s=h.width/h.height,a=this.fittingSize;"fitUpToOriginal"===this.fittingSize&&(a=h.width<this.file.width||h.height<this.file.height?"fit":"original"),"original"===a?(e=this.file.width,i=this.file.height):"repeat"===a?(e=this.file.meta.width,i=this.file.meta.height):"stretch"===a?(e=h.width,i=h.height):"fit"===a?n>s?(e=h.width,i=this.file.height*(h.width/this.file.width)):(e=this.file.width*(h.height/this.file.height),i=h.height):"fill"===a&&(n>s?(e=this.file.width*(h.height/this.file.height),i=h.height):(e=h.width,i=this.file.height*(h.width/this.file.width)));var r,o;if("repeat"===a)r={left:0,center:Math.round((h.width*this._patternPixelRatio-e)/2),right:h.width*this._patternPixelRatio-e},o={top:0,center:Math.round((h.height*this._patternPixelRatio-i)/2),bottom:h.height*this._patternPixelRatio-i},this._imageElementsCtx.canvas.width=h.width*this._patternPixelRatio,this._imageElementsCtx.canvas.height=h.height*this._patternPixelRatio,this._imageElement.style.width=h.width+"px",this._imageElement.style.height=h.height+"px",this._imageElementsCtx.save(),this._imageElementsCtx.fillStyle=this._pattern,this._imageElementsCtx.translate(r[t[0]],o[t[1]]),this._imageElementsCtx.fillRect(-r[t[0]],-o[t[1]],h.width*this._patternPixelRatio,h.height*this._patternPixelRatio),this._imageElementsCtx.restore();else{r={left:"left: 0px;",center:"left: "+Math.round((h.width-e)/2)+"px;",right:"right: 0px;"},o={top:"top: 0px;",center:"top: "+Math.round((h.height-i)/2)+"px;",bottom:"bottom: 0px;"};var l=r[t[0]]+" "+o[t[1]]+" ",p="width: "+e+"px; height: "+i+"px; ",g="";this._imageElement.style.cssText="position: absolute; "+l+p+g}}},Picture.prototype._handlePreloadedImage=function(t,e){(this.file.dynamic||"repeat"===this.fittingSize)&&(this.file.meta={height:e.naturalHeight,width:e.naturalWidth}),"repeat"===this.fittingSize?(this._imageElement=document.createElement("canvas"),this._imageElementsCtx=this._imageElement.getContext("2d"),this._pattern=this._imageElementsCtx.createPattern(e,"repeat"),this._patternPixelRatio=e.naturalWidth/this.file.width):this._imageElement=e,this._drawImage(),t.appendChild(this._imageElement)}}var p=Screen.prototype.resetAction;Screen.prototype.resetAction=function(t){Scene.instances.forEach(function(e){e.parentScreen===this&&e.resetAction(t,{},noop)}.bind(this)),p.apply(this,arguments)},ScreenObject._roundIfNeeded=function(t){return t};var g=["fontSize","lineSpacing","letterSpacing","scaleBaseHeight","scaleBaseWidth","textShadowBlur","textShadowOffset"];if("undefined"!=typeof Texty){n(Texty.prototype,"getNaturalSize");var f=["textPaddingTop","textPaddingRight","textPaddingBottom","textPaddingLeft"];f.forEach(function(t){h(Texty.prototype,t,"useFontScaleFactorForPadding")}),g.forEach(function(t){h(Texty.prototype,t)})}var c=["borderWidth","shadowDistance","shadowBlur"].concat(g);"undefined"!=typeof Button&&(n(Button.prototype,"getNaturalSize"),c.forEach(function(t){h(Button.prototype,t)}))}();;
!function(n){function t(n,t,e){var u=n.filter(function(n){return n.id===t})[0];return u&&u.value?u.value:e}function e(n,t,e,u){var r=.001,i=3*n,a=3*(e-n)-i,o=1-i-a,c=3*t,f=3*(u-t)-c,s=1-c-f,I=function(n){return((o*n+a)*n+i)*n},O=function(n){return((s*n+f)*n+c)*n},h=function(n){return(3*o*n+2*a)*n+i},p=function(n){var t,e,u,i,a,o;for(u=n,o=0;8>o;o++){if(i=I(u)-n,Math.abs(i)<r)return u;if(a=h(u),Math.abs(a)<1e-6)break;u-=i/a}if(t=0,e=1,u=n,t>u)return t;if(u>e)return e;for(;e>t;){if(i=I(u),Math.abs(i-n)<r)return u;n>i?t=u:e=u,u=.5*(e-t)+t}return u};return function(n){return O(p(n))}}function u(n){return Math.pow(n,2)}function r(n){return Math.pow(n,3)}function i(n){return Math.pow(n,4)}function a(n){return Math.pow(n,5)}function o(n){return 1-Math.cos(n*Math.PI*.5)}function c(n){return Math.pow(2,10*(n-1))}function f(n){return 1-Math.sqrt(1-n*n)}var s={none:function(){return 0},steps:function(n,e){var u=t(e,"steps",3),r=t(e,"jump-position","end"),i=1/u,a=n*u;return Math["end"===r?"floor":"ceil"](a)*i},linear:function(n){return n},easeIn:e(.42,0,1,1),easeOut:e(0,0,.58,1),easeInOut:e(.42,0,.58,1),easeInQuad:u,easeOutQuad:function(n){return 1-u(1-n)},easeInOutQuad:function(n){return.5>n?.5*u(2*n):1-.5*u(2*(1-n))},easeInCubic:r,easeOutCubic:function(n){return 1-r(1-n)},easeInOutCubic:function(n){return.5>n?.5*r(2*n)/2:1-.5*r(2*(1-n))},easeInQuart:i,easeOutQuart:function(n){return 1-i(1-n)},easeInOutQuart:function(n){return.5>n?.5*i(2*n):1-.5*i(2*(1-n))},easeInQuint:a,easeOutQuint:function(n){return 1-a(1-n)},easeInOutQuint:function(n){return.5>n?.5*a(2*n):1-.5*a(2*(1-n))},easeInSine:o,easeOutSine:function(n){return 1-o(1-n)},easeInOutSine:function(n){return.5*o(2*n)},easeInExpo:c,easeOutExpo:function(n){return 1-c(1-n)},easeInOutExpo:function(n){return.5>n?.5*c(2*n):1-.5*c(2*(1-n))},easeInCirc:f,easeOutCirc:function(n){return 1-f(1-n)},easeInOutCirc:function(n){return.5>n?.5*f(2*n):1-.5*f(2*(1-n))},easeInBack:e(.6,-.28,.735,.045),easeOutBack:e(.175,.885,.32,1.275),easeInOutBack:e(.68,-.55,.265,1.55),cubicBezier:e};"undefined"!=typeof module&&null!==module?Object.keys(s).forEach(function(n){module.exports[n]=s[n]}):n.AnimationTimingFunctions=s}(this);;
!function(n){function i(n,a,o){this._propertyTweens={},o=o||i.getUsedProperties(n);var u=t(n);for(var s in o){var v=o[s],f=r(v,u);this._propertyTweens[v]=new e(f,a)}}function e(n,i){this._keyframes=n,this._defaultTimingFunction=i||AnimationTimingFunctions.linear,this._tweenable=o(this._keyframes),a(this._keyframes)}function t(n){var i=[];for(var e in n){var t=parseFloat(e);i[Math.round(t*u)]=n[e]}return i}function r(n,i){var e,t={};for(var r in i)if(n in i[r]){"undefined"==typeof t[r]&&(t[r]={});var a=i[r][n];a instanceof Object?("undefined"!=typeof a.value&&null!==a.value&&(e=a.value,t[r].value=a.value),a.timingFunction&&(t[r].timingFunction=a.timingFunction)):(e=a,t[r].value=a,i[r].timingFunction&&(t[r].timingFunction=i[r].timingFunction))}return"undefined"==typeof t[v]&&(t[v]={value:e}),t}function a(n){if(!(s in n))throw new Error("Missing initial keyframe!");if(!(v in n))throw new Error("Missing final keyframe!")}function o(n){for(var i in n)return"number"==typeof n[i].value}var u=1e5,s=0*u,v=100*u;i.prototype.getValuesAt=function(n){var i={};for(var e in this._propertyTweens)i[e]=this._propertyTweens[e].getValueAt(n);return i},i.getUsedProperties=function(n){var i={};for(var e in n)for(var t in n[e])"timingFunction"!=t&&(i[t]=!0);return Object.keys(i)},e.prototype.getValueAt=function(n){n=Math.round(n*u);var i,e;for(var t in this._keyframes)t==n?(i={position:t,values:this._keyframes[t]},e={position:t,values:this._keyframes[t]}):n>t?i={position:t,values:this._keyframes[t]}:t>n&&!e&&(e={position:t,values:this._keyframes[t]});if(!this._tweenable)return i.values.value;var r=e.position-i.position,a=n-i.position,o=0==r?0:a/r,s=i.values.timingFunction&&i.values.timingFunction.instance?i.values.timingFunction.instance:this._defaultTimingFunction,v=i.values.timingFunction&&i.values.timingFunction.parameters?i.values.timingFunction.parameters:[];o=s(o,v);var f=e.values.value-i.values.value,l=f*o;return i.values.value+l},n.KeyframeAnimation=i}(this);;
function BaseScenePlayer(e){this._scene=e,this._state=new StateObject({progress:-1}),this._update=this._update.bind(this),this._render=this._render.bind(this),this._end=this._end.bind(this),this.paused=!0,this.ended=!1,this.supportsAutoplay=!1,this.supportsFallback=!0}extend(BaseScenePlayer.prototype,EventEmitter),Object.defineProperty(BaseScenePlayer.prototype,"progress",{get:function(){return-1!==this._state.progress?this._state.progress:this.ended?100:0}}),BaseScenePlayer.prototype._update=function(){this._state.isDirty("progress")&&(this._scene.updateObjects(this._state.progress),this.emit("progress",this._state.progress))},BaseScenePlayer.prototype._render=function(){this._state.isDirty("progress")&&(this._scene.renderObjects(),this.emit("render"),this._state.markClean())},BaseScenePlayer.prototype._cancel=function(){Ticker.removeFrame(this._update,"update"),Ticker.removeFrame(this._render,"render"),Ticker.removeFrame(this._end,"next"),this._state.markClean(),this.paused=!0},BaseScenePlayer.prototype._end=function(){this.stop(),this.emit("end")},BaseScenePlayer.prototype._stop=noop,BaseScenePlayer.prototype._pause=noop,BaseScenePlayer.prototype._play=function(){return!0},BaseScenePlayer.prototype.play=function(){this._cancel(),this._play()&&(this.paused=!1,Ticker.frame(this._update,"update"),Ticker.frame(this._render,"render"),this.emit("play"))},BaseScenePlayer.prototype.displayFallbackFrame=function(e){this._scene.updateObjects(Math.max(0,Math.min(e,100))),this._scene.renderObjects(),this._state.progress=e,this._state.markClean()},BaseScenePlayer.prototype.pause=function(){this.silentPause(),this.emit("pause")},BaseScenePlayer.prototype.silentPause=function(){this.ended=100===this._state.progress,(0===this._state.progress||100===this._state.progress)&&(this._state.progress=-1),this._cancel(),this._pause()},BaseScenePlayer.prototype.stop=function(){this._stop(),this.silentPause(),this.emit("stop")},BaseScenePlayer.prototype.destroy=function(){this._cancel()};;
function TimeScenePlayer(e){TimeScenePlayer.uberConstructor.call(this,e),this._state.registerValue("loopCount",0),this._elapsedTime=null,this._startTime=null,this._lastUpdateTime=null,this.supportsFallback=!1}inherit(TimeScenePlayer,BaseScenePlayer),Object.defineProperty(TimeScenePlayer.prototype,"_loopEnded",{get:function(){return"stop"===this._scene.onEnd&&this._state.progress>=100||"repeat"===this._scene.onEnd&&this._scene.onEndRepeatCount&&this._state.loopCount>=this._scene.onEndRepeatCount||"reverse"===this._scene.onEnd&&this._scene.onEndReverseCount&&this._state.loopCount>=2*this._scene.onEndReverseCount||0===this._scene.getDuration().milliseconds}}),Object.defineProperty(TimeScenePlayer.prototype,"_newLoopStarted",{get:function(){return this._state.isDirty("loopCount")}}),TimeScenePlayer.prototype._update=function(e){var t=this._scene.getDuration().milliseconds;this._startTime=this._startTime||e,this._lastUpdateTime&&(this._startTime-=this._lastUpdateTime,this._lastUpdateTime=null),this._elapsedTime=e-this._startTime,this._state.loopCount=Math.floor(t>0?this._elapsedTime/t:1);var s,i=100*(t>0?this._elapsedTime/t:1),n=i%100;s="repeat"===this._scene.onEnd?this._loopEnded||this._newLoopStarted?100:n:"reverse"===this._scene.onEnd?this._newLoopStarted&&this._state.loopCount%2?100:this._loopEnded?0:this._state.loopCount%2?100-n:n:i,this._state.progress=Math.max(0,Math.min(s,100)),TimeScenePlayer.uber._update.apply(this,arguments),this._loopEnded&&Ticker.frame(this._end,"next")},TimeScenePlayer.prototype._pause=function(){this._lastUpdateTime||(this._lastUpdateTime=this._elapsedTime),this._elapsedTime=null,this._startTime=null},TimeScenePlayer.prototype._stop=function(){this._lastUpdateTime=null,this._elapsedTime=null,this._state.loopCount=0};;
</script><script>window.touchEventSimulator = new TouchEventSimulator(document);window.touchEventSimulator.init();function __parseJSON(s){return JSON.parse(s);}</script><style id="font-style-manager"></style></head><body><div id="viewport" style="overflow: hidden; position: absolute; top: 0px; left: 0px; width: 728px; height: 90px;"><div id="celtra-object-1" class="celtra-creative-unit-with-variants celtra-base-creative-unit celtra-view" style="touch-action: manipulation;"><div id="celtra-object-7218" class="celtra-creative-unit-variant celtra-view" style="touch-action: manipulation; background: rgb(255, 255, 255); width: 728px; height: 90px; left: 50%; right: auto; margin-left: -364px; top: 50%; bottom: auto; margin-top: -45px;"><div class="celtra-screen-holder"><div id="celtra-object-7219" class="celtra-screen celtra-screen-object-container celtra-view" style="touch-action: manipulation; overflow: visible; height: 100%; width: 100%; z-index: -1; display: block;"></div><div id="celtra-object-27749" class="celtra-screen celtra-screen-object-container celtra-view" style="touch-action: manipulation; overflow: hidden; height: 100%; width: 100%; display: block;"><div id="celtra-object-40836" class="celtra-fallback celtra-screen-object celtra-view" style="touch-action: manipulation; position: absolute; transform: scale(1, 1); transform-origin: 50% 50%; left: 0px; top: 0px; width: 728px; height: 90px; z-index: 10017; opacity: 1; display: block;"><div id="celtra-object-40837" class="celtra-nested-container celtra-screen-object-container celtra-view" style="touch-action: manipulation; width: 100%; height: 100%; position: relative; overflow: hidden;"><div id="celtra-object-40977" class="celtra-picture celtra-screen-object celtra-view touchable" style="touch-action: manipulation; position: absolute; transform: translate(-303px, -495px) rotate(0deg) scale(0.0833333, 0.0833333); transform-origin: 50% 50%; left: 0px; top: 0px; width: 1080px; height: 1080px; z-index: 1; opacity: 1; display: block;"><img src="./ED8389_21_model.jpg" style="position: absolute; left: 0px; top: 0px; width: 1080px; height: 1080px;"></div><div id="celtra-object-40978" class="celtra-group celtra-screen-object celtra-view" style="touch-action: manipulation; position: absolute; transform: translate(192px, 0px) rotate(0deg) scale(1, 1); transform-origin: 50% 50%; left: 0px; top: 0px; width: 90px; height: 90px; z-index: 2; opacity: 1; display: block;"><div id="celtra-object-40979" class="celtra-nested-container celtra-screen-object-container celtra-view" style="touch-action: manipulation; width: 100%; height: 100%; position: relative; overflow: hidden;"><div id="celtra-object-40982" class="celtra-hotspot celtra-screen-object celtra-view touchable" style="touch-action: manipulation; position: absolute; transform-origin: 50% 50%; left: 0px; top: 0px; width: 90px; height: 90px; z-index: 5; opacity: 1; display: block; outline: transparent solid 1px;"></div><div id="celtra-object-40985" class="celtra-shapey celtra-screen-object celtra-view touchable" style="touch-action: manipulation; position: absolute; transform-origin: 50% 50%; left: 0px; top: 0px; width: 90px; height: 90px; z-index: 2; opacity: 1; display: block; outline: transparent solid 1px;"><div style="background-color: rgba(0, 0, 0, 0.7);"></div></div><div id="celtra-object-40983" class="celtra-texty celtra-screen-object celtra-view" style="touch-action: manipulation; position: absolute; transform: translate(22px, 69px) scale(1, 1); transform-origin: 50% 50%; left: 0px; top: 0px; width: 45px; height: 24px; z-index: 4; opacity: 1; display: block;"><div class="scroll-container"><div dir="auto" style="font-family: &quot;18150018227&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 400; color: rgb(255, 255, 255); letter-spacing: 0.3px; text-align: center; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; white-space: pre-line; font-size: 10px; line-height: 12px; margin-top: 2px;">$40</div><div dir="auto" style="display: none; font-family: &quot;18150018227&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 400; color: rgb(255, 255, 255); letter-spacing: 0.3px; text-align: center; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; white-space: pre-line; font-size: 10px; line-height: 12px; height: 0px; margin-top: 2px;">$40</div><div dir="auto" style="visibility: hidden; font-family: &quot;18150018227&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 400; color: rgb(255, 255, 255); letter-spacing: 0.3px; text-align: center; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; white-space: pre-line; font-size: 10px; line-height: 12px; margin-top: 2px;">$40</div></div></div><div id="celtra-object-40984" class="celtra-texty celtra-screen-object celtra-view" style="touch-action: manipulation; position: absolute; transform: translate(4px, 2.502px) scale(1, 1); transform-origin: 50% 50%; left: 0px; top: 0px; width: 81px; height: 68px; z-index: 3; opacity: 1; display: block;"><div class="scroll-container"><div dir="auto" style="font-family: &quot;18150018227&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 400; color: rgb(255, 255, 255); letter-spacing: 0.3px; text-align: center; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; white-space: pre-line; font-size: 10px; line-height: 12px; margin-top: 17.5px;">ADIDAS CREATOR 365 SHORTS</div><div dir="auto" style="display: none; font-family: &quot;18150018227&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 400; color: rgb(255, 255, 255); letter-spacing: 0.3px; text-align: center; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; white-space: pre-line; font-size: 10px; line-height: 12px; height: 0px; margin-top: 17.5px;">ADIDAS CREATOR 365 SHORTS</div><div dir="auto" style="visibility: hidden; font-family: &quot;18150018227&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 400; color: rgb(255, 255, 255); letter-spacing: 0.3px; text-align: center; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; white-space: pre-line; font-size: 10px; line-height: 12px; margin-top: 17.5px;">ADIDAS CREATOR 365 SHORTS</div></div></div></div></div><div id="celtra-object-40988" class="celtra-picture celtra-screen-object celtra-view touchable" style="touch-action: manipulation; position: absolute; transform: translate(-208px, -495px) rotate(0deg) scale(0.0833333, 0.0833333); transform-origin: 50% 50%; left: 0px; top: 0px; width: 1080px; height: 1080px; z-index: 3; opacity: 1; display: block;"><img src="./G26774_01_standard.jpg" style="position: absolute; left: 0px; top: 0px; width: 1080px; height: 1080px;"></div><div id="celtra-object-40989" class="celtra-group celtra-screen-object celtra-view" style="touch-action: manipulation; position: absolute; transform: translate(287px, 0px) rotate(0deg) scale(1, 1); transform-origin: 50% 50%; left: 0px; top: 0px; width: 90px; height: 90px; z-index: 4; opacity: 0; display: block;"><div id="celtra-object-40990" class="celtra-nested-container celtra-screen-object-container celtra-view" style="touch-action: manipulation; width: 100%; height: 100%; position: relative; overflow: hidden;"><div id="celtra-object-40993" class="celtra-hotspot celtra-screen-object celtra-view touchable" style="touch-action: manipulation; position: absolute; transform-origin: 50% 50%; left: 0px; top: 0px; width: 90px; height: 90px; z-index: 5; opacity: 1; display: block; outline: transparent solid 1px;"></div><div id="celtra-object-40996" class="celtra-shapey celtra-screen-object celtra-view touchable" style="touch-action: manipulation; position: absolute; transform-origin: 50% 50%; left: 0px; top: 0px; width: 90px; height: 90px; z-index: 2; opacity: 1; display: block; outline: transparent solid 1px;"><div style="background-color: rgba(0, 0, 0, 0.7);"></div></div><div id="celtra-object-40994" class="celtra-texty celtra-screen-object celtra-view" style="touch-action: manipulation; position: absolute; transform: translate(22px, 69px) scale(1, 1); transform-origin: 50% 50%; left: 0px; top: 0px; width: 45px; height: 24px; z-index: 4; opacity: 1; display: block;"><div class="scroll-container"><div dir="auto" style="font-family: &quot;18150018227&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 400; color: rgb(255, 255, 255); letter-spacing: 0.3px; text-align: center; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; white-space: pre-line; font-size: 10px; line-height: 12px; margin-top: 2px;">$65</div><div dir="auto" style="display: none; font-family: &quot;18150018227&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 400; color: rgb(255, 255, 255); letter-spacing: 0.3px; text-align: center; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; white-space: pre-line; font-size: 10px; line-height: 12px; height: 0px; margin-top: 2px;">$65</div><div dir="auto" style="visibility: hidden; font-family: &quot;18150018227&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 400; color: rgb(255, 255, 255); letter-spacing: 0.3px; text-align: center; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; white-space: pre-line; font-size: 10px; line-height: 12px; margin-top: 2px;">$65</div></div></div><div id="celtra-object-40995" class="celtra-texty celtra-screen-object celtra-view" style="touch-action: manipulation; position: absolute; transform: translate(2px, 3.006px) scale(1, 1); transform-origin: 50% 50%; left: 0px; top: 0px; width: 85.5px; height: 68px; z-index: 3; opacity: 1; display: block;"><div class="scroll-container"><div dir="auto" style="font-family: &quot;18150018227&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 400; color: rgb(255, 255, 255); letter-spacing: 0.3px; text-align: center; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; white-space: pre-line; font-size: 10px; line-height: 12px; margin-top: 17.5px;">ADIDAS QUESTAR FLOW SHOES</div><div dir="auto" style="display: none; font-family: &quot;18150018227&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 400; color: rgb(255, 255, 255); letter-spacing: 0.3px; text-align: center; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; white-space: pre-line; font-size: 10px; line-height: 12px; height: 0px; margin-top: 17.5px;">ADIDAS QUESTAR FLOW SHOES</div><div dir="auto" style="visibility: hidden; font-family: &quot;18150018227&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 400; color: rgb(255, 255, 255); letter-spacing: 0.3px; text-align: center; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; white-space: pre-line; font-size: 10px; line-height: 12px; margin-top: 17.5px;">ADIDAS QUESTAR FLOW SHOES</div></div></div></div></div><div id="celtra-object-40999" class="celtra-picture celtra-screen-object celtra-view touchable" style="touch-action: manipulation; position: absolute; transform: translate(-113px, -495px) rotate(0deg) scale(0.0833333, 0.0833333); transform-origin: 50% 50%; left: 0px; top: 0px; width: 1080px; height: 1080px; z-index: 5; opacity: 1; display: block;"><img src="./H77456_03_standard.jpg" style="position: absolute; left: 0px; top: 0px; width: 1080px; height: 1080px;"></div><div id="celtra-object-41000" class="celtra-group celtra-screen-object celtra-view" style="touch-action: manipulation; position: absolute; transform: translate(382px, 0px) rotate(0deg) scale(1, 1); transform-origin: 50% 50%; left: 0px; top: 0px; width: 90px; height: 90px; z-index: 6; opacity: 0; display: block;"><div id="celtra-object-41001" class="celtra-nested-container celtra-screen-object-container celtra-view" style="touch-action: manipulation; width: 100%; height: 100%; position: relative; overflow: hidden;"><div id="celtra-object-41004" class="celtra-hotspot celtra-screen-object celtra-view touchable" style="touch-action: manipulation; position: absolute; transform-origin: 50% 50%; left: 0px; top: 0px; width: 90px; height: 90px; z-index: 5; opacity: 1; display: block; outline: transparent solid 1px;"></div><div id="celtra-object-41007" class="celtra-shapey celtra-screen-object celtra-view touchable" style="touch-action: manipulation; position: absolute; transform-origin: 50% 50%; left: 0px; top: 0px; width: 90px; height: 90px; z-index: 2; opacity: 1; display: block; outline: transparent solid 1px;"><div style="background-color: rgba(0, 0, 0, 0.7);"></div></div><div id="celtra-object-41005" class="celtra-texty celtra-screen-object celtra-view" style="touch-action: manipulation; position: absolute; transform: translate(22px, 68px) scale(1, 1); transform-origin: 50% 50%; left: 0px; top: 0px; width: 45px; height: 26px; z-index: 4; opacity: 1; display: block;"><div class="scroll-container"><div dir="auto" style="font-family: &quot;18150018227&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 400; color: rgb(255, 255, 255); letter-spacing: 0.3px; text-align: center; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; white-space: pre-line; font-size: 10px; line-height: 12px; margin-top: 2px;">$14</div><div dir="auto" style="display: none; font-family: &quot;18150018227&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 400; color: rgb(255, 255, 255); letter-spacing: 0.3px; text-align: center; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; white-space: pre-line; font-size: 10px; line-height: 12px; height: 0px; margin-top: 2px;">$14</div><div dir="auto" style="visibility: hidden; font-family: &quot;18150018227&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 400; color: rgb(255, 255, 255); letter-spacing: 0.3px; text-align: center; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; white-space: pre-line; font-size: 10px; line-height: 12px; margin-top: 2px;">$14</div></div></div><div id="celtra-object-41006" class="celtra-texty celtra-screen-object celtra-view" style="touch-action: manipulation; position: absolute; transform: translate(2px, 3.006px) scale(1, 1); transform-origin: 50% 50%; left: 0px; top: 0px; width: 85.5px; height: 68px; z-index: 3; opacity: 1; display: block;"><div class="scroll-container"><div dir="auto" style="font-family: &quot;18150018227&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 400; color: rgb(255, 255, 255); letter-spacing: 0.3px; text-align: center; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; white-space: pre-line; font-size: 10px; line-height: 12px; margin-top: 5.5px;">ADIDAS CLIMALITE CUSHIONED CREW SOCKS 3 PAIRS</div><div dir="auto" style="display: none; font-family: &quot;18150018227&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 400; color: rgb(255, 255, 255); letter-spacing: 0.3px; text-align: center; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; white-space: pre-line; font-size: 10px; line-height: 12px; height: 0px; margin-top: 5.5px;">ADIDAS CLIMALITE CUSHIONED CREW SOCKS 3 PAIRS</div><div dir="auto" style="visibility: hidden; font-family: &quot;18150018227&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 400; color: rgb(255, 255, 255); letter-spacing: 0.3px; text-align: center; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; white-space: pre-line; font-size: 10px; line-height: 12px; margin-top: 5.5px;">ADIDAS CLIMALITE CUSHIONED CREW SOCKS 3 PAIRS</div></div></div></div></div><div id="celtra-object-41008" class="celtra-shapey celtra-screen-object celtra-view touchable" style="touch-action: manipulation; position: absolute; transform-origin: 50% 50%; left: 0px; top: 0px; width: 728px; height: 1px; z-index: 7; opacity: 1; display: block; outline: transparent solid 1px;"><div style="background-color: rgb(185, 185, 185);"></div></div><div id="celtra-object-41009" class="celtra-shapey celtra-screen-object celtra-view touchable" style="touch-action: manipulation; position: absolute; transform-origin: 50% 50%; left: 0px; top: 89px; width: 728px; height: 1px; z-index: 8; opacity: 1; display: block; outline: transparent solid 1px;"><div style="background-color: rgb(185, 185, 185);"></div></div><div id="celtra-object-41010" class="celtra-shapey celtra-screen-object celtra-view touchable" style="touch-action: manipulation; position: absolute; transform-origin: 50% 50%; left: 0px; top: 0px; width: 1px; height: 90px; z-index: 9; opacity: 1; display: block; outline: transparent solid 1px;"><div style="background-color: rgb(185, 185, 185);"></div></div><div id="celtra-object-41011" class="celtra-shapey celtra-screen-object celtra-view touchable" style="touch-action: manipulation; position: absolute; transform-origin: 50% 50%; left: 727px; top: 0px; width: 1px; height: 90px; z-index: 10; opacity: 1; display: block; outline: transparent solid 1px;"><div style="background-color: rgb(185, 185, 185);"></div></div><div id="celtra-object-41012" class="celtra-group celtra-screen-object celtra-view" style="touch-action: manipulation; position: absolute; transform: translate(529px, 20px) scale(1, 1); transform-origin: 50% 50%; left: 0px; top: 0px; width: 200px; height: 50px; z-index: 11; opacity: 1; display: block;"><div id="celtra-object-41013" class="celtra-nested-container celtra-screen-object-container celtra-view" style="touch-action: manipulation; width: 100%; height: 100%; position: relative; overflow: hidden;"><div id="celtra-object-41014" class="celtra-shapey celtra-screen-object celtra-view touchable" style="touch-action: manipulation; position: absolute; transform-origin: 50% 50%; left: 0px; top: 0px; width: 200px; height: 50px; z-index: 1; opacity: 1; display: block; outline: transparent solid 1px;"><div style="background-color: rgb(0, 0, 0);"></div></div><div id="celtra-object-41016" class="celtra-picture celtra-screen-object celtra-view" style="touch-action: manipulation; position: absolute; transform-origin: 50% 50%; left: 133px; top: 17px; width: 25px; height: 17px; z-index: 3; opacity: 1; display: block; outline: transparent solid 1px;"><img src="./arrow_white.svg" style="position: absolute; left: 0px; top: 0px; width: 24.7273px; height: 17px;"></div><div id="celtra-object-41015" class="celtra-texty celtra-screen-object celtra-view" style="touch-action: manipulation; position: absolute; transform: translate(34px, 18px) scale(1, 1); transform-origin: 50% 50%; left: 0px; top: 0px; width: 111px; height: 20px; z-index: 4; opacity: 1; display: block;"><div class="scroll-container"><div dir="ltr" style="font-family: &quot;Adihaus DIN normal custom&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 500; color: rgb(255, 255, 255); letter-spacing: 1px; text-align: left; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; white-space: pre-line; font-size: 14px; line-height: 14px; margin-top: 2px;">SHOP NOW</div><div dir="ltr" style="display: none; font-family: &quot;Adihaus DIN normal custom&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 500; color: rgb(255, 255, 255); letter-spacing: 1px; text-align: left; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; white-space: pre-line; font-size: 14px; line-height: 14px; height: 0px; margin-top: 2px;">SHOP NOW</div><div dir="ltr" style="visibility: hidden; font-family: &quot;Adihaus DIN normal custom&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 500; color: rgb(255, 255, 255); letter-spacing: 1px; text-align: left; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; white-space: pre-line; font-size: 14px; line-height: 14px; margin-top: 2px;">SHOP NOW</div></div></div></div></div><div id="celtra-object-41017" class="celtra-picture celtra-screen-object celtra-view" style="touch-action: manipulation; position: absolute; transform-origin: 50% 50%; left: 53px; top: 15px; width: 88px; height: 60px; z-index: 12; opacity: 1; display: block; outline: transparent solid 1px;"><img src="./logo@2x.png" style="position: absolute; left: 0px; top: 0px; width: 88px; height: 59.1207px;"></div><div id="celtra-object-41020" class="celtra-hotspot celtra-screen-object celtra-view touchable" style="touch-action: manipulation; position: absolute; transform-origin: 50% 50%; left: 0px; top: 0px; width: 184.985px; height: 90px; z-index: 13; opacity: 1; display: block; outline: transparent solid 1px;"></div><div id="celtra-object-41023" class="celtra-hotspot celtra-screen-object celtra-view touchable" style="touch-action: manipulation; position: absolute; transform-origin: 50% 50%; left: 477px; top: 0px; width: 251.014px; height: 90px; z-index: 14; opacity: 1; display: block; outline: transparent solid 1px;"></div></div></div></div><div id="celtra-object-7219" class="celtra-screen celtra-screen-object-container celtra-view" style="touch-action: manipulation; overflow: visible; height: 100%; width: 100%; display: none; z-index: -1;"></div></div></div></div></div><script>window.urls = {"creativeUrl":"https://ads.celtra.com/compiled/89034e23/","apiUrl":"https://hub.celtra.com/api/","cachedApiUrl":"https://cache-ssl.celtra.com/api/","staticUrl":"https://cache-ssl.celtra.com/api/static/v2cd1cefae7/","insecureCreativeUrl":"http://ads.celtra.com/compiled/89034e23/","insecureApiUrl":"http://hub.celtra.com/api/","insecureCachedApiUrl":"http://cache.celtra.com/api/","insecureStaticUrl":"http://cache.celtra.com/api/static/v2cd1cefae7/","trackingUrl":"https://track.celtra.com/","insecureTrackingUrl":"http://track.celtra.com/","geoUrl":"https://geo.celtra.com/","insecureGeoUrl":"http://geo.celtra.com/","customAudiencesUrl":"https://audiences.celtra.com","insecureCustomAudiencesUrl":"http://audiences.celtra.com","shareUrl":"https://hub-user.celtra.com/share/","insecureShareUrl":"http://hub-user.celtra.com/share/","resourceUrl":"https://cache-ssl.celtra.com/api/static/v2cd1cefae7/"};
window.urlOpenedOverrideUrls = {};
window.storeOpenedOverrideUrls = {};
window.urlOpenedUrlAppendage = "";
window.clickThroughDestinationUrl = null;
;

            (function() {
                // Add head or body, if they do not yet exist
                var html = document.documentElement;
                var head = document.querySelector('head');
                if (!head) {
                    head = document.createElement('head');
                    html.insertBefore(head, html.firstChild);
                }
                var body = document.querySelector('body');
                if (!body) {
                    body = document.createElement('body');
                    html.appendChild(body);
                }

                
            // Add CSS
            var styles = document.createElement('style');
            styles.textContent = ".transplanted-form-element-container input,\n.transplanted-form-element-container textarea,\n.transplanted-form-element {\n    -webkit-user-select: text;\n       -moz-user-select: text;\n        -ms-user-select: text;\n            user-select: text;\n    text-align: center;\n}\n\n.celtra-display-image-overlay {\n    position: absolute;\n    top: 0; right: 0; bottom: 0; left: 0;\n    z-index: 30;\n    background-repeat: no-repeat;\n    background-position: center center;\n    /* background-color and background-image set in code */\n}\n\n.celtra-display-image-overlay .celtra-back-button {\n    position: absolute;\n    top: 0;\n    width: 30px; height: 30px;\n    background: url('https://cache-ssl.celtra.com/api/static/v2cd1cefae7/runner/clazzes/CreativeUnit/back.png');\n    background-size: 30px 60px;\n}\n\n.celtra-display-image-overlay .celtra-back-button.left {\n    left: 0;\n}\n\n.celtra-display-image-overlay .celtra-back-button.right {\n    right: 0;\n}\n\n.celtra-display-image-overlay .celtra-back-button.touched {\n    background-position: 0 100%;\n}\n\n.celtra-fit-to-container {\n    max-width: 100%;\n    max-height: 100%;\n}\n\n.celtra-center-content {\n    width: 100%;\n    height: 100%;\n    text-align: center;\n}\n.celtra-center-content::before {\n    content: '';\n    display: inline-block;\n    height: 100%;\n    vertical-align: middle;\n}\n.celtra-center-content > * {\n    vertical-align: middle;\n}\n\n.celtra-creative-border {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    z-index: 20;\n    border-style: solid;\n    box-sizing: border-box;\n    pointer-events: none;\n}\n\n/*\n  z-indices:\n    10 - CreativeUnitVariant\n    20 - screenHolder\n    30 - displayImageAction overlay\n    40 - ModalDialogs (alertAction)\n*/\n\n.celtra-creative-unit-with-variants {\n    position    : absolute;\n    font-family : Helvetica;\n    font-size   : 12pt;\n    width       : 100%;\n    height      : 100%;\n}\n\n.celtra-creative-unit-with-variants, .celtra-creative-unit-with-variants * {\n    -webkit-text-size-adjust            : none;\n        -ms-text-size-adjust            : none;\n            text-size-adjust            : none;\n    /* Disables green outline on tapped objects on HTC phones running Android */\n    -webkit-tap-highlight-color : rgba(0,0,0,0);\n    tap-highlight-color         : rgba(0,0,0,0);\n    touch-callout               : none;\n    -webkit-user-select                 : none;\n       -moz-user-select                 : none;\n        -ms-user-select                 : none;\n            user-select                 : none; /* override to 'text' manually if needed */\n\n    margin: 0;\n    padding: 0;\n}\n\n.celtra-creative-unit-with-variants input,\n.celtra-creative-unit-with-variants textarea {\n    -webkit-user-select: text;\n       -moz-user-select: text;\n        -ms-user-select: text;\n            user-select: text;\n    text-align: center;\n}\n\n.celtra-creative-unit-variant {\n    position: absolute;\n    z-index: 10;\n}\n\n.celtra-screen-holder {\n    position: absolute; top: 0; left: 0; bottom: 0; right: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 20;\n}\n\n.celtra-screen {\n    /*\n      Screens themselves have 0 area and visible overflow (default), so\n      click-through from base to master screen works.\n      \n      The master has z-index 0 and the primary screen has z-index 1.\n    */\n    position: absolute;\n    top: 0; left: 0; \n    \n    pointer-events: none;\n    overflow: hidden;\n}\n\n.celtra-screen > * {\n    pointer-events: auto;\n}\n.celtra-nested-container {\n    overflow: hidden;\n    z-index: 0;\n}\n\n.celtra-nested-container.empty {\n    background-color: #000000;\n    /* Nested container icon is overriden in classes extending it. */\n    /* To prevent race condition when manually preloading, we rather define it as data URI. */\n    /* url(https://cache-ssl.celtra.com/api/static/v2cd1cefae7/runner/clazzes/NestedContainer/icon.png) */\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAD1BMVEX////MzMzMzMzMzMzMzMyungt0AAAABHRSTlMAEB/gwuUpDAAAAC5JREFUeAFjoASwQACGAOWSTIyMjAhJIIcJSRImg5AfppKjkmDAjCLBQpkkBQAAEtUDLd7kNEwAAAAASUVORK5CYII=);\n    background-position: center;\n    background-repeat: no-repeat;\n    border: 1px solid #404040;\n    box-sizing: border-box;\n}\n\n/*\nThis extra CSS attribute is required for Internet Explorer 10+ to correctly\nroute Pointer events to the object being touched. This is mutually exclusive\nwith scrolling, so there's no way to have both at the same time. This will\nalso prevent swipeable banners if any element on stage has the `touchable`\nCSS class, but will generate `tap` events.\n*/\n.touchable { -ms-touch-action: none; }\n\n/*\nOn IE, if a background is not set on an element, it is\ntransparent to mouse and touch events. This forces the\nelement to become opaque to user events.\n*/\n.celtra-screen-object { background: rgba(0,0,0,0); }\n\n/*\nPointer cursor for hotspot component on desktop.\n*/\n.celtra-hotspot { cursor: pointer; }\n\n\n/*\nForce GPU rendering for all children of animated layers in order to prevent jittery scaling animations.\nBecause the `animated` class is added to objects only when SceneOverrides.js is included, this style rule\nwill not affect any elements in creatives which are not using scenes.\n*/\n.celtra-screen-object.animated div,\n.celtra-screen-object.animated > img,\n.celtra-screen-object.animated .celtra-screen-object div,\n.celtra-screen-object.animated .celtra-screen-object > img {\n    transform: perspective(1px);\n}\n\n.celtra-picture {\n    overflow: hidden;\n}\n\n.celtra-picture.empty {\n    background-color: #000000;\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: 28px;\n    border: 2px solid #404040;\n    box-sizing: border-box;\n}\n\n.celtra-fallback > .celtra-nested-container.empty {\n    /* url(https://cache-ssl.celtra.com/api/static/v2cd1cefae7/runner/clazzes/Fallback/icon.png) */\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAllBMVEUAAAD////V1dXT09PMzMzPz8/Q0NDQ0NDOzs7Ozs7Pz8/Nzc3Nzc3Nzc3MzMzOzs7Nzc3NzcvNzc3Nzc3Ozs7MzMzNzc3Ly8vNzc3Nzc3MzMzNzc3MzMzNzc3Nzc3Ly8rNzc3Nzc3MzMzNzc3MzMzMzMzMzMvMzMzMzMzMzMzMzMzMzMzMzMvMzMzMzMzNzc3Ly8rMzMwGV5yxAAAAMHRSTlMAAQYXGSUmKy85OkJHTVpdYGZmcXx+hZmeoqansLO2xtDW2dre4ubn6PD29/n6/P5tC+wZAAAAi0lEQVR4Aa3Q1wpDIRAEUNN77733ovP/PxdYEZLsJA/XOy+zcBZRTVyq8wM+s+kF61vojL3V3izs1y9oyLCARtPFUvrEMIezNBgaIG3MjqQo5lfuJ1aOzodg5+4SIj+WX+jfUyJ+yDLMwEpvGRaxk54wHGIqXbhqbD6eZT+1btAZhL3SbP9F67aJygvpSUfplvWxvQAAAABJRU5ErkJggg==);\n}\n\n\n.celtra-texty .no-break {\n    white-space: nowrap;\n    word-break: keep-all;\n    overflow-wrap: normal;\n    word-wrap: normal;\n}\n\n.celtra-texty .scroll-container {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    outline: 1px solid transparent; /* node looses overflow: hidden if object is translated on Android native browser ... line below magically solves that */\n}\n\n.celtra-texty .scroll-container > div {\n    position: absolute;\n    width: 100%;\n    box-sizing: border-box;\n}\n\n.celtra-texty .celtra-vertical-scrollbar {\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 5px;\n    z-index: 2;\n}\n    .celtra-texty .celtra-vertical-scrollbar.outer {\n        right: -5px;\n    }\n\n.celtra-shapey {\n\tbox-sizing: border-box;\n}\n\n.celtra-shapey div {\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\theight: 100%;\n\twidth: 100%;\n\n\toverflow: hidden;\n\tbox-sizing: border-box;\n\tbackground-clip: padding-box;\n\n\tborder-width: 0;\n\tborder-style: solid;\n\tborder-color: transparent;\n\n\ttransition: inherit;\n}\n\n";
            head.appendChild(styles);

            // Add JS
            var js = document.createElement('script');
            js.textContent = "function inherit(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,Object.defineProperties(e,{uber:{get:function(){return t.prototype},enumerable:!1,configurable:!1},uberConstructor:{get:function(){return t},enumerable:!1,configurable:!1}}),e.prototype.constructor=e}function extend(e,t){for(var n=1;n<arguments.length;n++){var t=arguments[n];if(t instanceof Object)for(var r in t)e[r]=t[r]}return e}function deep(e,t){for(var n in t)e[n]instanceof Object&&t[n]instanceof Object?deep(e[n],t[n]):e[n]=t[n]}function delayed(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}function throttled(e,t){var n=null;return function(){n||(n=setTimeout(function(){n=null,e()},t))}}function deferred(e,t,n,r){return function(){defer(e,t,n,r)}}function useAsap(){return\"undefined\"!=typeof creative&&creative.adapter&&creative.adapter.useAsap||\"undefined\"!=typeof adapter&&adapter.useAsap}function hasClass(e,t){return e.classList.contains(t)}function addClass(e,t){e.classList.add(t)}function removeClass(e,t){e.classList.remove(t)}function toggleClass(e,t){e.classList.toggle(t)}function cssurl(e){return\"url('\"+e.replace(/'/g,\"\\\\'\")+\"')\"}function camelize(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zeroPad(e,t){null==t&&(t=2);var n=Math.max(0,t-(\"\"+e).length),r=(\"\"+Math.pow(10,n)).slice(1);return r+e}function htmlentitize(e){return e.replace(/&/g,\"&amp;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&#39;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")}function removeHtmlTags(e){var t,n=\"(?:[^\\\"'>]|\\\"[^\\\"]*\\\"|'[^']*')*\",r=new RegExp(\"<(?:!--(?:(?:-*[^->])*--+|-?)|script\\\\b\"+n+\">[\\\\s\\\\S]*?</script\\\\s*|style\\\\b\"+n+\">[\\\\s\\\\S]*?</style\\\\s*|/?[a-z]\"+n+\")>\",\"gi\");do t=e,e=e.replace(r,\"\");while(e!==t);return e.replace(/</g,\"&lt;\")}function trim(e){return e.replace(/^\\s+|\\s+$/g,\"\")}function to_utf8(e){return unescape(encodeURIComponent(e))}function isRTLChar(e){return e=String(e).charCodeAt(0),e&&(e>=1424&&1535>=e||e>=1536&&1791>=e||e>=1792&&1871>=e||e>=1872&&1919>=e||e>=2144&&2159>=e||e>=2208&&2303>=e||e>=64288&&64335>=e||e>=64336&&65023>=e||e>=65136&&65279>=e||8207===e||8235===e||8238===e)?!0:!1}function isLTRChar(e){return e=String(e).charCodeAt(0),e&&(e>=65&&90>=e||e>=97&&122>=e||e>=192&&214>=e||e>=216&&246>=e||e>=248&&696>=e||e>=768&&1424>=e||e>=2048&&8191>=e||e>=11264&&64284>=e||e>=65022&&65135>=e||e>=65277&&65535>=e||8206===e||8234===e||8237===e)?!0:!1}function guessWritingDirection(e){for(var t=25,n=Math.min(t,e.length),r=0;n>r;r++){var o=e.charAt(r);if(isLTRChar(o))return\"ltr\";if(isRTLChar(o))return\"rtl\"}return null}function randInt(){return(Math.random()+\"\").slice(2)}function _isListenerOptionSupported(e){var t=_isListenerOptionSupported.opts;if(\"undefined\"==typeof t[e]){t[e]=!1;try{window.addEventListener(\"listener-test\",null,Object.defineProperty({},e,{get:function(){t[e]=!0}}))}catch(n){}}return t[e]}function _buildNativeListenerOptions(e){if(\"object\"!=typeof e)return!!e;if(!_isListenerOptionSupported(\"capture\"))return!!e.capture;var t={capture:!!e.capture};return _isListenerOptionSupported(\"passive\")&&(t.passive=!!e.passive),t}function _analyzeTouch(e){var t,n=Math.abs(e.firstTouch.x-e.lastTouch.x),r=Math.abs(e.firstTouch.y-e.lastTouch.y);return\"y\"===e.validAxis?t=r>e.minDistanceForSwipe:\"x\"===e.validAxis&&(t=n>e.minDistanceForSwipe),{isHorizontal:n>r,isConsideredSwipe:t}}function attach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.addEventListener(o,n,_buildNativeListenerOptions(r))}function detach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.removeEventListener(o,n,_buildNativeListenerOptions(r))}function once(e,t,n,r){attach(e,t,function o(){detach(e,t,o,r),n.apply(this,arguments)},r)}function trigger(e,t,n,r){var o=document.createEvent(\"HTMLEvents\");o.initEvent(t,n,r);var i=\"on\"+ucfirst(t);return\"function\"==typeof e[i]&&e[i](),e.dispatchEvent(o)}function fakeclick(e,t){t=t||window;var n=t.document.createElement(\"a\");n.cssText=\"visibility: hidden\",n.addEventListener(\"click\",function(t){e(),t.preventDefault(),t.stopPropagation(),n.parentNode.removeChild(n)},!0),t.document.body.appendChild(n);var r=document.createEvent(\"MouseEvents\");r.initEvent(\"click\",!0,!0),n.dispatchEvent(r)}function fakeClickAhrefBlank(e,t,n){t=t||noop,n=n||window;var r=n.document.createElement(\"a\");r.style.cssText=\"visibility: hidden\",r.setAttribute(\"href\",e),r.setAttribute(\"target\",\"_blank\"),r.addEventListener(\"click\",function(e){e.stopPropagation(),t(),r.parentNode.removeChild(r)},!0),n.document.body.appendChild(r);var o=n.document.createEvent(\"MouseEvents\");o.initEvent(\"click\",!0,!0),r.dispatchEvent(o)}function noop(){}function nullai(e,t){t&&t()}function retTrue(){return!0}function retFalse(){return!1}function offset(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top:t.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left:t.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}}function addCssRule(e,t,n){var r=document.createElement(\"style\");r.textContent=e+\" {\"+t+\"}\",n?n.document.getElementsByTagName(\"head\")[0].appendChild(r):document.getElementsByTagName(\"head\")[0].appendChild(r)}function redrawAndroidIframe(){var e=document.createElement(\"style\");document.body.appendChild(e),document.body.removeChild(e)}function parseQuery(e){var t={};return e=e.replace(/\\&$/,\"\").replace(/\\+/g,\"%20\"),e.split(\"&\").forEach(function(e){var n=e.split(\"=\").map(decodeURIComponent);t[n[0]]=n[1]}),t}function buildQuery(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+\"=\"+encodeURIComponent(e[n]));return t.join(\"&\")}function postBlob(e,t){var n=new XMLHttpRequest;n.open(\"POST\",creative.apiUrl+\"blobs?base64=1\"),n.setRequestHeader(\"Content-Type\",\"application/octet-stream\"),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText,n.status)},n.send(e)}function tmpl(e,t){function n(e){return\"  p.push('\"+e.replace(/'/g,\"\\\\'\").split(/\\r?\\n/g).join(\"\\\\n');\\n  p.push('\")+\"');\\n\"}if(!e)return\"\";var r;if(-1==e.indexOf(\"<%\"))r=function(){return e};else{var o=e.split(/<%\\s*|\\s*%>/g),i=\"var p = []; with(o) {\\n\",a=!1;o.forEach(function(e){a?i+=\"=\"==e[0]?\"  p.push(\"+e.replace(/^=\\s*|\\s*$/g,\"\")+\");\\n\":\"  \"+e+\"\\n\":e&&(i+=n(e)),a=!a}),i+='} return p.join(\"\");';try{r=new Function(\"o\",i)}catch(c){var u=new Error(\"Cannot parse template! (see `template` property)\");throw u.template=i,u}}return t?r(t):r}function flash(){var e=document.createElement(\"div\");e.style.background=\"white\",e.style.opacity=.005,e.style.position=\"absolute\",e.style.top=0,e.style.left=0,e.style.width=\"100%\",e.style.height=\"100%\",e.style.zIndex=2147483647,document.body.appendChild(e),setTimeout(function(){e.parentNode.removeChild(e)},0)}function crc32(e){\"use strict\";var t=-1,n=0,r=[0,-227835133,-516198153,324072436,-946170081,904991772,648144872,-724933397,-1965467441,2024987596,1809983544,-1719030981,1296289744,-1087877933,-1401372889,1578318884,274646895,-499825556,-244992104,51262619,-675000208,632279923,922689671,-996891772,-1702387808,1760304291,2075979607,-1982370732,1562183871,-1351185476,-1138329528,1313733451,549293790,-757723683,-1048117719,871202090,-416867903,357341890,102525238,-193467851,-1436232175,1477399826,1264559846,-1187764763,1845379342,-1617575411,-1933233671,2125378298,820201905,-1031222606,-774358714,598981189,-143008082,85089709,373468761,-467063462,-1170599554,1213305469,1526817161,-1452612982,2107672161,-1882520222,-1667500394,1861252501,1098587580,-1290756417,-1606390453,1378610760,-2032039261,1955203488,1742404180,-1783531177,-878557837,969524848,714683780,-655182201,205050476,-28094097,-318528869,526918040,1361435347,-1555146288,-1340167644,1114974503,-1765847604,1691668175,2005155131,-2047885768,-604208612,697762079,986182379,-928222744,476452099,-301099520,-44210700,255256311,1640403810,-1817374623,-2130844779,1922457750,-1503918979,1412925310,1197962378,-1257441399,-350237779,427051182,170179418,-129025959,746937522,-554770511,-843174843,1070968646,1905808397,-2081171698,-1868356358,1657317369,-1241332974,1147748369,1463399397,-1521340186,-79622974,153784257,444234805,-401473738,1021025245,-827320098,-572462294,797665321,-2097792136,1889384571,1674398607,-1851340660,1164749927,-1224265884,-1537745776,1446797203,137323447,-96149324,-384560320,461344835,-810158936,1037989803,781091935,-588970148,-1834419177,1623424788,1939049696,-2114449437,1429367560,-1487280117,-1274471425,1180866812,410100952,-367384613,-112536529,186734380,-538233913,763408580,1053836080,-860110797,-1572096602,1344288421,1131464017,-1323612590,1708204729,-1749376582,-2065018290,1988219213,680717673,-621187478,-911630946,1002577565,-284657034,493091189,238226049,-61306494,-1307217207,1082061258,1395524158,-1589280451,1972364758,-2015074603,-1800104671,1725896226,952904198,-894981883,-638100751,731699698,-11092711,222117402,510512622,-335130899,-1014159676,837199303,582374963,-790768336,68661723,-159632680,-450051796,390545967,1230274059,-1153434360,-1469116676,1510247935,-1899042540,2091215383,1878366691,-1650582816,-741088853,565732008,854102364,-1065151905,340358836,-433916489,-177076669,119113024,1493875044,-1419691417,-1204696685,1247431312,-1634718085,1828433272,2141937292,-1916740209,-483350502,291187481,34330861,-262120466,615137029,-691946490,-980332558,939183345,1776939221,-1685949482,-1999470558,2058945313,-1368168502,1545135305,1330124605,-1121741762,-210866315,17165430,307568514,-532767615,888469610,-962626711,-707819363,665062302,2042050490,-1948470087,-1735637171,1793573966,-1104306011,1279665062,1595330642,-1384295599];for(n=0;n<e.length;n++)t=t>>>8^r[255&(t^e.charCodeAt(n))];return(-1^t)>>>0}function isArray(e){return\"[object Array]\"===Object.prototype.toString.call(e)}function isDefAndNotNull(e){return null!=e}function updateQueryStringParameter(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var r=new RegExp(\"([?|&])\"+t+\"=.*?(&|$)\",\"i\");return separator=-1!==e.indexOf(\"?\")?\"&\":\"?\",e.match(r)?e.replace(r,\"$1\"+t+\"=\"+n+\"$2\"):e+separator+t+\"=\"+n}function fetchShortenedUrl(e,t,n){function r(t,n){i[e].forEach(function(e){e[t](n)}),delete i[e]}n=n||noop;var o=!1,i=fetchShortenedUrl.inProgress,a=fetchShortenedUrl.cache;if(\"http\"==!e.slice(0,4))return void n();if(a[e])return void defer(function(){t(a[e])},0,\"fetchShortenedUrl defer success callback\");if(i[e]||(i[e]=[],o=!0),i[e].push({success:t,error:n}),o){var c=(creative.runtimeParams.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+\"shortenedUrls/\",u={url:e,fields:\"shortUrlKey\"},s=btoa(to_utf8(e));s=s.replace(/\\//g,\"$\").replace(/\\+/g,\"_\").replace(/=/g,\"\");var d={cbName:\"shortener_\"+s};loadJSONP(c+\"?\"+buildQuery(u),d,function(t){var n=creative.shareUrl+t.shortUrlKey;a[e]=n,r(\"success\",n)},function(){requestCreateShortenedUrl(e,r)})}}function requestCreateShortenedUrl(e,t){var n=(creative.runtimeParams.secure?creative.apiUrl:creative.insecureApiUrl)+\"shortenedUrls/\",r=fetchShortenedUrl.cache,o=new XMLHttpRequest;o.open(\"POST\",n),o.setRequestHeader(\"Content-Type\",\"application/json; charset=utf-8\"),o.onreadystatechange=function(){if(4===o.readyState)if(201===o.status){var n=JSON.parse(o.responseText),i=creative.shareUrl+n.shortUrlKey;r[e]=i,t(\"success\",i)}else t(\"error\")},o.send(JSON.stringify({url:e}))}function isMediaPlaying(e){try{return e.currentTime>0&&!e.paused&&!e.ended}catch(t){return!1}}function merge(){var e,t,n={};for(t=0;t<arguments.length;t+=1)if(e=arguments[t],null!==e&&void 0!==e)for(var r in e)n[r]=e[r];return n}function clamp(e,t,n){return Math.max(e,Math.min(t,n))}function lerp(e,t,n){return e+n*(t-e)}function map(e,t,n,r,o){return(o-e)/(t-e)*(r-n)+n}function step(e,t){return e>t?0:1}function pulse(e,t,n){return step(e,n)-step(t,n)}function smoothstep(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return r*r*r*((6*r-15)*r+10)}function bump(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return(Math.cos(Math.PI*r)+1)/2}function getWindowNesting(e){var t={iframe:e!==e.top,friendlyIframe:!1,iabFriendlyIframe:!1,hostileIframe:!1,iframeDepth:0};if(t.iframe){var n=e;try{for(t.friendlyIframe=!!e.top.location.href,t.iabFriendlyIframe=t.friendlyIframe&&\"undefined\"!=typeof e.inDapIF&&e.inDapIF;\"undefined\"!=typeof n.parent.location.href&&n.parent.document!==n.document;)n=n.parent,t.iframeDepth++;\"undefined\"==typeof e.top.document&&(t.hostileIframe=!0)}catch(r){t.hostileIframe=!0}}return t}function isFetchSupported(){return!!(window.fetch&&window.URL&&URL.createObjectURL)}function isBeaconSupported(){return!(!window.navigator||!window.navigator.sendBeacon)}function isNativeImplementation(e){return\"function\"==typeof e&&e.toString().indexOf(\"[native code]\")>-1}function getViewportGeometry(e,t){var n=deviceInfo.deviceType.desktop()&&\"BackCompat\"!=document.compatMode,r=deviceInfo.os.ios(\"9\",null),o=\"win\"!==t&&(n||r||\"doc\"===t),i=\"win\"!==t&&(n||\"doc\"===t),a=e.document.documentElement||{};return{width:o?a.clientWidth:e.innerWidth,height:i?a.clientHeight:e.innerHeight,left:e.scrollX||a.scrollLeft||0,top:e.scrollY||a.scrollTop||0}}!function(e){if(!this.defer){try{for(;\"undefined\"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}var n=function(){function t(){return 9007199254740991===s?0:++s}var n,r,o,i,a=e,c=\"function\"==typeof a.setImmediate;if(a.MutationObserver)return function(e){n=document.createElement(\"div\"),new MutationObserver(function(){e(),n=null}).observe(n,{attributes:!0}),n.setAttribute(\"i\",\"1\")};if(!c&&a.postMessage&&!a.importScripts&&a.addEventListener){var u=\"com.setImmediate\"+Math.random(),s=0;i={};var d=function(e){if(e.source===a&&0===e.data.indexOf(u)){var t=e.data.split(\":\")[1];i[t](),delete i[t]}};return a.addEventListener(\"message\",d,!1),function(e){var n=t();i[n]=e,a.postMessage(u+\":\"+n,\"*\")}}return!c&&a.document&&\"onreadystatechange\"in document.createElement(\"script\")?function(e){r=document.createElement(\"script\"),r.onreadystatechange=function(){r.onreadystatechange=null,r.parentNode.removeChild(r),r=null,e()},document.body.appendChild(r)}:(o=c&&setImmediate||setTimeout,function(e){o(e)})}();this.defer=function(t,r,o,i){var a,c=0|r;if(o){var u;\"undefined\"!=typeof defer.perf?u=defer.perf:\"undefined\"!=typeof creative?u=creative.perf:\"undefined\"!=typeof perf&&(u=perf),u&&(u._stopTrackingDefers||(a=u.start(\"defer\",{deferId:o,delay:c})))}if(t){var s=function(){a&&a.end(),t()};i?n(s):e.setTimeout(s,c)}}}}(window),Function.prototype.bind||Object.defineProperty(Function.prototype,\"bind\",{value:function(e){var t=this;return function(){return t.apply(e,arguments)}}}),function(e){e.getEventNames=function(){var t={};return\"WebKitAnimationEvent\"in e&&(t.animationstart=\"webkitAnimationStart\",t.animationiteration=\"webkitAnimationIteration\",t.animationend=\"webkitAnimationEnd\"),\"WebKitTransitionEvent\"in e&&(t.transitionend=\"webkitTransitionEnd\"),t}}(window),_isListenerOptionSupported.opts={};var getTimestamp=function(){return void 0===window.performance||void 0===window.performance.now?Date.now:window.performance.now.bind(window.performance)}();Date.now||(Date.now=function(){return+new Date}),Array.prototype.waitForEach||Object.defineProperty(Array.prototype,\"waitForEach\",{value:function(e,t,n){var r=this.length;r?this.forEach(function(o,i,a){var c=!1;e.call(n,o,function(){if(c)throw\"Called `done` multiple times for element \"+i;c=!0,--r||t()},i,a)},n):t()}}),function(e){e.loadJS=function(t,n,r,o){var i=e.loadJS.externals,a={success:n||noop,error:r||noop};if(!/^[A-Za-z0-9]*:\\/\\/|^\\/\\//.test(t)){var c=creative.hostedFiles.filter(function(e){return e.filepath===t})[0];if(\"undefined\"==typeof c)return console.warn('Hosted file \"'+t+'\" was not found.'),void a.error();if(c.loaded!==!1)return console.warn('Hosted file \"'+t+'\" is already loaded.'),void setTimeout(a.success,0);c.loaded=!0,t=creative.cachedApiUrl+\"hostedFiles/\"+creative.id+\"/\"+creative.version+\"/\"+t}if(t in i&&!o)i[t].loaded?setTimeout(a.success,0):i[t].cbs.push(a);else{i[t]={cbs:[a]};var u=document.createElement(\"script\");u.type=\"text/javascript\",u.onload=function(){i[t].loaded=!0,i[t].cbs.forEach(function(e){e.success()}),i[t].cbs=[]},u.onerror=function(){i[t].cbs.forEach(function(e){e.error()}),i[t].cbs=[],delete i[t]},u.src=t,e.loadJS.appendToRoot(u)}},e.loadJS.externals={},e.loadJS.appendToRoot=function(e){return document.querySelector(\"head\").appendChild(e)},e.loadJSONP=function(t,n,r,o){\"function\"==typeof n&&(o=r,r=n,n={});var i=n.cbName||\"__jsonp\"+randInt();t+=(-1==t.indexOf(\"?\")?\"?\":\"&\")+(n.paramName||\"jsonp\")+\"=\"+i,e[i]=function(t){r(t),delete e[i]},loadJS(t,noop,o,!0)}}(window),\"undefined\"==typeof Function.prototype.name&&!function(){var e=/^function\\s+(\\w+?)\\s*?\\(/;Object.defineProperty(Function.prototype,\"name\",{get:function(){var t=this.constructor.prototype.toString.call(this);return e.test(t)?t.match(e)[1]:\"\"}})}(),fetchShortenedUrl.cache={},fetchShortenedUrl.inProgress={};;\nfunction CPoint(t,i){this.x=1*t||0,this.y=1*i||0}function CRect(t,i,e,o){this.left=1*t||0,this.top=1*i||0,this.width=1*e||0,this.height=1*o||0}CPoint.offset=function(t){var i=offset(t);return new CPoint(i.left,i.top)},CPoint.convertPointFromNodeToPage=function(t,i){if(!t||\"undefined\"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x:0)+(e?e.x:0),(i?i.y:0)+(e?e.y:0))},CPoint.convertPointFromPageToNode=function(t,i){if(!t||\"undefined\"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x:0)-(e?e.x:0),(i?i.y:0)-(e?e.y:0))},CPoint.sample=function(t,i,e){for(var o=Math.floor(Math.sqrt(t.width*i/t.height)),n=Math.floor(Math.sqrt(t.height*i/t.width)),h=t.width/o,r=t.height/n,s=0;n>s;s++)for(var f=0;o>f;f++)e((f+.5)*h+t.left,(s+.5)*r+t.top)},CPoint.epsilon=function(t,i,e){return Math.abs(t-i)<e},CPoint.prototype.equals=function(t){return CPoint.epsilon(this.x,t.x,.25)&&CPoint.epsilon(this.y,t.y,.25)},CRect.ZERO=new CRect,Object.defineProperties(CRect.prototype,{right:{get:function(){return this.left+this.width},set:function(t){var i=this.left;t<this.left&&(this.left=t,t=i),this.width=t-this.left},enumerable:!0},bottom:{get:function(){return this.top+this.height},set:function(t){var i=this.top;t<this.top&&(this.top=t,t=i),this.height=t-this.top},enumerable:!0},tl:{get:function(){return new CPoint(this.left,this.top)}},tr:{get:function(){return new CPoint(this.right,this.top)}},bl:{get:function(){return new CPoint(this.left,this.bottom)}},br:{get:function(){return new CPoint(this.right,this.bottom)}},area:{get:function(){return this.width*this.height}}}),CRect.adopt=function(t){return new CRect(t.left,t.top,t.width,t.height)},CRect.prototype.zero=function(){return 0===this.area},CRect.prototype.intersect=function(t){if(!t)return!1;var i=Math.max(this.left,t.left),e=Math.max(this.top,t.top),o=Math.min(this.right,t.right),n=Math.min(this.bottom,t.bottom),h=o-i,r=n-e;return 0>h||0>r?CRect.ZERO:new CRect(i,e,h,r)},CRect.prototype.copyFrom=function(t){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height},CRect.prototype.relativeTo=function(t){return new CRect(this.left-t.left,this.top-t.top,this.width,this.height)},CRect.prototype.contains=function(t){return t instanceof CPoint?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom:t instanceof CRect?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom:void 0},CRect.prototype.map=function(t,i){var e=i.width/t.width,o=i.height/t.height;return new CRect((this.left-t.left)*e+i.left,(this.top-t.top)*o+i.top,this.width*e,this.height*o)},CRect.prototype.equals=function(t){return t&&this.left==t.left&&this.top==t.top&&this.right==t.right&&this.bottom==t.bottom},CRect.prototype.toString=function(){return\"CRect: \"+JSON.stringify(this)};;\nfunction Logger(e){if(!(this instanceof Logger))return new Logger(e);e=e||\"\";var n=noop;(Logger.enabledNames.indexOf(e)>=0||Logger.enabledNames.indexOf(\"all\")>=0)&&(n=function(){var e=[].slice.apply(arguments);e.unshift(Logger._ts()+\" [\"+Logger.sessionId+(this.name?\" \"+this.name:\"\")+\"]\"),console.log.apply(console,e)}),this.name=e,this.log=n,this.warn=n,this.debug=n,this.error=n}Logger._ts=function(){function e(e,n){for(e+=\"\";e.length<n;)e=\"0\"+e;return e}var n=new Date;return n.getFullYear()+\"-\"+e(n.getMonth()+1,2)+\"-\"+e(n.getDate(),2)+\" \"+e(n.getHours(),2)+\":\"+e(n.getMinutes(),2)+\":\"+e(n.getSeconds(),2)+\".\"+e(n.getTime()-1e3*Math.floor(n.getTime()/1e3),3)},Logger.init=function(e,n){Logger.enabledNames=e,Logger.sessionId=n||(Math.random()+\"\").slice(15)},Logger.initFromRuntimeParams=function(e){Logger.init(e.debug?e.debug.split(\",\"):[],e.sessionId)};;\nwindow.CeltraDeviceInfo={},function(e){function n(e,n){this.os=new t(e.osName,e.osVersion),this.browser=new r(e.browserName,e.browserVersion,n),this.engine=new i(e.browserRenderingEngine,e.browserRenderingEngineVersion),this.deviceType=new o(e.deviceType,e.mobileDevice),this.vendor=e.vendor||\"\",this.model=e.model||\"\",this.userAgent=n}function t(e,n){this.name=e||\"\",this.version=n||\"0\"}function r(e,n,t){this.name=e||\"\",this.version=n||\"0\",this.userAgent=t}function i(e,n){this.name=e||\"\",this.version=n||\"0\"}function o(e,n){this.hardwareType=e||\"\",this.mobile=n||\"\"}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,\"\"),10)}function r(e,n){var t;for(t=0;t<Math.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,o,s;if(!e)return!0;if(0===n.length)o=null,s=null;else if(1===n.length)o=n[0],s=n[0];else{if(2!==n.length)throw\"Invalid number of arguments\";o=n[0],s=n[1]}for(e=e.split(\".\").map(t),o=o?o.split(\".\").map(t):[],s=s?s.split(\".\").map(t):[],i=Math.max(o.length,s.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,o)||1===r(e,s))}function a(e,n){if(-1===e.indexOf(\"Playstation\")){var t=e.match(/\\bSilk\\/([0-9._-]+)\\b/);t&&(n.browserName=\"Amazon Silk\",n.browserVersion=t[1])}n.browserName&&n.browserVersion&&(0===n.browserName.indexOf(\"Chrome\")&&s(n.browserVersion,[\"28\",null])||0===n.browserName.indexOf(\"Opera\")&&s(n.browserVersion,[\"15\",null]))&&(n.browserRenderingEngine=\"Blink\"),n.browserRenderingEngineVersion||(n.browserRenderingEngineVersion=function(){var n;return(n=e.match(/Trident\\/([0-9.]+)/))?n[1]:(n=e.match(/Presto\\/([0-9.]+)/))?n[1]:(n=e.match(/AppleWebKit\\/*([0-9.]+)/i))?n[1]:(n=e.match(/Gecko\\/*([0-9.]+)/),n?n[1]:\"\")}())}t.prototype.android=function(){return\"Android\"===this.name&&s(this.version,arguments)},t.prototype.osx=function(){return\"OSX\"===this.name&&s(this.version,arguments)},t.prototype.ios=function(){return\"IOS\"===this.name&&s(this.version,arguments)},t.prototype.windows=function(){return\"Windows\"===this.name&&s(this.version,arguments)},t.prototype.windowsPhone=function(){return\"WindowsPhone\"===this.name&&s(this.version,arguments)},t.prototype.linux=function(){return\"Linux\"===this.name},r.prototype.safari=function(){return\"Safari\"===this.name&&s(this.version,arguments)},r.prototype.chrome=function(){return 0===this.name.indexOf(\"Chrom\")&&s(this.version,arguments)},r.prototype.ie=function(){return 0===this.name.indexOf(\"Internet Explorer\")&&s(this.version,arguments)},r.prototype.android=function(){return\"Android Browser\"===this.name&&s(this.version,arguments)},r.prototype.samsung=function(){return\"Samsung Browser\"===this.name&&s(this.version,arguments)},r.prototype.opera=function(){return 0===this.name.indexOf(\"Opera\")&&s(this.version,arguments)},r.prototype.silk=function(){return\"Amazon Silk\"===this.name&&s(this.version,arguments)},r.prototype.firefox=function(){return\"Firefox\"===this.name&&s(this.version,arguments)},r.prototype.edge=function(){return\"Edge\"===this.name&&s(this.version,arguments)},r.prototype.miui=function(){return\"MIUI Browser\"===this.name&&s(this.version,arguments)},r.prototype.webView=function(){var n=null,t=\"iP\"===(e.navigator.platform||\"\").substr(0,2);if(t){var r=this.userAgent,i=-1!==r.indexOf(\"Safari\")&&-1!==r.indexOf(\"Version\"),o=!/constructor/i.test(e.HTMLElement);i&&!e.navigator.standalone?n=\"iOS Safari or Safari Controller\":(o||e.indexedDB)&&e.statusbar.visible?(e.webkit&&e.webkit.messageHandlers||o||e.indexedDB)&&(n=\"WKWebView\"):n=\"UIWebView\"}else/^.*\\/\\d\\.\\d \\(.*wv\\).*/.test(this.userAgent)&&(n=\"AndroidWebView\");return n},r.prototype.facebookApp=function(){var e=this.userAgent;return e.indexOf(\"FBAN\")>-1||e.indexOf(\"FBAV\")>-1},i.prototype.webkit=function(){return\"WebKit\"===this.name&&s(this.version,arguments)},i.prototype.gecko=function(){return\"Gecko\"===this.name&&s(this.version,arguments)},i.prototype.trident=function(){return\"Trident\"===this.name&&s(this.version,arguments)},i.prototype.presto=function(){return\"Presto\"===this.name&&s(this.version,arguments)},i.prototype.blink=function(){return\"Blink\"===this.name&&s(this.version,arguments)},o.prototype.phone=function(){return\"Phone\"===this.hardwareType},o.prototype.tablet=function(){return\"Tablet\"===this.hardwareType},o.prototype.desktop=function(){return\"Desktop\"===this.hardwareType},o.prototype.mobileDevice=function(){return this.mobile===!0},e.CeltraDeviceInfo.create=function(t,r){return t=t||e.navigator.userAgent||\"\",r=r||{},a(t,r),new n(r,t)}}(window);;\nwindow.deviceInfo=CeltraDeviceInfo.create(window.navigator.userAgent,window.celtraDeviceInfoRuntimeParams);;\n!function(e){function n(){var e=p().match(/iP(ad|hone|od).*OS ([0-9_]+)/);return!!e&&s(e[2].replace(/_/g,\".\"),arguments)}function t(){var e=p().match(/Android ([0-9.]+)/),n=p().match(/Windows Phone/);return!n&&!!e&&s(e[1],arguments)}function r(){var e=p().match(/Windows Phone ([0-9.]+)/);return!!e&&s(e[1],arguments)}function i(){var e=p().match(/AppleWebKit\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function a(){var e=p().match(/Gecko\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function o(){var e=p().match(/MSIE ([0-9]{1,}[.0-9]{0,})|Trident.* rv:([0-9]{1,}[.0-9]{0,})/i);return!!e&&s(e[1]||e[2],arguments)}function u(){var e=p().match(/Silk\\/([0-9.]+)/);return!!e&&s(e[1],arguments)}function f(){var e=p().toLowerCase();return/kftt|kfot|kfjwi|kfjwa|kfso|kfth|kfapwi|kfthwi|kfsowi|kfthwa|kfapwa|kfap|sd4930ur/.test(e)?s(\"2\",arguments):!1}function d(){return\"undefined\"!=typeof offsetWidthOverride?offsetWidthOverride:(document.body.offsetWidth,Math.min(innerWidth,innerHeight))}function c(){return/iPad/.test(p())||d()>550}function m(){return!(t()||n()||r())}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,\"\"),10)}function r(e,n){for(var t=0;t<v.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,a,o;if(!e)return!0;if(0===n.length)a=null,o=null;else if(1===n.length)a=n[0],o=n[0];else{if(2!==n.length)throw\"Invalid number of arguments\";a=n[0],o=n[1]}e=e.split(\".\").map(t),a=a?a.split(\".\").map(t):[],o=o?o.split(\".\").map(t):[];for(var i=v.max(a.length,o.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,a)||1===r(e,o))}function h(){return v.top!==e}function l(){if(!(n()||window.chrome&&\"Google Inc.\"===window.navigator.vendor))return!1;var e;return e=p().match(n()?/CriOS\\/([0-9]+.)/:/Chrome\\/([0-9]+.)/),!!e&&s(e[1],arguments)}function g(){var e=\"(-webkit-min-device-pixel-ratio: 1.5),(min--moz-device-pixel-ratio: 1.5),(-o-min-device-pixel-ratio: 3/2),(min-resolution: 1.5dppx)\";return window.devicePixelRatio>1||window.matchMedia&&window.matchMedia(e).matches}e.celtra=e.celtra||{};var w={};w.ios=n,w.android=t,w.webkit=i,w.windowsPhone=r,w.gecko=a,w.windows=o,w.kindleSilk=u,w.kindle=f,w.iframe=h,w.desktop=m,w.tablet=c,w.chromeBased=l,w.isHighDensityDisplay=g,extend(e.celtra,w),delete w.webkit,extend(e,w);var v={max:e.Math.max,min:e.Math.min,userAgent:e.navigator.userAgent,top:e.top},p=function(){return\"undefined\"!=typeof e.userAgentOverride?e.userAgentOverride:v.userAgent}}(window);;\n!function(e){function t(){var t=e;try{for(;\"undefined\"!=typeof t.parent.location.href&&t.parent.document!==t.document;)t=t.parent}catch(n){}return t}function n(){return s.getComputedStyle(s.document.body,null)}function i(e,t,n){if(!e)throw new Error(\"No element specified!\");if(a(t)){if(!(t in e.style)&&i.BREAK_ON_ERROR)throw new Error(\"Invalid CSS attribute \"+t);if(\"undefined\"==typeof n)return e.style[t];e.style[t]=n}else{if(-1==w.indexOf(t)&&o(t),\"undefined\"==typeof n)return e.style[y[t]];e.style[y[t]]=n}}function r(e,t){if(!e)throw new Error(\"No element specified!\");var n=e.ownerDocument.defaultView.getComputedStyle(e,null);if(R&&v.indexOf(t)>-1&&(t=\"webkit\"+u(t)),!n||\"none\"==n.display||!f())return null;if(!(t in n)&&i.BREAK_ON_ERROR)throw new Error(\"Invalid CSS attribute \"+t);return a(t)?n[t]:(-1==w.indexOf(t)&&o(t),n[y[t]])}function o(e){S=S||n();var t=E+u(e);if(R&&v.indexOf(e)>-1)y[e]=t;else if(S&&e in S)y[e]=e;else if(S&&t in S)y[e]=t;else if(!S&&deviceInfo.browser.firefox)y[e]=e;else if(i.BREAK_ON_ERROR)throw new Error(\"Invalid CSS attribute \"+e+' or iframe still display \"none\" in FF');w.push(e)}function a(e){return p.test(e)}function f(){if(e===s)return!0;var t=e.frameElement.ownerDocument.defaultView.getComputedStyle(e.frameElement,null);return t&&\"none\"!=t.display}function u(e){return e+=\"\",e?e[0].toUpperCase()+e.slice(1):\"\"}var l=e.navigator.userAgent,s=t(),c=/rv:.*Gecko\\//.test(l),d=/MSIE|Trident\\//.test(l),m=/WebKit/.test(l),p=/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?/,y={},w=[],E=function(){return m?\"webkit\":d?\"ms\":c?\"Moz\":\"\"}(),R=function(){var e=l.match(/AppleWebKit\\/(\\d+)/);return e&&~~e[1]<540}(),v=[\"transform\",\"transform-origin\",\"transform-style\",\"transition\",\"transition-delay\",\"transition-duration\",\"transition-property\",\"transition-timing-function\",\"animation\",\"animation-delay\",\"animation-direction\",\"animation-duration\",\"animation-fill-mode\",\"animation-iteration-count\",\"animation-name\",\"animation-play-state\",\"animation-timing-function\",\"appearance\",\"backface-visibility\",\"perspective\",\"perspective-origin\"],S=n();i.BREAK_ON_ERROR=!1,e.celtra=e.celtra||{},e.celtra.styler={css:i,computedCSS:r,isWebkit:m,isGecko:c,isIE:d},e.css=i,e.computedCSS=r}(window);;\nvar Freezer={};Freezer.unfreeze=function(n,e,o){function t(n,e,o,t,a){ActionInvocationSimulator.isDryRun()?ActionInvocationSimulator.needsDryRun(n.internalId)&&(ActionInvocationSimulator.logActionDryRun(n.internalId,n.method,e.localId),e[n.method+\"ActionDryRun\"]?e[n.method+\"ActionDryRun\"](o,t,a):a()):e[n.method+\"Action\"](o,t,a)}function a(n){if(n instanceof Array)return n.map(a);if(n instanceof Object){var o;if(\"ActionInvocation\"===n.clazz){n.internalId=++c;var s=l;o=function(e,a){if(!e)throw\"Cannot execute an action without a context.\";a||(a=noop);var i=o.isStatic;if(\"undefined\"==typeof i&&(i=!o.instance),o.disabled)return void a();if(i){if(o.instance)throw\"ActionInvocation for a static method must not have an instance assigned.\";if(\"function\"!=typeof o.actionClazz[o.method+\"Action\"])throw\"Clazz \"+o.actionClazz+' does not define the static action \"'+o.method+'\".';var r=extend({},o.args,{triggerId:s,caller:n});t(o,o.actionClazz,e,r,a)}else if(o.instance){if(!(o.instance instanceof o.actionClazz))throw\"Instance \"+o.instance+\" is not an instance of clazz \"+o.actionClazz;if(\"function\"!=typeof o.instance[o.method+\"Action\"])throw\"Instance of clazz \"+o.actionClazz+' does not define the instance action \"'+o.method+'\".';var r=extend({},o.args,{triggerId:s,caller:n});t(o,o.instance,e,r,a)}else ActionInvocationSimulator.isDryRun()?a():defer(a,0,\"Freezer.unfreeze defer c\")}}else if(n.clazz){var f=e[n.clazz];if(!f)throw new Error(\"Unsupported clazz: \"+n.clazz);o=Object.create(f.prototype)}else o={},n.onFire&&(l=n.type);for(var d in n)n.hasOwnProperty(d)&&\"clazz\"!==d&&(o[d]=a(n[d]));i.push(o),o.localId&&(r[o.localId]&&console.error(\"Duplicate localId: \"+o.localId),r[o.localId]=o);for(var d in o)if(\"clazz\"===d.slice(-5).toLowerCase()){var z=o[d];if(!z)continue;e[z]?o[d]=e[z]:console.error(\"Unsupported clazz: \"+o.clazz)}return o}return n}var i=[],r={},c=0,l=null,s=a(n);i.forEach(function(n){for(var e in n)if(\"LocalId\"===e.slice(-7)){var o=n[e];if(o instanceof Function)continue;var t;null===o?t=null:(t=r[o],t||console.error(\"Invalid localId reference: \"+o)),n[e.slice(0,-7)]=t,delete n[e]}else if(\"LocalIds\"===e.slice(-8)){for(var a=[],i=0;i<n[e].length;i++){var c=n[e][i],t=r[c];t||console.error(\"Invalid localId reference: \"+c),a.push(t)}n[e.slice(0,-8)]=a,delete n[e]}});for(var f in o)s[f]=o[f];return i.reverse().forEach(function(n){n.awake&&n.awake()}),s};;\nfunction Batcher(e){e=e||{},this._cache={},this._downloadQueue={},this._base=e.baseUrl,this._protoLoading=e.protoLoading}Batcher.prototype.getDataUri=function(e,a){var t=this;if(\"function\"!=typeof a)throw\"getDataURI callback is not a function\";var r;if(-1!==e.indexOf(\"://\"))r=e;else{if(\"/\"===e[0])throw\"An absolute path as URL?\";r=this._base+e}var n,c;0===r.indexOf(creative.cachedApiUrl)?(n=r.slice(creative.cachedApiUrl.length),c=!0):0===r.indexOf(creative.insecureCachedApiUrl)&&(n=r.slice(creative.insecureCachedApiUrl.length),c=!1),n?n in this._cache?defer(function(){a(t._cache[n])},0,\"Batcher.getDataUri in cache\",useAsap()):(this._downloadQueue[n]||(this._downloadQueue[n]={requested:!1,secure:!1,callbacks:[]}),this._downloadQueue[n].callbacks.push(a),c&&(this._downloadQueue[n].secure=!0),defer(function(){var e=[],a=!1;for(var r in t._downloadQueue){var n=8192,c=200,o=t._generateBatchUrl(!0,e.concat(r)).length>n-c;if(!o){var i=t._downloadQueue[r];i.requested||(i.requested=!0,e.push(r),i.secure&&(a=!0))}}e.length&&(Logger(\"batcher\").log(e.length+\" new batchable URLs requested during last runloop iteration (\"+(a?\"at least one secure\":\"none secure\")+\"):\\n - \"+e.join(\"\\n - \")),t._loadBatch(a,e,function(e){for(var a in e){var r=e[a];r===!1&&(r=(t._downloadQueue[a].secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+a),t._cache[a]=r,t._downloadQueue[a].callbacks.forEach(function(e){e(r)}),delete t._downloadQueue[a]}}))},0,\"Batcher.getDataUri downloadQueue\",useAsap())):defer(function(){a(e)},0,\"Batcher.getDataUri url not batchable\",useAsap())},Batcher.prototype._generateBatchUrl=function(e,a){var t=(e?creative.cachedApiUrl:creative.insecureCachedApiUrl)+\"batch?urls=\"+a.sort().map(encodeURIComponent).join(\",\");return t},Batcher.prototype._loadBatch=function(e,a,t){function r(e){var a,t=5381;for(a=0;a<e.length;a++)char=e.charCodeAt(a),t=(t<<5)+t+char;return t}var n=this,c=n._generateBatchUrl(e,a);if(isFetchSupported()&&this._protoLoading.blobURIsSupported)fetch(c+\"&binary=1\").then(function(e){return e.arrayBuffer()}).then(function(e){for(var a={},r=new DataView(e),n=0;n<e.byteLength;){var o=r.getUint32(n);n+=4;var i=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(e.slice(n,n+o))));n+=o;var h=e.slice(n,n+i.bodyLength);n+=i.bodyLength,200===i.code?a[i.path]=URL.createObjectURL(new Blob([h],{type:i.contentType})):(Logger(\"batcher\").warn(\"Batcher: Could not retrieve URL '\"+i.path+\"' using batcher, returning it directly.\"),creative.track({name:\"batcherError\",url:c,path:i.path,binary:!0}),a[i.path]=!1)}t(a)});else if(this._protoLoading.dataURIsSupported)loadJSONP(c,{cbName:\"__batcher_jsonp_\"+Math.abs(r(c))},function(e){var a={};for(var r in e){var n=e[r];200===n.code?a[r]=n.data:(Logger(\"batcher\").warn(\"Batcher: Could not retrieve URL '\"+r+\"' using batcher, returning it directly.\"),creative.track({name:\"batcherError\",url:c,path:r,binary:!1}),a[r]=!1)}t(a)});else{var o=a.reduce(function(e,a){return e[a]=!1,e},{});defer(function(){t(o)},0,\"Batcher._loadBatch defer callback, no data: and no blob: support, returning urls directly.\")}};;\nfunction EngagementTracker(e,t){function n(e){if(!w){w=!0;var t=randInt(),n=u(e.target),o=v.getBoundingClientRect(),l=n.node.getBoundingClientRect(),d=v.parentNode.getBoundingClientRect();C=Math.round(o.left-d.left),D=Math.round(o.top-d.top),h.setUniversalInteractionId(t),\"touchstart\"===e.type?(L=!0,E=e.targetTouches[0].pageX,U=e.targetTouches[0].pageY,v.addEventListener(\"touchmove\",a,m),v.addEventListener(\"touchend\",i,m)):\"mousedown\"===e.type&&(L=!1,E=e.clientX,U=e.clientY,v.addEventListener(\"mousemove\",a,m),v.addEventListener(\"mouseup\",i,m)),deviceInfo.deviceType.desktop()&&v.addEventListener(\"mouseout\",r,m),y=T=Date.now(),M=0,j={name:\"universalInteraction\",universalInteractionId:t,unitSize:{w:v.offsetWidth,h:v.offsetHeight},objectSize:n?{t:Math.round(l.top-o.top),l:Math.round(l.left-o.left),w:Math.round(l.width),h:Math.round(l.height)}:null,path:[],addPoint:function(e,t,n,o){this.path.push({x:Math.round(e-C),y:Math.round(t-D),clientTimestamp:n,objectLocalId:o?o.localId:null})}},j=c(j,n),j.addPoint(E,U,y/1e3,n)}}function o(e,t){return Math.sqrt(e*e+t*t)}function a(e){if(w){b&&(S.clearTimeout(b),b=null);var t,n;\"touchmove\"===e.type?(t=e.targetTouches[0].pageX,n=e.targetTouches[0].pageY):\"mousemove\"===e.type&&(t=e.clientX,n=e.clientY),M+=o(t-E,n-U),E=t,U=n;var a=Date.now(),r=a-y,i=Math.pow(j.path.length/(.5*p),6),c=Math.pow((a-T)/s,6);j.path.length<f&&(M>l+i*l||r>d+c*d)&&(j.addPoint(t,n,a/1e3,u(document.elementFromPoint(t,n))),y=a,M=0)}}function r(e){var t=Date.now();b=S.setTimeout(function(){i(e,t)},200)}function i(e,t){w&&(w=!1,t||(t=Date.now()),j.addPoint(E,U,t/1e3,u(document.elementFromPoint(E,U))),g.track(j),L?(v.removeEventListener(\"touchmove\",a,m),v.removeEventListener(\"touchend\",i,m)):(v.removeEventListener(\"mousemove\",a,m),v.removeEventListener(\"mouseup\",i,m)),deviceInfo.deviceType.desktop()&&v.removeEventListener(\"mouseout\",r,m))}function c(e,t){var n=null,o=null,a=null,r=!1;return t instanceof Screen?(n=t,o=null,a=n.parentUnitVariant,r=!0):\"undefined\"!=typeof ScreenObject&&t instanceof ScreenObject?(n=t.parentScreen,o=t,a=n.parentUnitVariant,r=!0):\"undefined\"!=typeof CreativeUnitVariant&&t instanceof CreativeUnitVariant&&(n=null,o=null,a=t,r=!0),r?extend({unitName:a?a.parentUnit.name:n.parentUnit.name,unitVariantLocalId:a?a.localId:null,screenLocalId:n?n.localId:null,screenTitle:n?n.title:null,screenIsMaster:n?n.isMasterScreen():null,objectLocalId:o?o.localId:null,objectName:o?o.name:null,objectClazz:o?o.constructor.name:null,initiationTimestamp:new Date/1e3},e):e}function u(e){function t(e){for(var a in e)if(e.hasOwnProperty(a)){if(e[a].name&&e[a].name==o)return e[a];if(e[a].localId&&e[a].localId==n)return e[a];var r;if(e[a].variants?r=t(e[a].variants):e[a].screens?r=t(e[a].screens):e[a].objects?r=t(e[a].objects):e[a].content&&e[a].content.objects?r=t(e[a].content.objects):e[a].component&&(r=e[a].component),r)return r}}if(!e)return null;for(var n,o,a=e;;){if(a.id&&0==a.id.indexOf(\"celtra-\")){o=a.id.replace(\"celtra-\",\"\"),0==a.id.indexOf(\"celtra-object-\")&&(n=a.id.replace(\"celtra-object-\",\"\"));var r=t(I);if(r)return\"undefined\"!=typeof CreativeUnit&&r instanceof CreativeUnit?r.currentScreen:r}if(!a.parentNode)break;a=a.parentNode}return null}var l=15,d=150,s=1e3,p=15,f=p+5,m={capture:!0,passive:!0},v=e,h=t,g=t.adapter.trackingCenter,I=t.units,w=!1,b=null,L=!0,j={},M=0,T=null,y=Date.now(),E=0,C=0,U=0,D=0,S=e.ownerDocument.defaultView||e.ownerDocument.parentWindow;attach(v,\"touchstart\",n,m),attach(v,\"mousedown\",n,m)};\nfunction Tapper(t,e){function a(t){for(var e=t,a=null;1!=e.nodeType;)e=e.parentNode;for(;e&&1==e.nodeType&&e.tagName;){var n=e.tagName.toLowerCase();if(hasClass(e,\"touchable\")||\"a\"===n&&e.href||\"button\"===n||\"img\"===n||\"input\"===n&&e.type&&\"button\"===e.type.toLowerCase()){a=e;break}e=e.parentNode}return a}function n(t,e){var a=t.ownerDocument.createEvent(\"MouseEvents\");a.initEvent(\"tap\",!0,!0),e.dispatchEvent(a)}var c=\"undefined\"!=typeof creative&&creative.adapter||adapter;e=e||c.useNativeClickForTapDetection,e&&(attach(t,\"click\",function(e){var c=a(e.target);c&&n(t,c)},!c.nativeClickEmittedOnSwipe),c.useNativeClickForTapDetection)||attach(t,\"touchstart\",function(o){var r=a(o.target);if(r){var i=!1;if(celtra.iframe()){var u=function(){var t=c.getTopWindow();return[t.scrollX,t.scrollY,t.innerWidth,t.innerHeight]},h=u();i=!0}var s=10,d=o.targetTouches[0].clientX-s,v=o.targetTouches[0].clientX+s,l=o.targetTouches[0].clientY-s,f=o.targetTouches[0].clientY+s;addClass(r,\"touched\");var p=!1,g=!1,m=!1,T=!1,C=new Date,w=function(t){if(!p&&!g){var e=t.targetTouches[0].clientX,a=t.targetTouches[0].clientY;p=i&&h.toString()!=u().toString(),g=!(e>=d&&v>=e&&a>=l&&f>=a),g||p?removeClass(r,\"touched\"):addClass(r,\"touched\")}},k=function(){if(!T&&(T=!0,detach(t,\"touchmove\",w,!1),detach(t,\"touchend\",arguments.callee,!1),hasClass(r,\"touched\"))){var a=200,c=new Date-C>a&&!deviceInfo.deviceType.desktop();if(removeClass(r,\"touched\"),g||p||m||c)return;e||n(t,r)}},y=function(){detach(t,\"touchend\",y,!0),nextFrame(function(){m=!0,k()})};attach(t,\"touchcancel\",function(t){removeClass(r,\"touched\"),k(t)},!1),attach(t,\"touchmove\",w,!1),attach(t,\"touchend\",k,!1),attach(t,\"touchend\",y,!0)}},!0)};\nfunction TouchEventSimulator(t){this.el=t,this.doc=t.ownerDocument?t.ownerDocument:t,this.win=this.doc.defaultView,this.touch=null,this._initialised=!1,this._firstEventFired=!1,this.handleFirstEvent=this.handleFirstEvent.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handlePointerCancel=this.handlePointerCancel.bind(this),this.captureBubbleEvents=this.captureBubbleEvents.bind(this)}TouchEventSimulator.mode=null,TouchEventSimulator.prototype.start=function(){return this._initialised?void(\"function\"==typeof Logger&&Logger(\"TouchEventSimulator\").warn(\"Touch event simulator already initialised!\")):(\"function\"==typeof Logger&&Logger(\"TouchEventSimulator\").log(\"Enabling touch event simulation\"),this.doc.defaultView.msPointerEnabled?this.startPointers():this.startMouse(),this.el.addEventListener(\"touchstart\",this.captureBubbleEvents,!1),this.el.addEventListener(\"touchmove\",this.captureBubbleEvents,!1),this.el.addEventListener(\"touchend\",this.captureBubbleEvents,!1),this.el.addEventListener(\"touchcancel\",this.captureBubbleEvents,!1),void this.el.addEventListener(\"tap\",this.captureBubbleEvents,!1))},TouchEventSimulator.prototype.stop=function(){return this._initialised?(\"function\"==typeof Logger&&Logger(\"TouchEventSimulator\").log(\"Disabling touch event simulation\"),this.win&&this.win.msPointerEnabled?this.stopPointers():this.stopMouse(),this.el.removeEventListener(\"touchstart\",this.captureBubbleEvents,!1),this.el.removeEventListener(\"touchmove\",this.captureBubbleEvents,!1),this.el.removeEventListener(\"touchend\",this.captureBubbleEvents,!1),this.el.removeEventListener(\"touchcancel\",this.captureBubbleEvents,!1),void this.el.removeEventListener(\"tap\",this.captureBubbleEvents,!1)):void(\"function\"==typeof Logger&&Logger(\"TouchEventSimulator\").warn(\"Touch event simulator not running!\"))},TouchEventSimulator.prototype.captureBubbleEvents=function(t){t.stopPropagation(),t.preventDefault()},TouchEventSimulator.prototype.startMouse=function(){this.el.addEventListener(\"mousedown\",this.handleMouseDown,!0),this.el.addEventListener(\"mousemove\",this.handleMouseMove,!0),this.el.addEventListener(\"mouseup\",this.handleMouseUp,!0),this.el.addEventListener(\"mouseout\",this.handleMouseOut,!0),this.el.addEventListener(\"dragstart\",this.handleDragStart,!0),this._initialised=!0},TouchEventSimulator.prototype.stopMouse=function(){this.el.removeEventListener(\"mousedown\",this.handleMouseDown,!0),this.el.removeEventListener(\"mousemove\",this.handleMouseMove,!0),this.el.removeEventListener(\"mouseup\",this.handleMouseUp,!0),this.el.removeEventListener(\"mouseout\",this.handleMouseOut,!0),this.el.removeEventListener(\"dragstart\",this.handleDragStart,!0),this._initialised=!1},TouchEventSimulator.prototype.startPointers=function(){this.el.addEventListener(\"MSPointerDown\",this.handlePointerDown,!0),this.el.addEventListener(\"MSPointerMove\",this.handlePointerMove,!0),this.el.addEventListener(\"MSPointerUp\",this.handlePointerUp,!0),this.el.addEventListener(\"MSPointerCancel\",this.handlePointerCancel,!0),this._initialised=!0},TouchEventSimulator.prototype.stopPointers=function(){this.el.removeEventListener(\"MSPointerDown\",this.handlePointerDown,!0),this.el.removeEventListener(\"MSPointerMove\",this.handlePointerMove,!0),this.el.removeEventListener(\"MSPointerUp\",this.handlePointerUp,!0),this.el.removeEventListener(\"MSPointerCancel\",this.handlePointerCancel,!0),this._initialised=!1},TouchEventSimulator.prototype.init=function(){this.doc.defaultView.navigator.msPointerEnabled?this.start():(this.el.addEventListener(\"touchstart\",this.handleFirstEvent,!0),this.el.addEventListener(\"mousedown\",this.handleFirstEvent,!0))},TouchEventSimulator.prototype.updateTouchCoordinates=function(t){this.touch.screenX=t.screenX,this.touch.screenY=t.screenY,this.touch.pageX=t.pageX,this.touch.pageY=t.pageY,this.touch.clientX=t.clientX,this.touch.clientY=t.clientY},TouchEventSimulator.prototype.ignorables=[\"select\",\"input\",\"textarea\"],TouchEventSimulator.prototype.isFormElement=function(t){return this.ignorables.indexOf(t.nodeName.toLowerCase())>-1},TouchEventSimulator.prototype.isIgnorable=function(t){for(var e=t;e&&e instanceof HTMLElement;e=e.parentNode)if(hasClass(e,\"ignore-toucheventsimulator\"))return!0;return!1},TouchEventSimulator.prototype.handleFirstEvent=function(t){this._firstEventFired||(this._firstEventFired=!0,this.el.removeEventListener(\"touchstart\",this.handleFirstEvent,!0),this.el.removeEventListener(\"mousedown\",this.handleFirstEvent,!0),\"touch\"!=TouchEventSimulator.mode&&\"mousedown\"==t.type?(TouchEventSimulator.mode=\"mouse\",this.start(),this.handleMouseDown(t)):TouchEventSimulator.mode=\"touch\")},TouchEventSimulator.prototype.handleMouseDown=function(t){0!=t.button||this.isIgnorable(t.target)||(this.touch={identifier:0,target:t.target},this.updateTouchCoordinates(t),t.stopPropagation(),this.isFormElement(t.target)||t.preventDefault(),this.fireTouchEvent(\"touchstart\",t))},TouchEventSimulator.prototype.handleMouseMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent(\"touchmove\",t))},TouchEventSimulator.prototype.handleMouseUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent(\"touchend\",t),this.touch=null)},TouchEventSimulator.prototype.handleMouseOut=function(t){this.touch&&0==t.button&&(t.clientX<=0||t.clientX>=this.win.innerWidth||t.clientY<=0||t.clientY>=this.win.innerHeight)&&this.cancelInteraction()},TouchEventSimulator.prototype.handleDragStart=function(t){return t.preventDefault(),!1},TouchEventSimulator.prototype.handlePointerDown=function(t){0==t.button&&(this.touch={identifier:0,target:t.target},this.updateTouchCoordinates(t),this.fireTouchEvent(\"touchstart\",t))},TouchEventSimulator.prototype.handlePointerMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent(\"touchmove\",t))},TouchEventSimulator.prototype.handlePointerUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent(\"touchend\",t))},TouchEventSimulator.prototype.handlePointerCancel=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent(\"touchcancel\",t),this.touch=null)},TouchEventSimulator.prototype.fireTouchEvent=function(t,e){var n=this.doc.createEvent(\"HTMLEvents\");n.initEvent(t,!0,!0),\"touchend\"==t||\"touchcancel\"==t?(n.touches=n.targetTouches=[],n.changedTouches=[this.touch]):n.touches=n.targetTouches=n.changedTouches=[this.touch],e.target.dispatchEvent(n)},TouchEventSimulator.prototype.cancelInteraction=function(){this.touch&&(this.fireTouchEvent(\"touchcancel\",this.touch),this.touch=null)};;\nfunction SwipeListener(t){function e(t,e){return Math.abs(t)>Math.abs(e)?t>0?\"east\":\"west\":e>0?\"south\":\"north\"}function a(){detach(l(),\"touchmove\",n,!1),detach(l(),\"touchend\",c,!1)}function n(t){if(t.touches.length>1)a();else{var n=t.changedTouches[0].pageX-o,c=t.changedTouches[0].pageY-i;if(r=Math.max(Math.abs(n),Math.abs(c)),r>Math.min(50,g))if(null===u)u=e(n,c);else{var h=e(n,c);u!=h&&a()}}}function c(){a(),r>=g&&(d(u,r),v.attachClickPreventionHandler())}function h(t){creative.adapter.useNativeClickForTapDetection||t.preventDefault(),1==t.touches.length&&(o=t.changedTouches[0].pageX,i=t.changedTouches[0].pageY,r=0,u=null,attach(l(),\"touchmove\",n,!1),attach(l(),\"touchend\",c,!1),v.detachClickPreventionHandler())}var o,i,u,r,s=t.target,l=t.swipeNodeGetter,d=t.swipe,g=t.minLength||50,v=Object.create(ClickPreventer).initClickPrevention(function(){return s});attach(window,\"touchstart\",noop,!1),attach(s,\"touchstart\",h,!1)};\nvar ClickPreventer={initClickPrevention:function(e){return this._getDefaultClickPreventionNode=e||function(){},this._clickPreventionNode=null,this._clickPreventionHandler=this._clickPreventionHandler.bind(this),this},attachClickPreventionHandler:function(e){creative.adapter.nativeClickEmittedOnSwipe&&!this._clickPreventionNode&&(this._clickPreventionNode=e||this._getDefaultClickPreventionNode(),attach(this._clickPreventionNode,\"click\",this._clickPreventionHandler,!0))},detachClickPreventionHandler:function(){creative.adapter.nativeClickEmittedOnSwipe&&this._clickPreventionNode&&(detach(this._clickPreventionNode,\"click\",this._clickPreventionHandler,!0),this._clickPreventionNode=null)},_clickPreventionHandler:function(e){e.stopPropagation(),this.detachClickPreventionHandler()}};;\nfunction PlaceboBar(e,t,a,i){var n=!1,r=document.createElement(\"div\");r.className=\"celtra-placebobar\",r.style.cssText=\"position: absolute; bottom: 60px; left: 0; right: 0; margin: auto; z-index: 20; width: 215px; height: 8px;\";var l=document.createElement(\"img\");l.src=creative.resourceUrl+\"runner/clazzes/CreativeUnit/loading-back.png\",l.style.position=\"absolute\",l.style.width=\"100%\",l.style.height=\"100%\",r.appendChild(l);var o=document.createElement(\"div\");o.style.position=\"absolute\",o.style.top=\"2px\",o.style.bottom=\"2px\",o.style.left=\"3px\",o.style.right=\"3px\",r.appendChild(o);var s=document.createElement(\"div\");return s.style.background=\"url(\"+creative.resourceUrl+\"runner/clazzes/CreativeUnit/loading-over.png) \"+i+\" repeat-x\",s.style.position=\"absolute\",s.style.width=\"0\",s.style.height=\"100%\",o.appendChild(s),r.start=function(){function i(){if(r.parentNode){var n=Math.min((new Date-l)/e,t);s.style.width=100*n+\"%\",t>n&&setTimeout(i,2*a*Math.random())}}if(!n){n=!0;var l=new Date;setTimeout(i,0)}},r};\nvar EventEmitter={emit:function(t){var e=this._listeners;if(e&&e[t]){var n=[].slice.call(arguments,1);e[t].forEach(function(t){t.apply(window,n)})}},emits:function(){var t=arguments;return function(){this.emit.apply(this,t)}.bind(this)},addListener:function(t,e){var n=this._listeners;n||(n=this._listeners={}),n[t]||(n[t]=[]),n[t].push(e)},removeListener:function(t,e){var n=this._listeners;n&&n[t]&&(n[t]=n[t].filter(function(t){return t!==e}))},once:function(t,e){var n=this;n.on(t,function i(){n.off(t,i),e.apply(this,arguments)})},onAll:function(t,e){t.split(\" \").waitForEach(function(t,e){this.once(t,e)},e,this)}};EventEmitter.on=EventEmitter.addListener,EventEmitter.off=EventEmitter.removeListener,EventEmitter.addEventListener=EventEmitter.addListener,EventEmitter.removeEventListener=EventEmitter.removeListener,\"undefined\"!=typeof module&&null!==module&&(module.exports=EventEmitter);;\nfunction InViewObject(t,e){this.view=t,this.inViewParent=e,this._init()}extend(InViewObject.prototype,EventEmitter),InViewObject.prototype._init=function(){this.rectInView=CRect.ZERO,this.areaInViewRatio=0,this.active=!1,this._maxPossibleDimensions={width:0,height:0,area:0},this.computeRectInView=this.computeRectInView.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this)},InViewObject.prototype.getNode=function(){return this.view.getNode()},InViewObject.prototype.getParentMaxPossDims=function(){return this.inViewParent?this.inViewParent.getMaxPossibleDimensions():this.adapter.getViewportRect()},InViewObject.prototype.computeRectInView=function(){var t=this.inViewParent.getRectInView(),e=this.getBoundingClientRect(),i=t.intersect(e),n=!1;this.rectInView.equals(i)||(this.rectInView=i,n=!0),this._computeMaxPossibleDimensions(e,this.getParentMaxPossDims());var s=this._maxPossibleDimensions.area>0?i.area/this._maxPossibleDimensions.area:0,o=!1;s!==this.areaInViewRatio&&(this.areaInViewRatio=s,o=!0),n&&(this.emit(\"rectInViewChanged\",i),Logger(\"InViewObject\").debug(this.view.toString()+\", rectInViewChanged: \"+this.rectInView.toString())),o&&(this.emit(\"areaInViewRatioChanged\",s),Logger(\"InViewObject\").debug(this.view.toString()+\", areaInViewRatioChanged: \"+s))},InViewObject.prototype.getBoundingClientRect=function(){var t=this.getNode();return t?CRect.adopt(t.getBoundingClientRect()):CRect.ZERO},InViewObject.prototype.getMaxPossibleDimensions=function(){return this._maxPossibleDimensions},InViewObject.prototype._computeMaxPossibleDimensions=function(t,e){this._maxPossibleDimensions.width=Math.min(e.width,t.width),this._maxPossibleDimensions.height=Math.min(e.height,t.height),this._maxPossibleDimensions.area=this._maxPossibleDimensions.width*this._maxPossibleDimensions.height},InViewObject.prototype.getRectInView=function(){return this.rectInView},InViewObject.prototype.getAreaInViewRatio=function(){return this.areaInViewRatio},InViewObject.prototype.start=function(){this.active||(this._start(),this.active=!0,this.computeRectInView())},InViewObject.prototype._start=function(){this.inViewParent.on(\"rectInViewChanged\",this.computeRectInView),this.inViewParent.on(\"areaInViewRatioChanged\",this.computeRectInView)},InViewObject.prototype.stop=function(){this.active&&(this.computeRectInView(),this._stop(),this.active=!1)},InViewObject.prototype._stop=function(){this.inViewParent.off(\"rectInViewChanged\",this.computeRectInView),this.inViewParent.off(\"areaInViewRatioChanged\",this.computeRectInView)};;\nfunction TaskScheduler(){this.hub=extend({},EventEmitter)}TaskScheduler.prototype.when=function(){var t,e=this;return t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),{run:function(n){t.waitForEach(function(t,n){e.hub.once(t,n)},n)}}},TaskScheduler.prototype.notify=function(t){this.paused||this.hub.emit(t)},TaskScheduler.prototype.notifies=function(t){return function(){this.notify(t)}.bind(this)},TaskScheduler.prototype.pause=function(){this._paused=!0};;\nfunction DryRunResultSet(t){this._actions=t}DryRunResultSet.prototype.contains=function(t,n){return this._actions.some(function(e){var o=t==e.method,u=!n||n==e.instance;return o&&u})},DryRunResultSet.prototype.getAll=function(){return this._actions},DryRunResultSet.prototype.concat=function(t){return new DryRunResultSet(this._actions.concat(t.getAll()))};;\nvar ActionInvocationSimulator={_dryRun:!1,_dryRunActions:[],_dryRunExecutedActionsLocalIds:[],beginDryRun:function(){this._dryRun=!0,this._dryRunActions=[],this._dryRunExecutedActionsLocalIds=[]},endDryRun:function(){var n=this._dryRunActions;return this._dryRun=!1,this._dryRunActions=[],this._dryRunExecutedActionsLocalIds=[],new DryRunResultSet(n)},isDryRun:function(){return this._dryRun},needsDryRun:function(n){return!this._dryRunExecutedActionsLocalIds[n]},logActionDryRun:function(n,t,u){this._dryRunExecutedActionsLocalIds[n]=!0,this._dryRunActions.push({method:t,instance:u})}};;\nvar TriggerHost={_getTriggers:function(r,i){return i||(i=retTrue),this.triggers.filter(function(t){return t.type==r&&i(t.parameters,t)})},_fireArrayOfTriggers:function(r,i,t){var e=this;i||(i=noop),t||(t=new ActionContext(e)),r.waitForEach(function(r,i){r.onFire?r.onFire(t,i):i()},i)},hasTriggers:function(r,i){return this._getTriggers(r,i).length>0},fireTriggersDryRun:function(r,i,t,e){var n;try{ActionInvocationSimulator.beginDryRun(),this.fireTriggers(r,i,t,e)}finally{n=ActionInvocationSimulator.endDryRun()}return n},fireTriggers:function(r,i,t,e){var n=this._getTriggers(r,i);this._fireArrayOfTriggers(n,t,e)},fireSortedTriggers:function(r,i,t,e,n){var g=this._getTriggers(r,i),n=n||null;this._fireArrayOfTriggers(g.sort(n),t,e)},triggerAction:function(r,i,t){this.fireTriggers(i.eventName,null,t,r)},triggerActionByLocalId:function(r,i,t){var e=this.triggers.filter(function(r){return r.localId===i.localId});e.length>0&&this._fireArrayOfTriggers(e,t,r)},triggerByLocalIdAction:function(r,i,t){var e=i.event?[i.event]:[];this._fireArrayOfTriggers(e,t,r)},triggerByLocalIdActionDryRun:function(r,i,t){this.triggerByLocalIdAction(r,i,t)}};;\nvar SceneHost={_initImmediatelyPlayedScenes:function(){if(this.immediatelyPlayedScenes){var e=[];if(this instanceof Screen){e=this.immediatelyPlayedScenes.appear.scenes;var i=!this.appearedAtLeastOnce;i&&(e=e.concat(this.immediatelyPlayedScenes.firstAppear.scenes))}else e=this.immediatelyPlayedScenes.conditionMet.scenes;e.forEach(function(e){e.renderFirstFrame()})}}};;\nfunction ActionContext(e,t){if(this._id=randInt(),this.initiator=e,this.initiationTimestamp=new Date/1e3,\"object\"==typeof t?(this.consideredUserInitiatedByBrowser=!!t.consideredUserInitiatedByBrowser,this.certainlyNotCausedByUserBehavior=!!t.certainlyNotCausedByUserBehavior):(this.consideredUserInitiatedByBrowser=!!t,this.certainlyNotCausedByUserBehavior=!1),this.inUserInitiatedIteration=this.consideredUserInitiatedByBrowser,this.consideredUserInitiatedByBrowser&&this.certainlyNotCausedByUserBehavior)throw new Error(\"Unable to create an ActionContext where both consideredUserInitiatedByBrowser and certainlyNotCausedByUserBehavior are true!\");if(e instanceof Screen)this.screen=e,this.screenObject=null,this.unitVariant=this.screen.parentUnitVariant;else if(e instanceof ScreenObject)this.screen=e.parentScreen,this.screenObject=e,this.unitVariant=this.screen.parentUnitVariant;else{if(!(\"undefined\"!=typeof CreativeUnitVariant&&e instanceof CreativeUnitVariant))throw new Error(\"Initiator (\"+e+\") is not a Screen or a ScreenObject. Analytics would be confused.\");this.screen=null,this.screenObject=null,this.unitVariant=e}if(this.inUserInitiatedIteration){var i=function(){this.inUserInitiatedIteration=!1}.bind(this);defer(i),nextFrame(i)}if(this.trackUserInteraction=this.trackUserInteraction.bind(this),this._isAttributable=!!this.screen&&this._isScreenReadyForEventAttribution(),this.screen&&!this.screen.parentUnit.name)throw new Error(\"Parent unit missing name.\")}ActionContext.prototype._isScreenReadyForEventAttribution=function(){return this.screen.isMasterScreen()?this.screen.parentContainer.screens.some(function(e){return e.appearedAtLeastOnce&&e.isNormalScreen()}):this.screen.appearedAtLeastOnce},ActionContext.prototype.extendEvent=function(e){return extend({unitName:this.unitVariant?this.unitVariant.parentUnit.name:this.screen.parentUnit.name,unitVariantLocalId:this.unitVariant?this.unitVariant.localId:null,screenLocalId:this.screen?this.screen.localId:null,screenTitle:this.screen?this.screen.title:null,screenIsMaster:this.screen?this.screen.isMasterScreen():null,objectLocalId:this.screenObject?this.screenObject.localId:null,objectName:this.screenObject?this.screenObject.name:null,objectClazz:this.screenObject?this.screenObject.constructor.name:null,initiationTimestamp:this.initiationTimestamp},e)},ActionContext.prototype.track=function(e,t){this.screen&&!this._isAttributable&&console.warn('Event \"'+e.name+'\" appears to be initiated before a screen was ever shown and will be ignored.'),creative.track(this.extendEvent(e),t)},ActionContext.prototype.trackUserInteraction=function(){if(creative.getUserInteracted())creative.interactionTrackingTimeout||(this.track({name:\"interaction\"}),creative.interactionTrackingTimeout=setTimeout(function(){creative.interactionTrackingTimeout=null},1e3));else{if(creative.runtimeParams.userInteracted=1,creative.experiments.get(\"TrackViewableAreaChange\")){var e=creative.adapter;e.canMeasureViewportPlacementGeometry&&\"function\"==typeof e.trackViewableAreaRatio&&e.trackViewableAreaRatio()}this.track({name:\"firstInteraction\"})}defer(creative.trackingCenter.batchFlush),creative.userInteracted(this)},ActionContext.prototype.trackClickThrough=function(e){e||(e=noop),creative.runtimeParams.clickedThrough?this.track({name:\"clickThrough\"},e):(creative.runtimeParams.clickedThrough=1,this.track({name:\"firstClickThrough\"},e)),defer(creative.trackingCenter.batchFlush),creative.clickedThrough(this)};;\nfunction VideoContext(t,e,i){VideoContext.uberConstructor.call(this,t instanceof ActionContext?t.initiator:t,t&&t.userInitiated),this.file=e,this.url=e.getUrl(),this.label=i,this.source=null}inherit(VideoContext,ActionContext),VideoContext._eventNames=[\"videoDurationUpdate\",\"videoPlayAttempted\",\"videoPlayedSegment\",\"videoStart\",\"videoFirstQuartile\",\"videoMidpoint\",\"videoThirdQuartile\",\"videoComplete\"],VideoContext.prototype.registerSource=function(t){if(!t)throw\"Not a valid source of video events.\";this.source=t,VideoContext._eventNames.forEach(function(t){this.source.on(t,function(e){this.handleEvent(t,e)}.bind(this))}.bind(this))},VideoContext.prototype.handleEvent=function(t,e){this.track(extend(JSON.parse(JSON.stringify(e||{})),{name:t}))},VideoContext.prototype.track=function(t){if(\"videoPlayAttempted\"==t.name){var e=this.file.url?\"URL\":\"File\";extend(t,{sourceType:e,source:\"URL\"==e?this.file.url:this.file.blobHash,label:this.label})}VideoContext.uber.track.call(this,t)};;\nfunction ShakeListener(){this.shakeThreshold=1.5,this.canListen=!0,this.slidingWindow=5,this.signals=[],this.handleMotion=this.handleMotion.bind(this),this.topWindow=creative.adapter.getTopWindow()}extend(ShakeListener.prototype,EventEmitter),ShakeListener.prototype.start=function(){this.canListen=!0;var i=window.DeviceMotionEvent&&window.DeviceMotionEvent.requestPermission;creative.deviceMotionListenerAdded||(creative.deviceMotionListenerAdded=!0,i?window.DeviceMotionEvent.requestPermission().then(function(i){\"granted\"==i?this.topWindow.addEventListener(\"devicemotion\",this.handleMotion):this.emit(\"shakeFallback\")}.bind(this))[\"catch\"](function(i){console.warn(i.message+\". Triggering fallback behaviour\"),this.emit(\"shakeFallback\")}.bind(this)):this.topWindow.addEventListener(\"devicemotion\",this.handleMotion))},ShakeListener.prototype.stop=function(){this.canListen=!1,creative.deviceMotionListenerAdded&&(creative.deviceMotionListenerAdded=!1,this.topWindow.removeEventListener(\"devicemotion\",this.handleMotion))},ShakeListener.prototype.handleMotion=function(i){if(this.canListen){this.signals.push(i.accelerationIncludingGravity),this.signals.length>this.slidingWindow&&this.signals.shift();var e=this.signals.reduce(function(i,e){return{x:i.x+e.x,y:i.y+e.y,z:i.z+e.z}}),t={x:e.x/this.signals.length,y:e.y/this.signals.length,z:e.z/this.signals.length};if(this.prevSignal){var n=null,s=Math.abs(t.x-this.prevSignal.x),h=Math.abs(t.y-this.prevSignal.y),o=Math.abs(t.z-this.prevSignal.z);if(90===Math.abs(creative.adapter.orientation)){var a=h;h=s,s=a}s>h&&s>o&&s>this.shakeThreshold?n=\"x\":h>s&&h>o&&h>this.shakeThreshold?n=\"y\":o>s&&o>h&&o>this.shakeThreshold&&(n=\"z\"),(s>this.shakeThreshold||h>this.shakeThreshold||o>this.shakeThreshold)&&this.emit(\"shake\",n)}this.prevSignal=t}};;\n!function(){\"use strict\";function t(t){return\"italic\"===String(t).toLowerCase()?\"italic\":\"\"}function e(t){var e=/normal|bold|([1-9])00/i.exec(t);if(\"undefined\"==typeof e)return\"\";var i=e[0];return\"normal\"===i?\"400\":\"bold\"===i?\"700\":i}function i(i){var n=i.family.replace(/ /g,\"+\"),o=t(i.style),s=e(i.weight),r=s+o;return r.length>0?n+\":\"+r:n}function n(t,e,i){if(l){var n=\"300px\",o=t.style+\" \"+t.weight+\" \"+n+' \"'+t.getBrowserCompatibleFontFamily()+'\"',s=t.hasUnicodeRangeDefined()&&t.hasSubsetStringDefined()?t.getSubsetString():\" \";document.fonts.load(o,s).then(function(t){t.length>=1?e():i()},function(){i()})}else{if(\"undefined\"==typeof FontLoader)return void i(\"Font Loader is not initialized.\");FontLoader.watch(t.getBrowserCompatibleFontFamily(),t.style,t.weight,e,i,t.getSubsetString())}}function o(t,e,i){var o=\"font-style-manager\",s=document.getElementById(o);s||(s=document.createElement(\"style\"),s.id=o,document.getElementsByTagName(\"head\")[0].appendChild(s));var r=t.generateFontFace();if(!r)return void i(\"Unable to define style for font without specifying files, style and weight.\");var a=[].slice.apply(s.sheet.cssRules).some(function(e){var i=e.style.getPropertyValue(\"font-family\").replace(/^['\"](.+)['\"]$/,\"$1\");return i==t.getBrowserCompatibleFontFamily()&&e.style.getPropertyValue(\"font-style\")==t.style&&e.style.getPropertyValue(\"font-weight\")==t.weight});a||s.sheet.insertRule(r,s.sheet.cssRules.length),n(t,e,i)}function s(t,e,i,o){var s=[].slice.apply(document.getElementsByTagName(\"link\")).filter(function(t){return t.href===e})[0];if(s||(s=document.createElement(\"link\"),s.setAttribute(\"rel\",\"stylesheet\"),s.setAttribute(\"media\",\"all\"),s.setAttribute(\"href\",e)),l){var r=function(){s._finished=!0,n(t,i,o)};s._finished?n(t,i,o):(s.addEventListener(\"load\",r),s.addEventListener(\"error\",r))}else setTimeout(function(){n(t,i,o)},0);s.parentNode||document.getElementsByTagName(\"head\")[0].appendChild(s)}function r(t){for(var e in t)this[e]=t[e]}var a=2,l=function(t,e){var i=!!document.fonts;if(/Apple/.test(e)){var n=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))(?:\\.([0-9]+))/.exec(t);return i&&parseInt(n[1],10)>603}var o=/Gecko.*Firefox\\/(\\d+)/.exec(t);return o?i&&parseInt(o[1],10)>46:i}(window.navigator.userAgent,window.navigator.vendor),f=[\"Droid Sans\"];r.prototype.getId=function(){return this.typefaceId||this.id},r.prototype.getSubsetString=function(){return this.subset},r.prototype.getTrackingUrl=function(){return this.trackingUrl},r.prototype.getUnicodeRange=function(){return this.unicodes},r.prototype.getBrowserCompatibleFontFamily=function(){if(this.isAdobe()||this.useGoogleFontsAPI()||this.isSystem())return this.family;var t=this.family+(this.stretch?\" \"+this.stretch:\"\")+\" \"+this.provider;if(this.hasSubsetStringDefined()&&!this.hasUnicodeRangeDefined()&&(t+=\" \"+encodeURIComponent(this.getSubsetString())),t.length>25){for(var e,i=5381,n=0,o=t.length;o>n;n++)e=t.charCodeAt(n),i=(i<<5)+i+e;return i.toString()}return t},r.prototype.setBaseUrl=function(t){this.baseUrl=t},r.prototype.isAdobe=function(){return\"adobe\"===this.provider},r.prototype.isCustom=function(){return\"custom\"===this.provider},r.prototype.isGoogle=function(){return\"google\"===this.provider},r.prototype.isMonotype=function(){return\"monotype\"===this.provider},r.prototype.isSystem=function(){return\"system\"===this.provider},r.prototype.hasSubsetStringDefined=function(){var t=this.getSubsetString();return\"string\"==typeof t&&t.length>0},r.prototype.hasTrackingUrlDefined=function(){var t=this.getTrackingUrl();return\"string\"==typeof t&&t.length>0},r.prototype.hasUnicodeRangeDefined=function(){var t=this.getUnicodeRange();return\"string\"==typeof t&&t.length>0},r.prototype.needsLoading=function(){return this.isAdobe()||this.isCustom()||this.isGoogle()||this.isMonotype()},r.prototype.useGoogleFontsAPI=function(){return\"google\"===this.provider&&-1!==f.indexOf(this.family)},r.prototype.getCssProperties=function(){return{\"font-family\":this.needsLoading()?'\"'+this.getBrowserCompatibleFontFamily()+'\", Helvetica, sans-serif':this.getBrowserCompatibleFontFamily(),\"font-style\":this.style,\"font-weight\":this.weight}},r.prototype.getFileUrl=function(t){if(\"string\"==typeof this.baseUrl){var e,n=this.hasSubsetStringDefined();if(this.isGoogle()){var o=i(this);e=this.baseUrl+\"google/\"+o+\"/\"+a+\"_webfont.\"+t}else if(\"undefined\"!=typeof this.files&&\"undefined\"!=typeof this.files[t]){var s=this.getId();if(\"string\"!=typeof s)return this.baseUrl+this.files[t]+\".\"+t;var r,l=this.files[t].blobHash,f=this.files[t].name||\"webfont\";r=n?a+\"_\"+l:l,e=this.baseUrl+s+\"/\"+r+\"/\"+encodeURIComponent(f)+\".\"+t}return\"string\"==typeof e&&n&&(e+=\"?subset=\"+encodeURIComponent(this.getSubsetString())),e}},r.prototype.generateFontFace=function(){var t=\"\",e=[],i=this.getFileUrl(\"woff2\");i&&e.push('url(\"'+i+'\") format(\"woff2\")');var n=this.getFileUrl(\"woff\");n&&e.push('url(\"'+n+'\") format(\"woff\")');var o=this.getFileUrl(\"ttf\");return o&&e.push('url(\"'+o+'\") format(\"truetype\")'),this.style&&this.weight&&e.length>0&&(t=\"@font-face {\",t+='font-family: \"'+this.getBrowserCompatibleFontFamily()+'\";',t+=\"font-style: \"+this.style+\";\",t+=\"font-weight: \"+this.weight+\";\",t+=\"src:\"+e.join(\",\")+\";\",this.hasUnicodeRangeDefined()&&(t+=\"unicode-range: \"+this.getUnicodeRange()+\";\"),t+=\"}\"),t},r.prototype.loadStyle=function(t){t=t||function(){};var e=function(e){t(e||\"Failed to load font files.\")};if(this.isCustom()||this.isGoogle()&&!this.useGoogleFontsAPI()||this.isMonotype())o(this,t,e);else if(this.isAdobe())if(\"string\"==typeof this.projectId){var n=\"https://use.typekit.net/\"+this.projectId+\".css\";s(this,n,t,e)}else e(\"Missing Adobe web project id.\");else if(this.useGoogleFontsAPI()){var r=i(this),n=\"https://fonts.googleapis.com/css?family=\"+r;this.hasSubsetStringDefined()&&(n+=\"&text=\"+encodeURIComponent(this.getSubsetString())),s(this,n,t,e)}else this.isSystem()?t():e(\"Invalid or unsupported provider.\")},Object.defineProperty(r,\"useCSSFontLoadingAPI\",{value:l}),window.FontBase=r}();;\nvar ScreenNodeTransition={replace:function(t,e,r,s,i,a){r.style.opacity=0,r.style.display=\"block\",s.style.display=\"block\",e.style.display=\"none\",nextFrame(function(){r.style.opacity=1,t.style.opacity=0,nextFrame(function(){t.style.display=\"none\",nextFrame(a||noop)})})},fade:function(t,e,r,s,i,a){function n(){celtra.styler.css(r,\"transition\",\"\"),celtra.styler.css(t,\"transition\",\"\"),t.style.display=\"none\",nextFrame(a||noop)}r.style.opacity=0,r.style.display=\"block\",s.style.display=\"block\",e.style.display=\"none\",once(t,\"transitionend\",n),nextFrame(function(){celtra.styler.css(t,\"transition\",\"opacity \"+i.duration+\"ms ease-out\"),celtra.styler.css(r,\"transition\",\"opacity \"+i.duration+\"ms ease-out\"),nextFrame(function(){r.style.opacity=1,t.style.opacity=0})})},slide:function(t,e,r,s,i,a){var n={transition:\"all \"+i.duration+\"ms ease-out\"};switch(i.direction||\"west\"){case\"north\":n.startingFrom=\"translateY(0)\",n.endingFrom=\"translateY(\"+-i.unitSize.height+\"px)\",n.startingTo=\"translateY(\"+i.unitSize.height+\"px)\",n.endingTo=\"translateY(0)\";break;case\"south\":n.startingFrom=\"translateY(0)\",n.endingFrom=\"translateY(\"+i.unitSize.height+\"px)\",n.startingTo=\"translateY(\"+-i.unitSize.height+\"px)\",n.endingTo=\"translateY(0)\";break;case\"east\":n.startingFrom=\"translateX(0)\",n.endingFrom=\"translateX(\"+i.unitSize.width+\"px)\",n.startingTo=\"translateX(\"+-i.unitSize.width+\"px)\",n.endingTo=\"translateX(0)\";break;case\"west\":n.startingFrom=\"translateX(0)\",n.endingFrom=\"translateX(\"+-i.unitSize.width+\"px)\",n.startingTo=\"translateX(\"+i.unitSize.width+\"px)\",n.endingTo=\"translateX(0)\"}n.startingFromOpacity=1,n.startingToOpacity=0,n.endingFromOpacity=0,n.endingToOpacity=1,this._runTransition(t,e,r,s,n,i.duration,a)},flip:function(t,e,r,s,i,a){var n={transition:\"all \"+i.duration+\"ms ease-out\"},o=\"perspective(\"+2*i.unitSize.width+\"px) \";switch(i.direction||\"west\"){case\"north\":n.startingFrom=o+\"rotateX(0)\",n.endingFrom=o+\"rotateX(180deg)\",n.startingTo=o+\"rotateX(-180deg)\",n.endingTo=o+\"rotateX(0)\";break;case\"south\":n.startingFrom=o+\"rotateX(0)\",n.endingFrom=o+\"rotateX(-180deg)\",n.startingTo=o+\"rotateX(180deg)\",n.endingTo=o+\"rotateX(0)\";break;case\"east\":n.startingFrom=o+\"rotateY(0)\",n.endingFrom=o+\"rotateY(180deg)\",n.startingTo=o+\"rotateY(-180deg)\",n.endingTo=o+\"rotateY(0)\";break;case\"west\":n.startingFrom=o+\"rotateY(0)\",n.endingFrom=o+\"rotateY(-180deg)\",n.startingTo=o+\"rotateY(180deg)\",n.endingTo=o+\"rotateY(0)\"}celtra.styler.css(t.parentNode,\"transformStyle\",\"preserve-3d\"),celtra.styler.css(t,\"backfaceVisibility\",\"hidden\"),celtra.styler.css(e,\"backfaceVisibility\",\"hidden\"),celtra.styler.css(r,\"backfaceVisibility\",\"hidden\"),celtra.styler.css(s,\"backfaceVisibility\",\"hidden\"),celtra.styler.css(t,\"transformOrigin\",\"50% 50% 0\"),celtra.styler.css(e,\"transformOrigin\",\"50% 50% 0\"),celtra.styler.css(r,\"transformOrigin\",\"50% 50% 0\"),celtra.styler.css(s,\"transformOrigin\",\"50% 50% 0\"),this._runTransition(t,e,r,s,n,i.duration,function(){celtra.styler.css(t.parentNode,\"transformStyle\",\"\"),celtra.styler.css(t,\"backfaceVisibility\",\"\"),celtra.styler.css(e,\"backfaceVisibility\",\"\"),celtra.styler.css(r,\"backfaceVisibility\",\"\"),celtra.styler.css(s,\"backfaceVisibility\",\"\"),celtra.styler.css(t,\"transform\",\"\"),celtra.styler.css(e,\"transform\",\"\"),celtra.styler.css(r,\"transform\",\"\"),celtra.styler.css(s,\"transform\",\"\"),celtra.styler.css(t,\"transformOrigin\",\"\"),celtra.styler.css(e,\"transformOrigin\",\"\"),celtra.styler.css(r,\"transformOrigin\",\"\"),celtra.styler.css(s,\"transformOrigin\",\"\"),nextFrame(a||noop)})},cube:function(t,e,r,s,i,a){var n={transition:\"all \"+i.duration+\"ms ease-out\"},o=\"perspective(\"+2*i.unitSize.width+\"px) \";switch(i.direction||\"west\"){case\"north\":n.startingFrom=o+\"translateZ(\"+-i.unitSize.height/2+\"px) rotateX(0)     \",n.endingFrom=o+\"translateZ(\"+-i.unitSize.height/2+\"px) rotateX(90deg) \",n.startingTo=o+\"translateZ(\"+-i.unitSize.height/2+\"px) rotateX(-90deg)\",n.endingTo=o+\"translateZ(\"+-i.unitSize.height/2+\"px) rotateX(0)     \";break;case\"south\":n.startingFrom=o+\"translateZ(\"+-i.unitSize.height/2+\"px) rotateX(0)     \",n.endingFrom=o+\"translateZ(\"+-i.unitSize.height/2+\"px) rotateX(-90deg)\",n.startingTo=o+\"translateZ(\"+-i.unitSize.height/2+\"px) rotateX(90deg) \",n.endingTo=o+\"translateZ(\"+-i.unitSize.height/2+\"px) rotateX(0)     \";break;case\"east\":n.startingFrom=o+\"translateZ(\"+-i.unitSize.width/2+\"px) rotateY(0)     \",n.endingFrom=o+\"translateZ(\"+-i.unitSize.width/2+\"px) rotateY(90deg) \",n.startingTo=o+\"translateZ(\"+-i.unitSize.width/2+\"px) rotateY(-90deg)\",n.endingTo=o+\"translateZ(\"+-i.unitSize.width/2+\"px) rotateY(0)     \";break;case\"west\":n.startingFrom=o+\"translateZ(\"+-i.unitSize.width/2+\"px) rotateY(0)     \",n.endingFrom=o+\"translateZ(\"+-i.unitSize.width/2+\"px) rotateY(-90deg)\",n.startingTo=o+\"translateZ(\"+-i.unitSize.width/2+\"px) rotateY(90deg) \",n.endingTo=o+\"translateZ(\"+-i.unitSize.width/2+\"px) rotateY(0)     \"}var l=t.style.overflow,c=e.style.overflow,y=r.style.overflow,d=s.style.overflow;switch(celtra.styler.css(t.parentNode,\"transformStyle\",\"preserve-3d\"),t.style.overflow=e.style.overflow=\"hidden\",r.style.overflow=s.style.overflow=\"hidden\",celtra.styler.css(t,\"backfaceVisibility\",\"hidden\"),celtra.styler.css(e,\"backfaceVisibility\",\"hidden\"),celtra.styler.css(r,\"backfaceVisibility\",\"hidden\"),celtra.styler.css(s,\"backfaceVisibility\",\"hidden\"),i.direction||\"west\"){case\"north\":case\"south\":celtra.styler.css(t,\"transformOrigin\",\"50% 50% \"+-i.unitSize.height/2+\"px\"),celtra.styler.css(e,\"transformOrigin\",\"50% 50% \"+-i.unitSize.height/2+\"px\"),celtra.styler.css(r,\"transformOrigin\",\"50% 50% \"+-i.unitSize.height/2+\"px\"),celtra.styler.css(s,\"transformOrigin\",\"50% 50% \"+-i.unitSize.height/2+\"px\");break;case\"east\":case\"west\":celtra.styler.css(t,\"transformOrigin\",\"50% 50% \"+-i.unitSize.width/2+\"px\"),celtra.styler.css(e,\"transformOrigin\",\"50% 50% \"+-i.unitSize.width/2+\"px\"),celtra.styler.css(r,\"transformOrigin\",\"50% 50% \"+-i.unitSize.width/2+\"px\"),celtra.styler.css(s,\"transformOrigin\",\"50% 50% \"+-i.unitSize.width/2+\"px\")}this._runTransition(t,e,r,s,n,i.duration,function(){celtra.styler.css(t.parentNode,\"transformStyle\",\"\"),t.style.overflow=l,e.style.overflow=c,r.style.overflow=y,s.style.overflow=d,celtra.styler.css(t,\"transformOrigin\",\"\"),celtra.styler.css(e,\"transformOrigin\",\"\"),celtra.styler.css(r,\"transformOrigin\",\"\"),celtra.styler.css(s,\"transformOrigin\",\"\"),celtra.styler.css(t,\"backfaceVisibility\",\"\"),celtra.styler.css(e,\"backfaceVisibility\",\"\"),celtra.styler.css(r,\"backfaceVisibility\",\"\"),celtra.styler.css(s,\"backfaceVisibility\",\"\"),nextFrame(a||noop)})},_runTransition:function(t,e,r,s,i,a,n){function o(){l||(l=!0,celtra.styler.css(r,\"transition\",\"\"),celtra.styler.css(s,\"transition\",\"\"),celtra.styler.css(t,\"transition\",\"\"),celtra.styler.css(e,\"transition\",\"\"),celtra.styler.css(r,\"transform\",\"\"),celtra.styler.css(s,\"transform\",\"\"),celtra.styler.css(t,\"transform\",\"\"),celtra.styler.css(e,\"transform\",\"\"),t.style.display=e.style.display=\"none\",t.style.opacity=e.style.opacity=r.style.opacity=s.style.opacity=\"\",nextFrame(n||noop))}celtra.styler.css(t,\"transform\",i.startingFrom),celtra.styler.css(e,\"transform\",i.startingFrom),celtra.styler.css(r,\"transform\",i.startingTo),celtra.styler.css(s,\"transform\",i.startingTo),t.style.opacity=e.style.opacity=\"undefined\"==typeof i.startingFromOpacity?1:i.startingFromOpacity,r.style.opacity=s.style.opacity=\"undefined\"==typeof i.startingToOpacity?1:i.startingToOpacity,r.style.display=s.style.display=\"block\";var l=!1,c=this._runOnce(o);once(r,\"transitionend\",c),setTimeout(function(){celtra.styler.css(r,\"transition\",i.transition),celtra.styler.css(t,\"transition\",i.transition),celtra.styler.css(s,\"transition\",i.transition),celtra.styler.css(e,\"transition\",i.transition),nextFrame(function(){l||(celtra.styler.css(t,\"transform\",i.endingFrom),celtra.styler.css(e,\"transform\",i.endingFrom),celtra.styler.css(r,\"transform\",i.endingTo),celtra.styler.css(s,\"transform\",i.endingTo),t.style.opacity=e.style.opacity=\"undefined\"==typeof i.endingFromOpacity?1:i.endingFromOpacity,r.style.opacity=s.style.opacity=\"undefined\"==typeof i.endingToOpacity?1:i.endingToOpacity)}),setTimeout(c,a+150)},20)},run:function(t,e,r,s,i){var a=this._getSupportedAnimation(i.animation||\"replace\");if(!(a in this))throw new Error(\"The transition function does not exist!\");this[a].apply(this,arguments)},_getSupportedAnimation:function(t){return!android(\"4\")||window.navigator.userAgent.match(/Chrome.*(Mobile)? Safari/)||\"cube\"!==t&&\"flip\"!==t?t:\"fade\"},_runOnce:function(t){var e=!1;return function(){return e?void 0:(e=!0,t())}}};;\nvar ScreenTransitioner={goingToScreen:null,_masterShown:!1,goToScreen:function(e,n,t){var i=Array.prototype.slice.apply(arguments);if(!this.isAppearing)return void this.once(\"appeared\",function(){this.goToScreen.apply(this,i)}.bind(this));var r=function(){this._preloadReachableScreens(),t&&t()}.bind(this);if(!e)return r();if(!e.loaded)return void e.getNode(function(){this.goToScreen.apply(this,i)}.bind(this));var s=this.currentScreen;return n=n||{},this.goingToScreen?r():(this.goingToScreen=e,void e.triggerBeforeAppear(function(){this.initiateScreenTransition(e,n,function(){this.goingToScreen=null,this.currentScreen=e,s&&(s.disappear(),s.exitRenderTree()),this._masterShown||(this._masterShown=!0,this.master.enterRenderTree(),this.master.appear()),this.currentScreen.enterRenderTree(),this.currentScreen.appear(),r()}.bind(this))}.bind(this)))},initiateScreenTransition:function(e,n,t){if(n=n||{},t=t||noop,this.visibleScreen==e)return t();this.visibleScreen=e;var i=e===this.loadingScreen;if(i&&e.loaded)this._screenTransition(e.getNode(),null,n,t);else if(e.loaded&&this.master.loaded)this.loadingScreen&&(this.loadingScreen.getNode().style.display=\"none\"),this._screenTransition(e.getNode(),this.master.getNode(),n,t);else{Logger(\"unit\").warn(\"Screens should be loaded but were not\");var r,s,o,a=function(){r--,r||this._screenTransition(s,o,n,t)};i?(s=this.loadingScreen.getNode(a.bind(this)),o=null,r=1):(s=e.getNode(a.bind(this)),o=this.master.getNode(a.bind(this)),r=2)}},_screenTransition:function(e,n,t,i){function r(){s||(s=!0,i())}if(e.style.display=\"none\",n&&(this._masterClone||this._createMasterClone(),this.screenHolder.appendChild(this._masterClone),n.parentNode||this.screenHolder.appendChild(n),this._masterClone.style.zIndex=n.style.zIndex=-1),e&&!e.parentNode&&this.screenHolder.appendChild(e),n&&(this._masterClone.style.display=\"block\",n.style.display=\"none\"),null!=this.currentScreen)t.unitSize=extend({},this.size),ScreenNodeTransition.run(this.currentScreen.node,this._masterClone,e,n,t,function(){n.style.display=\"block\",this._masterClone.display=\"none\",i()}.bind(this));else{n&&(n.style.display=\"block\",this._masterClone.style.display=\"none\"),e.style.display=\"block\";var s=!1;nextFrame(r),defer(r)}},_preloadReachableScreens:function(){setTimeout(function(){var e=[];Object.keys(this.currentScreen.dynamicReachableScreenConditions).forEach(function(n){var t=n.split(\"/\"),i=creative.experiments.get(t[0],t.slice(1));null!=i&&Object.keys(this.currentScreen.dynamicReachableScreenConditions[n]).forEach(function(t){t!=i.chosenVariant&&(e=e.concat(this.currentScreen.dynamicReachableScreenConditions[n][t]))}.bind(this))}.bind(this)),this.currentScreen.reachableScreens.concat(this.master.reachableScreens).forEach(function(n){var t=-1==e.indexOf(n.localId.toString());t&&n.getNode()}.bind(this))}.bind(this),0)},_createMasterClone:function(){return this._masterClone&&this._masterClone.parentNode&&this._masterClone.parentNode.removeChild(this._masterClone),this._masterClone=this.master.getNode().cloneNode(!0),this._masterClone.style.display=\"none\",this._masterClone.style.zIndex=-1,this._masterClone}};;\nfunction AdViewableTimeObserver(e){this._tracker=e,this._readyToShow=!1,this._adapter}function AdViewableInViewObjectObserver(){AdViewableInViewObjectObserver.uberConstructor.apply(this,arguments),this._inViewObjects=[],this._viewableInViewObjects=[]}function AdViewableUnitObserver(){AdViewableUnitObserver.uberConstructor.apply(this,arguments),this._units=[],this._viewableUnits=[],this._containerIsViewable=!1}AdViewableTimeObserver.prototype.readyToShow=function(){throw new Error(\"AdViewableInViewObjectObserver.readyToShow not implemented!\")},AdViewableTimeObserver.prototype.registerUnit=function(){throw new Error(\"AdViewableInViewObjectObserver.registerUnit not implemented!\")},AdViewableTimeObserver.prototype.registerAdapter=function(){throw new Error(\"AdViewableTimeObserver.registerAdapter not implemented!\")},AdViewableTimeObserver.prototype.stop=function(){this._tracker.stop()},inherit(AdViewableInViewObjectObserver,AdViewableTimeObserver),AdViewableInViewObjectObserver.prototype.registerAdapter=function(e){this._adapter=e;var t=this._tracker;e.mediaState.on(\"videoStarted\",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on(\"videoStopped\",function(){0===this._viewableInViewObjects.length&&t.stop()}.bind(this))},AdViewableInViewObjectObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableInViewObjectObserver.prototype.registerUnit=function(e){var t=e.inView,i=this._inViewObjects,r=this._viewableInViewObjects,a=this._tracker;if(-1===i.indexOf(t)){i.push(t);var n=-1!==r.indexOf(t);!n&&t.getAreaInViewRatio()>0&&r.push(t),this._tryStartTracker(),t.on(\"areaInViewRatioChanged\",function(e){var i=r.indexOf(t),n=-1!==i;!n&&e>0?(r.push(t),this._tryStartTracker()):0===e&&n&&(r.splice(i,1),0===r.length&&a.stop())}.bind(this))}},AdViewableInViewObjectObserver.prototype._tryStartTracker=function(){var e=this._adapter,t=e&&e.mediaState.playingVideo;return this._readyToShow&&(this._viewableInViewObjects.length>0||t)?(this._tracker.start(),!0):!1},inherit(AdViewableUnitObserver,AdViewableTimeObserver),AdViewableUnitObserver.prototype.registerAdapter=function(e){this._adapter=e,this._containerIsViewable=e.containerIsViewable;var t=this._tracker;e.on(\"containerViewableChange\",function(e){this._containerIsViewable=e,e?this._tryStartTracker():t.stop()}.bind(this)),e.mediaState.on(\"videoStarted\",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on(\"videoStopped\",function(){this._adapter.containerIsViewable&&0!==this._viewableUnits.length||t.stop()}.bind(this))},AdViewableUnitObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableUnitObserver.prototype.registerUnit=function(e){if(!this._adapter)throw new Error(\"adapter was not registered yet!\");var t=this._units,i=this._viewableUnits,r=this._tracker;-1===t.indexOf(e)&&(t.push(e),-1===i.indexOf(e)&&e._visible&&(i.push(e),this._tryStartTracker()),e.on(\"appeared\",function(){-1===i.indexOf(e)&&(i.push(e),this._tryStartTracker())}.bind(this)),e.on(\"disappeared\",function(){var t=i.indexOf(e);-1!==t&&(i.splice(t,1),0===i.length&&r.stop())}.bind(this)))},AdViewableUnitObserver.prototype._tryStartTracker=function(){var e=this._adapter;return e&&(e.containerIsViewable||e.mediaState.playingVideo)&&this._readyToShow&&this._viewableUnits.length>0?(this._tracker.start(),!0):!1};;\nfunction AdViewableTimeTracker(i,e,t,n){this._trackingCenter=i,this._raf=e,this._win=t,this._intervals=n||{3e3:1e3,1e4:2e3,63e3:3e3},this._isRunning=!1,this._viewableMilliseconds=0,this._fromTime=0,this._pendingPingTimeoutId,this._pendingPingRafId,this._maxRafLatency=500}AdViewableTimeTracker.eventName=\"viewableTime\",AdViewableTimeTracker.TrackingData=function(i,e){return i>e&&(e=i),{name:AdViewableTimeTracker.eventName,from:i/1e3,to:e/1e3}},AdViewableTimeTracker.prototype.start=function(){this._isRunning||(this._isRunning=!0,this._fromTime=Date.now(),0===this._viewableMilliseconds?this._initPing():this._setNextPing())},AdViewableTimeTracker.prototype.stop=function(){if(this._clearPendingPing(),this._isRunning&&-1!==this._getPingInterval()){var i=Date.now(),e=i-this._fromTime;this._viewableMilliseconds+=e;var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t)}this._isRunning=!1},AdViewableTimeTracker.prototype._initPing=function(){var i=this._fromTime,e=this._getPingInterval(),t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._pendingPingRafId=this._raf.nextFrame(function(){this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))},AdViewableTimeTracker.prototype._setNextPing=function(){function i(){if(this._isRunning){var i=Date.now();this._viewableMilliseconds+=e,this._normalizeFromTime(i,e),this._pendingPingRafId=this._raf.nextFrame(function(){var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))}}this._clearPendingPing();var e=this._getPingInterval();this._isRunning&&-1!==e&&(this._pendingPingTimeoutId=this._win.setTimeout(i.bind(this),e))},AdViewableTimeTracker.prototype._normalizeFromTime=function(i,e){var t=i-this._fromTime,n=e+this._maxRafLatency;t>n&&(this._fromTime=i)},AdViewableTimeTracker.prototype._setFromTimeForNextPing=function(i,e){var t=Date.now(),n=t-i,r=n>e;this._fromTime=r?t:i},AdViewableTimeTracker.prototype._getPingInterval=function(){var i=this._viewableMilliseconds,e=this._intervals,t=Object.keys(this._intervals),n=1*t[t.length-1],r=-1;return t.some(function(t){return 1*t>i?(r=e[t],i+r>n&&(r=-1),!0):!1}),r},AdViewableTimeTracker.prototype._clearPendingPing=function(){this._raf.cancelFrame(this._pendingPingRafId),this._win.clearTimeout(this._pendingPingTimeoutId)},AdViewableTimeTracker.prototype._track=function(i){this._trackingCenter.track(i)};;\n!function(t){function i(){this.playingVideo=!1}var e=i.prototype;extend(e,EventEmitter),e.stopVideo=function(){this.playingVideo=!1,this.emit(\"videoStopped\")},e.startVideo=function(){this.playingVideo=!0,this.emit(\"videoStarted\")},t.MediaState=i}(window);;\nfunction StateObject(t){Object.defineProperties(this,{values:{enumerable:!1,configurable:!1,writable:!0,value:{}},_isDirty:{enumerable:!1,configurable:!1,writable:!0,value:!1}}),Object.keys(t).forEach(function(e){this.registerValue(e,t[e])},this)}extend(StateObject.prototype,EventEmitter),StateObject.prototype.registerValue=function(t,e){this.values[t]={dirty:!1,value:e},Object.defineProperty(this,t,{get:function(){return this.values[t].value},set:function(e){var i=this.values[t],r=i.value;e!=r&&(i.dirty=!0,i.value=e,this._isDirty=!0,this.emit(\"change:\"+t,e,r))},enumerable:!0})},StateObject.prototype.markClean=function(t){var e=!1;Object.keys(this.values).forEach(function(i){t&&i!==t||(this[i].dirty=!1),e=e||this[i].dirty},this.values),this._isDirty=e},StateObject.prototype.getDirtyValues=function(){for(var t={},e=Object.keys(this.values),i=0;i<e.length;i++)this.values[e[i]].dirty&&(t[e[i]]=this.values[e[i]].value);return t},StateObject.prototype.isDirty=function(t){return\"undefined\"==typeof t?this._isDirty:this.values[t].dirty},StateObject.prototype.anyDirty=function(t){arguments.length>1&&(t=Array.prototype.slice.apply(arguments));for(var e=0;e<t.length;e++)if(this.values[t[e]].dirty)return!0;return!1},StateObject.prototype.copy=function(){var t={};for(var e in this.values)t[e]=this[e];return new StateObject(t)},StateObject.prototype.copyFrom=function(t){for(var e in t.values)this[e]=t[e]};;\nfunction StateAnimation(t,i){this.stateObject=t,this.propertyName=i,this.running=!1,this.lastUpdateTime=null,this.tick=this.tick.bind(this),this._callback=null}function SpringyAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},SpringyAnimation.defaults,e||{}),this.state={x:t[i],v:0},this.derivative={dx:0,dv:0}}function EasingAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},EasingAnimation.defaults,e||{}),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null}StateAnimation.prototype.start=function(){this.running||(this.lastUpdateTime=null,this.running=!0,Ticker.frame(this.tick,\"update\"))},StateAnimation.prototype.pause=function(){Ticker.removeFrame(this.tick,\"update\"),this.running=!1},StateAnimation.prototype.tick=function(){var t=Date.now();this.update(t-(this.lastUpdateTime||t)),this.lastUpdateTime=t},StateAnimation.prototype.update=function(){throw new Error(\"Not implemented\")},Object.defineProperty(StateAnimation.prototype,\"value\",{get:function(){return this.stateObject[this.propertyName]},set:function(t){this.stateObject[this.propertyName]=t},enumerable:!0}),inherit(SpringyAnimation,StateAnimation),SpringyAnimation.defaults={springForce:1e3,damping:20,restThreshold:1},SpringyAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),\"function\"==typeof i&&(e=i,i=0),this.d=t,this.state.v=\"number\"==typeof i?i:0,this.state.x=this.value,this._callback=e,this.start()},SpringyAnimation.prototype.update=function(t){var i=Math.min(.03,t/1e3),e=Math.abs(this.state.x-this.d);e<this.options.restThreshold&&Math.abs(this.state.v)<this.options.restThreshold?(this.pause(),this.value=this.d,this.d=null,defer(this._callback||noop),this._callback=null):(this._integrate(this.state,i),this.value=this.state.x)},SpringyAnimation.prototype._integrate=function(t,i){var e=this._getDerivative(this.state),a=this._getDerivative(this.state,.5*i,e),n=this._getDerivative(this.state,.5*i,a),s=this._getDerivative(this.state,i,n);t.x+=i/6*(e.dx+2*(a.dx+n.dx)+s.dx),t.v+=i/6*(e.dv+2*(a.dv+n.dv)+s.dv)},SpringyAnimation.prototype._getDerivative=function(t,i,e){if(\"undefined\"==typeof e)return{dx:t.v,dv:this._acceleration(t)};var a={x:t.x+e.dx*i,v:t.v+e.dv*i};return{dx:a.v,dv:this._acceleration(a,i)}},SpringyAnimation.prototype._acceleration=function(t){return-this.options.springForce*(t.x-this.d)-this.options.damping*t.v},inherit(EasingAnimation,StateAnimation),EasingAnimation.defaults={exp:1.8},EasingAnimation.presets={easeIn:.6,easeOut:1.8,linear:1},EasingAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),this._callback=e,this._startValue=this.value,this._startTime=Date.now(),this._targetValue=t,this._targetTime=i,this.start()},EasingAnimation.prototype.update=function(){var t=Date.now()-this._startTime,i=this._targetValue-this._startValue;t>=this._targetTime?(this.pause(),this.value=this._targetValue,defer(this._callback||noop),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null,this._callback=null):this.value=Math.pow(t/this._targetTime,this.options.exp)*i+this._startValue};;\nfunction ThresholdObserver(e){this.threshold=e,this._value=null}extend(ThresholdObserver.prototype,EventEmitter),Object.defineProperty(ThresholdObserver.prototype,\"value\",{get:function(){return this._value},set:function(e){if(null!==this._value&&this._value!==e){var t=this._value-this.threshold,h=e-this.threshold;0>=t*h&&(0>t?this.emit(\"up\"):0>h&&this.emit(\"down\"))}this._value=e}});;\nfunction BaseCreativeUnit(){}inherit(BaseCreativeUnit,View),BaseCreativeUnit.IGNORABLES=[\"INPUT\",\"SELECT\",\"TEXTAREA\",\"BUTTON\"],BaseCreativeUnit.prototype.awake=function(){BaseCreativeUnit.uber.awake.call(this),this._availableSize={width:0,height:0},this._isRendering=!1,this._engagementTracker=null,this._rxState=null,this._rxStateCopies=[]},BaseCreativeUnit.prototype.createNode=function(){return Logger(\"unit\").log(\"Starting to load \"+this),this.on(\"loaded\",creative.adapter.perf.start(\"CreativeUnit.load\").end),creative.experiments.get(\"TrackingLoadingTimes\")&&this.once(\"_firstScreenLoaded\",function(){var e=Date.now()-1e3*creative.runtimeParams.payloadJsClientTimestamp;if(3e4>e){var t={unitName:this.name};creative.aggregatorTracking.trackAggregator(\"unitLoadTime\",e,t),creative.aggregatorTracking.trackAggregator(\"unitLoadSuccesses\",t)}}.bind(this)),creative.adapter.on(\"mediaStopRequested\",function(e){this.emit(\"mediaStopRequested\",e)}.bind(this)),this.unitDiv=BaseCreativeUnit.uber.createNode.call(this),this._engagementTracker=new EngagementTracker(this.unitDiv,creative),Tapper(this.unitDiv,this.useClickForTap),attach(this.unitDiv,\"touchstart\",this._handleTouchStart.bind(this)),attach(this.unitDiv,\"touchmove\",this._handleTouchMove.bind(this)),this.unitDiv},BaseCreativeUnit.prototype.setAvailableSize=function(e,t){var r=this._availableSize.width!=e||this._availableSize.height!=t;return this._availableSize.width=e,this._availableSize.height=t,r},BaseCreativeUnit.prototype.getAvailableSize=function(){return{width:this._availableSize.width,height:this._availableSize.height}},BaseCreativeUnit.prototype.enterRenderTree=function(){throw new Error(\"Not implemented\")},BaseCreativeUnit.prototype.exitRenderTree=function(){throw new Error(\"Not implemented\")},BaseCreativeUnit.prototype.finishedLoading=function(){BaseCreativeUnit.uber.finishedLoading.call(this),Logger(\"unit\").log(\"Finished loading \"+this)},BaseCreativeUnit.prototype._handleTouchStart=function(e){if(!this.swipeable&&!creative.adapter.useNativeClickForTapDetection){for(var t=e.target;1!=t.nodeType;)t=t.parentNode;var r=function(){for(;t!==this.unitDiv;){if(t.className&&hasClass(t,\"map-container\"))return!0;t=t.parentNode}return!1}.bind(this);-1!=BaseCreativeUnit.IGNORABLES.indexOf(t.nodeName)||r()||e.preventDefault()}},BaseCreativeUnit.prototype._handleTouchMove=function(e){this.swipeable||e.preventDefault()},BaseCreativeUnit.prototype.createRxState=function(){this._rxState=this._generateNewRxStateObject()},BaseCreativeUnit.prototype._generateNewRxStateObject=function(){return new StateObject({left:null,top:null,right:null,bottom:null,width:null,height:null,vw:null,vh:null,x:null,y:null,pageYOffset:null})},BaseCreativeUnit.prototype.updateRxState=function(e){if(this._rxState){var t=e.getBoundingClientRect(),r=e.ownerDocument.defaultView;this._rxState.left=~~t.left,this._rxState.top=~~t.top,this._rxState.right=~~t.right,this._rxState.bottom=~~t.bottom,this._rxState.width=~~t.width,this._rxState.height=~~t.height,this._rxState.vw=r.innerWidth,this._rxState.vh=r.innerHeight,this._rxState.pageYOffset=r.pageYOffset,this._rxState.x=~~(t.left+t.width/2-r.innerWidth/2),this._rxState.y=~~(t.top+t.height/2-r.innerHeight/2),this._rxStateCopies.forEach(function(e){e.copyFrom(this._rxState)}.bind(this))}},BaseCreativeUnit.prototype.getRxStateObject=function(){if(this._rxState){var e=this._generateNewRxStateObject();return e.copyFrom(this._rxState),this._rxStateCopies.push(e),e}},BaseCreativeUnit.prototype.goToScreenAction=function(){throw new Error(\"Not implemented\")},BaseCreativeUnit.prototype.alertAction=function(e,t,r){this.alert({message:t.text},r)},BaseCreativeUnit.prototype.checkOrientationAction=function(e,t,r){var a,i=creative.adapter.orientation;0===i||180===i?a=t.onPortrait:(-90==i||90==i)&&(a=t.onLandscape),a?a(e,r):r()},BaseCreativeUnit.prototype.checkOrientationActionDryRun=BaseCreativeUnit.prototype.checkOrientationAction,BaseCreativeUnit.prototype._processURLParams=function(e){return\"string\"!=typeof e?e:creative.macros(e)},BaseCreativeUnit.prototype._addUrlAppendage=function(e){if(creative.urlOpenedUrlAppendage){var t=this.size.width+\"x\"+this.size.height,r=function(e){return e.indexOf(\"?\")>=0};return e+(r(e)?\"&\":\"?\")+creative.urlOpenedUrlAppendage.replace(new RegExp(\"{celtraFirstUnitSize}\",\"ig\"),t)}return e},BaseCreativeUnit.prototype.openBrowser=function(e,t,r,a){return t?void creative.adapter.trackEventsAndOpenBrowser(this._processURLParams(t),creative.shouldClickThroughToNewWindow(e),r,a):(r||noop)()},BaseCreativeUnit.prototype.openClickThroughDestinationAction=function(e,t,r){var a=creative.clickThroughDestinationUrl,i=creative.shouldClickThroughToNewWindow(e),n=!1,o=2e3,s=\"clickThroughDestinationOpened\",c=function(){n||(n=!0,creative.adapter.openPotentialUniversalOrAppLink(this._processURLParams(a),i))}.bind(this);if(a&&-1==[\"http://\",\"https://\"].indexOf(a)){var l=function(e){return e.indexOf(\"itunes.apple.com/us/app/\")>0},p=function(e){return 0===e.indexOf(\"market://details?id=\")};creative.adapter._stopAllMedia(),l(a)||p(a)?(e.track({name:s,appUri:a}),e.trackClickThrough(),creative.adapter.trackingCenter.flush(),creative.adapter.getApp(this._processURLParams(a))):(a=this._addUrlAppendage(a),e.track({name:s,url:a}),e.trackClickThrough(),!creative.adapter.canOpenUrlInSameWindow||i?(creative.adapter.trackingCenter.flush(),c()):(creative.adapter.trackingCenter.flush(c),defer(c,o)))}else e.track({name:\"userError\",userErrorId:\"exitUriIsEmpty\"});e.screen&&creative.adapter.sendToEventMonitor(s,t.triggerId,e.screen.name,a||\"\"),r()},BaseCreativeUnit.prototype.goToURLAction=function(e,t,r){var a=creative.urlOpenedOverrideUrls&&creative.urlOpenedOverrideUrls[t.reportLabel]||t.url,i=creative.shouldClickThroughToNewWindow(e),n=!1,o=2e3,s=function(){n||(n=!0,creative.adapter.openBrowser(this._processURLParams(a),i))}.bind(this),c=(creative.experiments.get(\"OpenBrowserRefactor\")||{}).chosenVariant,l=(creative.experiments.get(\"WindowOpenWithDelay\")||{}).chosenVariant,p=function(e,t,r){c&&creative.aggregatorTracking.trackAggregator(\"openBrowserRefactor\",1,{branch:e,logic:t,environment:r})};if(!a||[\"http://\",\"https://\"].indexOf(a)>-1)return e.track({name:\"userError\",userErrorId:\"exitUriIsEmpty\"}),r();a=this._addUrlAppendage(a);var d=\"urlOpened\";if(creative.adapter._stopAllMedia(),e.track({name:d,url:a,label:t.reportLabel}),e.trackClickThrough(),deviceInfo.browser.ie()||deviceInfo.browser.edge())!creative.adapter.canOpenUrlInSameWindow||i?(p(\"new-window\",\"flush-and-open\",\"desktop-windows\"),creative.adapter.trackingCenter.flush(),s()):(p(\"same-window\",\"flush-then-open\",\"desktop-windows\"),creative.adapter.trackingCenter.flush(s),defer(s,o));else if(\"on\"==c)!creative.adapter.canOpenUrlInSameWindow||i?(p(\"new-window\",\"flush-and-open\",\"all-except-desktop-windows\"),creative.adapter.trackingCenter.flush(),s()):(p(\"same-window\",\"flush-then-open\",\"all-except-desktop-windows\"),creative.adapter.trackingCenter.flush(s),defer(s,o));else if(!creative.adapter.canOpenUrlInSameWindow||i){p(\"new-window\",\"wrap+open\",\"all-except-desktop-windows\"),l&&creative.aggregatorTracking.trackAggregator(\"windowOpenWithDelay\",1,{delay:l}),c&&creative.aggregatorTracking.trackAggregator(\"openBrowserRefactorFlushVsWrap\",1,{trackingWith:\"wrap\"});var u=creative.wrapRedirectPageUrl(this._processURLParams(a));c&&(creative.aggregatorTracking.trackAggregator(\"openBrowserRefactorFlushVsWrap\",1,{trackingWith:\"flush\"}),creative.adapter.trackingCenter.flush()),\"undefined\"==typeof l||\"control\"===l?creative.adapter.openBrowser(u,i):setTimeout(function(){creative.adapter.openBrowser(u,i)},0)}else p(\"same-window\",\"wrap+open\",\"all-except-desktop-windows\"),creative.adapter.openBrowser(creative.wrapRedirectPageUrl(this._processURLParams(a)),i);creative.adapter.sendToEventMonitor(d,t.triggerId,e.screen.name,a,t.reportLabel),r()},BaseCreativeUnit.prototype.facebookURLAction=function(e,t,r){if(!t.url)return r();creative.adapter._stopAllMedia(),e.track({name:\"facebookShareAttempt\",url:t.url,label:t.reportLabel}),e.trackClickThrough();var a=\"http://m.facebook.com/sharer.php?u=\"+encodeURIComponent(t.url);creative.adapter.openBrowser(creative.wrapRedirectPageUrl(a),creative.shouldClickThroughToNewWindow(e)),r()},BaseCreativeUnit.prototype.callURLAction=function(e,t,r){if(!t.url)return r();var a=this._processURLParams(t.url),i=new Image;i.onload=i.onerror=function(){r()},i.src=a},BaseCreativeUnit.prototype.displayImageAction=function(e,t,r){if(!t.file)return r();var a=function(e,a){var i=document.createElement(\"div\");i.className=\"celtra-display-image-overlay touchable\",i.style.backgroundImage='url(\"'+t.file.getUrl()+'\")',this.unitDiv.appendChild(i),(e>this.size.width||a>this.size.height)&&(i.style.backgroundSize=\"contain\"),t.color&&(i.style.backgroundColor=t.color),attach(i,\"tap\",function(){i.parentNode.removeChild(i),r()},!1);var n=document.createElement(\"div\");n.className=\"celtra-back-button touchable \"+this.alignBackButtonHorizontal,i.appendChild(n)}.bind(this);if(t.file.meta)a(t.file.meta.width,t.file.meta.height);else{var i=new Image;i.onload=function(){a(this.width,this.height)},i.onerror=function(){return console.error(\"Couldn't display image: \"+t.file.getUrl()),r()},i.src=t.file.getUrl()}},BaseCreativeUnit.prototype.saveImageAction=function(e,t,r){function a(a,n){var o=a.getOriginalUrl(),c=a.name,l=a.blobHash;if(i(l),creative.adapter.canSaveImage())creative.adapter.trackingCenter.flush(function(){var a=\"shared.png\";\"undefined\"!=typeof c?a=c:\"string\"==typeof n&&n.trim().length>0&&(a=n.trim()+\".png\"),creative.adapter.saveImage(o,encodeURIComponent(a),r);var i=n||c;creative.adapter.sendToEventMonitor(s,t.triggerId,e.screen.name,i,t.reportLabel)});else{var p=new SaveImageDialog(creative.adapter,creative.resourceUrl,o);p.show(r)}}function i(r){e.track({name:s,blobHash:r,label:t.reportLabel}),e.trackClickThrough()}function n(){creative.adapter.createPlacements({preloader:{attachment:\"body\",positioning:\"screen\",type:\"layer\"}},function(){var e=creative.adapter.placements.preloader;e.setZIndex(\"max\"),e.setSize(\"100%\",\"100%\"),e.setPosition(0,0);var t=e.createElement(\"link\");t.rel=\"stylesheet\",t.type=\"text/css\",t.href=creative.resourceUrl+\"runner/clazzes/PostBlobPreloader.css\",e.getContainer().appendChild(t);var r=e.createElement(\"div\");addClass(r,\"celtra-preloader-container\");var a=e.createElement(\"div\");addClass(a,\"celtra-preloader-image\"),a.style.backgroundImage=\"url(\"+creative.resourceUrl+\"runner/clazzes/CreativeUnit/preloader.png)\",r.appendChild(a),e.populate(r,function(){e.show()})})}function o(){creative.adapter.destroyPlacement(\"preloader\")}var s=\"imageSaveAttempted\";if(t.imageOrigin=t.imageOrigin?t.imageOrigin:\"asset\",\"component\"==t.imageOrigin&&t.component)if(t.component.file)a(t.component.file,t.component.name);else{var c=t.component.getField();if(null===c)return void r();if(-1===creative.runtimeParams.enabledServices.indexOf(\"contentSharing\"))return void this.alertAction(e,{text:\"This feature is not available in your region\"},r);var l=c.url,p=l.split(\",\")[1];n(),postBlob(p,function(e,i){if(o(),i>=200&&300>i){var n=JSON.parse(e),s=creative.cachedApiUrl+\"blobs/\"+n.hash+\"/shared.png\",c=new File(s);a(c,t.component.name)}else r()})}else\"asset\"==t.imageOrigin&&t.file?a(t.file):r()},BaseCreativeUnit.prototype.playSoundAction=function(e,t,r){if(!t.file)return r();var a=new Audio(t.file.getUrl());attach(a,\"ended\",function(){r()},!1),a.play()},BaseCreativeUnit.prototype.playVideoInPlayerAction=function(e,t,r){if(!t.file)return r();var a=creative.adapter.useFSVP,i=t.file.url?\"URL\":\"File\",n=new VideoContext(e,t.file,t.reportLabel);n.track({engineType:\"html5\",name:\"videoPlayAttempted\",trackable:a,filename:t.file.name,userInitiated:e.consideredUserInitiatedByBrowser,startMuted:!1,videoPlayerMode:\"fullscreen\",videoPreset:null,sourceType:i,source:\"URL\"==i?t.file.url:t.file.blobHash,label:t.reportLabel}),creative.adapter.playVideoInPlayer(n,t,function(a){var i=(a?t.onSuccess:t.onFailure)||nullai;i(e,r)})},BaseCreativeUnit.prototype.playVideoInPlayerActionDryRun=function(e,t,r){return t.file?((t.onSuccess||nullai)(e,noop),(t.onFailure||nullai)(e,noop),void r()):r()},BaseCreativeUnit.prototype.playVideoFromURLAction=function(e,t,r){if(!t.url)return r();var a=t.file=new File(t.url),i=creative.adapter.useFSVP,n=a.url?\"URL\":\"File\";creative.adapter._stopAllMedia();var o=new VideoContext(e,a,t.reportLabel);o.track({engineType:\"html5\",name:\"videoPlayAttempted\",trackable:i,filename:null,userInitiated:e.consideredUserInitiatedByBrowser,startMuted:!1,videoPlayerMode:\"fullscreen\",videoPreset:null,sourceType:n,source:\"URL\"==n?a.url:a.blobHash,label:t.reportLabel}),creative.adapter.playVideoInPlayer(o,t,function(a){var i=(a?t.onSuccess:t.onFailure)||nullai;i(e,r)})},BaseCreativeUnit.prototype.playVideoFromURLActionDryRun=function(e,t,r){return t.url?((t.onSuccess||nullai)(e,noop),(t.onFailure||nullai)(e,noop),void r()):r()},BaseCreativeUnit.prototype.vibrateAction=function(e,t,r){r()},BaseCreativeUnit.prototype.getAppAction=function(e,t,r){var a=(creative.runtimeParams.overrides||creative.runtimeParams).deviceInfo,i=function(e){return new RegExp(\"(^http(s)?://)|(^market://)\",\"i\").test(e)},n=function(){return new RegExp(\"^\\\\d+$\").test(t.appStoreUrl)?\"https://itunes.apple.com/app/id\"+t.appStoreUrl:(i(t.appStoreUrl)?\"\":\"http://\")+t.appStoreUrl},o=function(){return i(t.androidMarketAppId)?t.androidMarketAppId:android()||\"Android\"===a.osName?\"market://details?id=\"+t.androidMarketAppId:\"https://play.google.com/store/apps/details?id=\"+t.androidMarketAppId};creative.adapter._stopAllMedia();var s;if(creative.storeOpenedOverrideUrls[t.reportLabel]?s=creative.storeOpenedOverrideUrls[t.reportLabel]:t.appStoreUrl&&(ios()||-1!==[\"OSX\",\"IOS\"].indexOf(a.osName))?s=n():t.androidMarketAppId&&(s=o()),s&&-1==[\"http://\",\"https://\"].indexOf(s)){var c=!ios(\"9\",null),l=\"storeOpened\",p=2,d=function(){creative.adapter.getApp(this._processURLParams(s))}.bind(this),u=function(){if(!--p&&c){d();var r={};t.appStoreUrl&&(r.appStoreUrl=n()),t.androidMarketAppId&&(r.androidMarketAppId=o()),creative.adapter.sendToEventMonitor(l,t.triggerId,e.screen.name,r,t.reportLabel)}}.bind(this);e.track({name:l,appUri:s,label:t.reportLabel},u),e.trackClickThrough(u),c||setTimeout(d,0)}else e.track({name:\"userError\",userErrorId:\"exitUriIsEmpty\"});r()},BaseCreativeUnit.prototype.callPhoneAction=function(e,t,r){if(!t.number)return r();creative.adapter._stopAllMedia();var a=\"phoneCalled\",i=deviceInfo.os.ios()&&deviceInfo.browser.safari(),n=function(){creative.adapter.callPhone(t.number),creative.adapter.sendToEventMonitor(a,t.triggerId,e.screen.name,t.number,t.reportLabel)};e.track({name:a,number:t.number,label:t.reportLabel}),e.trackClickThrough(),i?(creative.adapter.trackingCenter.flush(),defer(n)):creative.adapter.trackingCenter.flush(n),r()},BaseCreativeUnit.prototype.answerSurveyQuestion=function(e,t,r){var a=[\"answerIds\",\"questionId\",\"surveyId\"],i=/[0-9a-f]{8}/;a.forEach(function(e){if(\"answerIds\"==e){if(!(t.answerIds instanceof Array))throw new Error(\"args.answerIds must be an array\");t.answerIds.forEach(function(e){if(!i.test(e))throw new Error(\"args.answerIds must contain Ids that have hexadecimal formatted string containing 8 characters\")})}else if(!i.test(t[e]))throw new Error(\"args.\"+e+\" must be hexadecimal formatted string containing 8 characters\")}),e.track({name:\"surveyQuestionAnswered\",answerIds:t.answerIds,questionId:t.questionId,surveyId:t.surveyId}),r()},BaseCreativeUnit.prototype.saveTheDateAction=function(e,t,r){function a(e){var r;return t.allDay?(r=new CDate,r.value=e.getFullYear()+\"-\"+zeroPad(e.getMonth()+1)+\"-\"+zeroPad(e.getDate())):(e=\"my\"===t.timezone?e.getUTCFullYear()+\"-\"+zeroPad(e.getUTCMonth()+1)+\"-\"+zeroPad(e.getUTCDate())+\" \"+zeroPad(e.getUTCHours())+\":\"+zeroPad(e.getUTCMinutes())+\":\"+zeroPad(e.getUTCSeconds()):e.getFullYear()+\"-\"+zeroPad(e.getMonth()+1)+\"-\"+zeroPad(e.getDate())+\" \"+zeroPad(e.getHours())+\":\"+zeroPad(e.getMinutes())+\":\"+zeroPad(e.getSeconds()),r=new CDateTime,r.value=e,r.tz=t.timezone),r}return t.eventName&&t.location&&t.start?(t.end=t.end||new Date(t.start.getTime()+36e5),t.timezone=t.timezone||\"my\",t.end<t.start?(console.error(\"End date must be after the start date!\"),r()):-1===[\"my\",\"utc\",\"user\"].indexOf(t.timezone)?(console.error(\"Invalid timezone argument!\"),r()):\"undefined\"!=typeof t.reminder&&-1===[\"5m\",\"15m\",\"30m\",\"1h\",\"2h\",\"1d\",\"2d\",\"date\"].indexOf(t.reminder)?(console.error(\"Invalid reminder argument!\"),r()):(t.start=a(t.start),t.end=a(t.end),void CCalendar.saveTheDateAction(e,t,r))):(console.error(\"saveTheDateAction must have eventName, location and start date defined!\"),r())},BaseCreativeUnit.prototype.resizeAction=function(){throw new Error(\"Resize action is not available for this ad format or creative unit\")},BaseCreativeUnit.prototype._areRevealResizeActionArgsValid=function(e){var t=[\"intro\",\"collapsed\",\"maximum\",\"fullscreen\"];return-1!==t.indexOf(e.height)},BaseCreativeUnit.prototype.expandAction=function(){throw new Error(\"Expand action is not available for this ad format or creative unit\")},BaseCreativeUnit.prototype._assertAppearBeforeExpand=function(){this.hasAppearedAtLeastOnce||creative.adapter.trackingCenter.track({name:\"userError\",userErrorId:\"expandBeforeAppear\"})},BaseCreativeUnit.prototype.collapseAction=function(){throw new Error(\"Collapse action is not available for this ad format or creative unit\")},BaseCreativeUnit.prototype.dismissAction=function(){throw new Error(\"Dismiss action is not available for this ad format or creative unit\")},BaseCreativeUnit.prototype.findAll=function(){throw new Error(\"Not implemented!\")},BaseCreativeUnit.prototype.findByType=function(){throw new Error(\"Not implemented!\")},BaseCreativeUnit.prototype.find=function(e){var t=this.findAll(e);return t.length>0?t[0]:null};;\n!function(e){\"use strict\";var r={};r.toString=function(){return\"[Clazz CustomAudiences]\"};var t=function(e,r,t,n){function i(r,t){var i=new XMLHttpRequest;i.open(e,u+s+\"/\"+encodeURIComponent(r)+\"/\"+encodeURIComponent(t)+\"?\"+creative.authTokenUrlParam),i.send(n)}if(-1===[\"PUT\",\"DELETE\"].indexOf(e))throw new Error(\"Unsupported request method: \"+e);if(\"undefined\"==typeof creative.runtimeParams.customAudiences[r])throw new Error('Custom audience \"'+r+'\" is not used by the creative.');creative.runtimeParams.customAudiences[r]={userExists:t,userData:n};var u=creative.secure?creative.customAudiencesUrl:creative.insecureCustomAudiencesUrl,s=\"/audiences/\"+r,o=creative.userIdentifiers;for(var a in o)for(var c in o[a])i(a,o[a][c])};r.addUser=function(e,r){creative.runtimeParams.userOptOut||t(\"PUT\",e,!0,r)},r.removeUser=function(e){creative.runtimeParams.userOptOut||t(\"DELETE\",e,!1)},e.CustomAudiences=r}(window);;\n!function(e){\"use strict\";var t={ambience:\"Ambience\",animatey:\"Animatey\",abtest:\"Best\",basket:\"Basket\",button:\"Button\",canvas:\"Canvas\",celebration:\"Celebration\",checkbox:\"CheckBox\",feedbasedchoice:\"ChoiceFeed\",countdown:\"Countdown\",draggy:\"Draggy\",dropdown:\"Dropdown\",dynamiccontent:\"DynamicContent\",facebookshare:\"FacebookShareButton\",fallback:\"Fallback\",frame:\"Frame\",flippy:\"Flippy\",group:\"Group\",gyro:\"Gyro\",hotspot:\"Hotspot\",input:\"Input\",map:\"Map\",transitions:\"Transitions\",mastervideo:\"MasterVideo\",nearby:\"Nearby\",painty:\"Painty\",pannable:\"Pannable\",particles:\"Particle\",picture:\"Picture\",puzzle:\"Puzzle\",shapey:\"Shapey\",smoke:\"Smoke\",stack:\"Stack\",stopwatch:\"Stopwatch\",locatorclassic:\"StoreLocator2\",locator:\"StoreLocator3\",swipeygallery:\"Swipey\",swipeygroup:\"SwipeyGroup\",takephoto:\"TakePhotoButton\",texty:\"Texty\",twitterfeed:\"TwitterFeed\",twittershare:\"TwitterShareButton\",inlinevideo:\"Video\",\"360view\":\"View360\",\"360video\":\"Video360\",\"360\u00b0video\":\"Video360\",weather:\"Weather\",whatsappshare:\"WhatsAppShareButton\",wipeable:\"Wipeable\",youtube:\"Youtube\",scene:\"Scene\",brandtracksurvey:\"BrandTrackSurvey\",brandtrackquestion:\"BrandTrackQuestion\",customcode:\"CustomCode\",videoasset:\"VideoAsset\"},n=function(e){return e=e.toLowerCase().replace(/\\W+/g,\"\"),e in t?t[e]:\"\"},o=function(e,t){function n(i){t&&a.length>0||i.forEach(function(t){e(t)&&a.push(t),t.getActiveContainers().forEach(function(e){n(e.objects),o(e.scenes)})})}function o(n){!n||t&&a.length>0||n.forEach(function(t){e(t)&&a.push(t)})}var a=[];return\"Screen\"==this.constructor.name?(n(this.objects),o(this.scenes)):\"function\"==typeof this.getActiveContainers&&this.getActiveContainers().forEach(function(e){n(e.objects),o(e.scenes)}),a},a=function(e){var t=o.call(this,e,!0);return t.length>0?t[0]:null},i=function(e){return function(t){return\"undefined\"==typeof e||t.name==e}},r={findAll:function(e){return o.call(this,i(e))},findByType:function(e){var t=[];return\"undefined\"==typeof e?t:o.call(this,function(t){return t.constructor.name==n(e)})},findByLocalId:function(e){return a.call(this,function(t){return t.localId==e})},find:function(e){return a.call(this,i(e))}};e.DiscoverableTrait=r}(window);;\n!function(e){\"use strict\";function t(e,t){var i=d[e]||{};return i[t]||[]}function i(e){var t=\"string\"==typeof e?e.split(\"/\"):[];if(!(t.length<2))return t[1]}function r(e){if(\"undefined\"==typeof o[e]&&(o[e]={type:\"unknown\",rows:[]}),0===e.indexOf(\"LocationTableImplicitField\")&&\"unknown\"===o[e].type){var t=\"text\";\"/website\"===e.slice(-8)&&(t=\"url\"),o[e].type=t}return o[e]}function n(){return u?o:(creative.runtimeParams.dynamicContent.forEach(function(e){e.rows.forEach(function(e,t){var i=e.fieldValues;Object.keys(i).forEach(function(e){var n=r(e),d=i[e].metaData,o=i[e].value;n.rows[t]={metadata:\"object\"==typeof d?JSON.parse(JSON.stringify(d)):null,value:o}})}),e.fields.forEach(function(t){var i=\"CustomFeedField/\"+t.id,n=r(i);n.id=t.id,n.feedId=e.feedId,n.name=t.name,n.type=t.fieldType})}),u=!0,o)}var d={choice:{checkChoiceFeed:[\"feedFieldKey\"],ChoiceFeed:[\"choiceFeedFieldKey\"]},color:{Shapey:[\"backgroundColorFeedFieldKey\"],Texty:[\"textColorFeedFieldKey\"]},font:{Texty:[\"textFontFeedFieldKey\"]},html:{CustomCode:[\"htmlContentFeedFieldKey\"]},image:{Picture:[\"imageSourceFeedFieldKey\"],Swipey:[\"contentItemsFeedFieldKey\"],Video:[\"posterImageFeedFieldKey\"]},text:{Texty:[\"textContentFeedFieldKey\"]},url:{goToFeedURL:[\"feedFieldKey\"]},video:{MasterVideo:[\"videoSourceFeedFieldKey\"],VideoAsset:[\"videoSourceFeedFieldKey\"],Video:[\"videoSourceFeedFieldKey\"]}},o={},u=!1,a={checkAndTrackValue:function(e,t,i,r){e&&(this.isCorrectFieldType(e,i,r)?this.getFieldValueByKey(e,t)||creative.adapter.trackingCenter.track({name:\"userError\",userErrorId:\"feedValueMissing\"}):creative.adapter.trackingCenter.track({name:\"userError\",userErrorId:\"feedValueUnlinked\"}))},getCustomFields:function(){var e=n();return Object.keys(e).filter(function(e){return 0===e.indexOf(\"CustomFeedField\")}).map(function(t){var i=e[t];return{id:i.id,feedId:i.feedId,name:i.name,type:i.type,values:i.rows.map(function(e){return e.value}).filter(function(e){return null!==e})}})},getCustomFieldByKey:function(e){var t=i(e);if(t)for(var r=this.getCustomFields(),n=0;n<r.length;n++)if(r[n].id===t)return r[n]},getCustomFieldByName:function(e){for(var t,i=this.getCustomFields(),r=0;r<i.length;r++)if(i[r].name===e){t=i[r];break}return t},getFeedByFieldKey:function(e){var t=i(e);if(t)return creative.runtimeParams.dynamicContent.find(function(e){return e.fields.some(function(e){return e.id==t})})},getFieldByKey:function(e){var t=n();return t[e]},getFieldRowsByKey:function(e){var t=this.getFieldByKey(e),i=t?t.rows:[],r=1===i.length&&\"string\"==typeof i[0].value||i.length>1;return r?i:[]},getFieldRowByKey:function(e,t){t=\"number\"==typeof t?t:0;var i=this.getFieldRowsByKey(e);return i[t]},getFieldValueByKey:function(e,t){var i=this.getFieldRowByKey(e,t);return i&&i.value},isCorrectFieldType:function(e,i,r){var n=this.getFieldByKey(e);if(!n)return!1;var d=t(n.type,i);return-1!==d.indexOf(r)}};e.FeedData=a}(window);;\nvar FeedImageOptimizationTrait={getFeedImageOptimizationSetting:function(t){if(!this.feedImageOptimizationSettings)return null;for(var e=0;e<this.feedImageOptimizationSettings.length;e++)if(this.feedImageOptimizationSettings[e].feedFieldKey===t)return this.feedImageOptimizationSettings[e];return null}};;\nvar FeedImageCreator={_createFeedImageFile:function(e,t){var i=e+\"FeedFieldKey\",n=FeedData.getFieldValueByKey(this[i],t);if(\"string\"!=typeof n||!FeedData.isCorrectFieldType(this[i],this.constructor.name,i))return null;var a=[],r=void 0,d=this.parentScreen&&this.parentScreen.parentContainer?this.parentScreen.parentContainer.getFeedImageOptimizationSetting(this[i]):{};d&&d.optimizedWidth&&d.optimizedHeight&&d.fitting&&(a=a=[{creativeUnitVariantId:this.parentScreen.parentContainer.localId,optimizedWidth:d.optimizedWidth,optimizedHeight:d.optimizedHeight}],r=d.fitting);var h=ScreenObject._toSizePx(this.layoutCurrent.size,this.parentContainer.size),o={height:Math.max(1,h.height),width:Math.max(1,h.width)};return new File({url:n,dynamic:!0,meta:o,optimizationSettings:a,fitting:r})}};;\nvar UnitVariantSelector={selectBestFitByArea:function(t,e,i,a){var n=t.map(function(t){var n,r=t.baseSize;if(!t.scaleUnit&&(e<r.width||i<r.height))n=0;else if(t.scaleUnit&&(e<r.width||i<t.getComputedHeight(e)))n=0;else{var h;if(a&&\"fixed\"===t.sizing)h=1;else{var d=r.width/r.height,s=e/i;h=d>s?e/r.width:i/r.height}var u=r.width*r.height*h*h/(e*i);n=u/h}return{variant:t,rank:1e8*n|0}});return n=n.sort(function(t,i){return t.rank===i.rank?t.rank?i.variant.getComputedHeight(e)-t.variant.getComputedHeight(e):t.variant.baseSize.width===i.variant.baseSize.width?t.variant.getComputedHeight(e)-i.variant.getComputedHeight(e):t.variant.baseSize.width-i.variant.baseSize.width:i.rank-t.rank}),n[0].variant},selectWidestThenShortest:function(t,e,i){var a=t.map(function(t){return{variant:t,rank:e<t.baseSize.width||i<t.getComputedHeight(e)?0:t.baseSize.width}});return a=a.sort(a.every(function(t){return!t.rank})?function(t,e){return t=t.variant,e=e.variant,t.baseSize.width==e.baseSize.width?t.getComputedHeight(e.baseSize.width)-e.getComputedHeight(t.baseSize.width):t.baseSize.width-e.baseSize.width}:function(t,i){return t.rank===i.rank?t.variant.getComputedHeight(e)-i.variant.getComputedHeight(e):i.rank-t.rank}),a[0].variant},selectWidestThenTallest:function(t,e){var i=t.map(function(t){return{variant:t,rank:e<t.baseSize.width?0:t.baseSize.width}});return i=i.sort(i.every(function(t){return!t.rank})?function(t,e){return t=t.variant,e=e.variant,t.baseSize.width==e.baseSize.width?e.getComputedHeight(e.baseSize.width)-t.getComputedHeight(t.baseSize.width):t.baseSize.width-e.baseSize.width}:function(t,e){return t.rank==e.rank?e.variant.getComputedHeight(e.variant.baseSize.width)-t.variant.getComputedHeight(t.variant.baseSize.width):e.rank-t.rank}),i[0].variant},selectFittingWidestThenTallest:function(t,e,i){var a=t.map(function(t){return{variant:t,rank:e<t.baseSize.width||i<t.baseSize.height?0:t.baseSize.width}});return a=a.sort(a.every(function(t){return!t.rank})?function(t,e){return t=t.variant,e=e.variant,t.baseSize.width==e.baseSize.width?e.getComputedHeight(e.baseSize.width)-t.getComputedHeight(t.baseSize.width):t.baseSize.width-e.baseSize.width}:function(t,e){return t.rank==e.rank?e.variant.getComputedHeight(e.variant.baseSize.width)-t.variant.getComputedHeight(t.variant.baseSize.width):e.rank-t.rank}),a[0].variant}};;\n!function(t){\"use strict\";var e={stringPatternAngle:\"(?:[+-]?\\\\d*\\\\.?\\\\d+)(?:deg|grad|rad|turn)\",stringPatternColor:\"(?:#(?:[A-Fa-f0-9]{3,6})|(?:(?:rgb|hsl)a?)\\\\(\\\\s*(?:\\\\d+(?:\\\\%)?\\\\s*,\\\\s*){2,3}(?:(?:\\\\d+\\\\.)?\\\\d+)\\\\s*\\\\))\",stringPatternSideCorner:\"top|bottom|left|right\",stringPatternValue:\"(?:[+-]?\\\\d*\\\\.?\\\\d+)(?:%|[a-z]+)?\",patternHex:/^(#|)([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,matchHexHash:1,matchHexColor:2,patternRgb:/^rgb\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)$/i,matchRgbRed:1,matchRgbGreen:2,matchRgbBlue:3,patternRgba:/^rgba\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*((?:\\d\\.)?\\d\\d?)\\s*\\)$/i,matchRgbaRed:1,matchRgbaGreen:2,matchRgbaBlue:3,matchRgbaAlpha:4,patternGradient:/^\\-?(moz|webkit|o|ms|)(?:(?:-|)(?:repeating-|)(linear|radial|))-gradient\\((.*?)\\)(?:;|)$/i,matchGradientPrefix:1,matchGradientType:2,matchGradientValues:3,generatedGradientSyntax:null,matchGradientSyntaxLine:1,matchGradientSyntaxAngle:2,matchGradientSyntaxSideCorner:3,matchGradientSyntaxStopList:4,buildGradientSyntax:function(){var t=[\"(?:to\\\\s+)?((?:\",e.stringPatternSideCorner,\")\\\\s*(?:\",e.stringPatternSideCorner,\")?)\"].join(\"\"),a=[\"(\",e.stringPatternAngle,\")\"].join(\"\"),n=[\"(\",a,\"|\",t,\")\"].join(\"\"),r=[e.stringPatternColor,\"\\\\s*(?:\",e.stringPatternValue,\")?\"].join(\"\"),i=[\"(?:\",r,\"\\\\s*,\\\\s*)*\",r].join(\"\"),o=[\"^\\\\s*\",n,\"\\\\s*,\\\\s*(\",i,\")\\\\s*$\"].join(\"\");return e.generatedGradientSyntax=new RegExp(o,\"i\"),e.generatedGradientSyntax},generatedRadialGradientSyntax:null,matchRadialGradientSyntaxEllipse:1,matchRadialGradientSyntaxWidth:2,matchRadialGradientSyntaxHeight:3,matchRadialGradientSyntaxXPosition:4,matchRadialGradientSyntaxYPosition:5,matchRadialGradientSyntaxStopList:6,buildRadialGradientSyntax:function(){var t=[\"(ellipse)?\\\\s*\",\"(\",e.stringPatternValue,\")\\\\s+\",\"(\",e.stringPatternValue,\")\\\\s+at\\\\s+\",\"(\",e.stringPatternValue,\")\\\\s+\",\"(\",e.stringPatternValue,\")\"].join(\"\"),a=[e.stringPatternColor,\"\\\\s*(?:\",e.stringPatternValue,\")?\"].join(\"\"),n=[\"(?:\",a,\"\\\\s*,\\\\s*)*\",a].join(\"\"),r=[\"^\\\\s*\",t,\"\\\\s*,\\\\s*(\",n,\")\\\\s*$\"].join(\"\");return e.generatedRadialGradientSyntax=new RegExp(r,\"i\"),e.generatedRadialGradientSyntax},generatedGradientStopList:null,matchGradientStopListColor:1,matchGradientStopListPosition:2,buildGradientStopList:function(){var t=[\"\\\\s*(\",e.stringPatternColor,\")\",\"(?:\\\\s+\",\"(\",e.stringPatternValue,\"))?\",\"(?:\\\\s*,\\\\s*)?\"].join(\"\");return e.generatedGradientStopList=new RegExp(t,\"gi\"),e.generatedGradientStopList},gradientOldSideCorner:{\"to top\":\"left bottom, left top\",\"to left\":\"right top, left top\",\"to bottom\":\"left top, left bottom\",\"to right\":\"left top, right top\",\"to top right\":\"left bottom, right top\",\"to top left\":\"right bottom, left top\",\"to bottom right\":\"left top, right bottom\",\"to bottom left\":\"right top, left bottom\"},gradientPrefixedSideCorner:{\"to top\":\"bottom\",\"to left\":\"right\",\"to bottom\":\"top\",\"to right\":\"left\",\"to top right\":\"bottom left\",\"to top left\":\"bottom right\",\"to bottom right\":\"top left\",\"to bottom left\":\"top right\"}};Object.defineProperties(e,{patternGradientSyntax:{get:function(){return null===e.generatedGradientSyntax?e.buildGradientSyntax():e.generatedGradientSyntax}},patternRadialGradientSyntax:{get:function(){return null===e.generatedRadialGradientSyntax?e.buildRadialGradientSyntax():e.generatedRadialGradientSyntax}},patternGradientStopList:{get:function(){return null===e.generatedGradientStopList?e.buildGradientStopList():e.generatedGradientStopList}}}),e.convertAngleToSideCorner=function(t,e){/\\-?(moz|webkit|o|ms)/.test(e)&&(t=90-t);var a=(t+360)%360,n=\"to top\";return a>347||14>a?n=\"to top\":a>=14&&75>=a?n=\"to top right\":a>75&&105>a?n=\"to right\":a>=105&&167>=a?n=\"to bottom right\":a>167&&194>a?n=\"to bottom\":a>=194&&255>=a?n=\"to bottom left\":a>255&&285>a?n=\"to left\":a>=285&&347>=a&&(n=\"to left top\"),n},e.convertSideCornerToAngle=function(t,e){var a=0;switch(t){case\"bottom\":case\"to top\":a=0;break;case\"left\":case\"to right\":a=90;break;case\"right\":case\"to left\":a=270;break;case\"top\":case\"to bottom\":a=180;break;case\"to bottom right\":case\"to right bottom\":a=167;break;case\"to bottom left\":case\"to left bottom\":a=194;break;case\"to top right\":case\"to right top\":a=14;break;case\"to top left\":case\"to left top\":a=347;break;case\"bottom right\":case\"right bottom\":a=285;break;case\"bottom left\":case\"left bottom\":a=75;break;case\"top right\":case\"right top\":a=255;break;case\"top left\":case\"left top\":a=105}return/\\-?(moz|webkit|o|ms)/.test(e)&&(a=90-a),(a+360)%360},e.isHex=function(t){return e.patternHex.test(t)},e.isRgb=function(t){return e.patternRgb.test(t)},e.isRgba=function(t){return e.patternRgba.test(t)},e.isGradient=function(t){return e.patternGradient.test(t)},e.parseColorStopList=function(t){for(var a,n=e.patternGradientStopList.exec(t),r=[];null!==n;)a={color:n[e.matchGradientStopListColor]},n[e.matchGradientStopListPosition]&&(a.position=n[e.matchGradientStopListPosition]),r.push(a),n=e.patternGradientStopList.exec(t);return r},e.parseGradient=function(t){var a=null,n=e.patternGradient.exec(t);if(null!==n){a={original:n[0],oldSyntax:!n[e.matchGradientType],prefix:n[e.matchGradientPrefix],type:n[e.matchGradientType],colorStopList:[]};var r=e.patternGradientSyntax.exec(n[e.matchGradientValues]);null!==r&&(r[e.matchGradientSyntaxLine]&&(a.line=r[e.matchGradientSyntaxLine]),r[e.matchGradientSyntaxAngle]&&(a.angle=r[e.matchGradientSyntaxAngle]),r[e.matchGradientSyntaxSideCorner]&&(a.sideCorner=r[e.matchGradientSyntaxSideCorner]),a.colorStopList=e.parseColorStopList(r[e.matchGradientSyntaxStopList]));var i=e.patternRadialGradientSyntax.exec(n[e.matchGradientValues]);null!==i&&(a.radialGradientEllipse=i[e.matchRadialGradientSyntaxEllipse],i[e.matchRadialGradientSyntaxWidth]&&(a.radialGradientWidth=i[e.matchRadialGradientSyntaxWidth]),i[e.matchRadialGradientSyntaxHeight]&&(a.radialGradientHeight=i[e.matchRadialGradientSyntaxHeight]),i[e.matchRadialGradientSyntaxXPosition]&&(a.radialGradientXPosition=i[e.matchRadialGradientSyntaxXPosition]),i[e.matchRadialGradientSyntaxYPosition]&&(a.radialGradientYPosition=i[e.matchRadialGradientSyntaxYPosition]),a.colorStopList=e.parseColorStopList(i[e.matchRadialGradientSyntaxStopList]))}return a},e.createGradient=function(t){var a={backgroundColor:null,webkitGradient:null,mozLinearGradient:null,msLinearGradient:null,oLinearGradient:null,webkitLinearGradient:null,linearGradient:null,radialGradient:null},n=e.parseGradient(t);if(n.oldSyntax)throw new Error('[Not supported] Can not create gradient from old \"webkit-gradient\" syntax.');for(var r=\"\",i=\"\",o=n.colorStopList.length,d=0;o>d;d++){var l=n.colorStopList[d];if(l.color){if(0!==d?(r+=\", \",i+=\", \"):a.backgroundColor=l.color,r+=l.color,i+=\"color-stop(\",l.position)r+=\" \"+l.position,i+=l.position;else{var s=100/(o-1)*d;i+=s+\"%\"}i+=\", \"+l.color+\")\"}}if(\"linear\"===n.type){var g=0;\"undefined\"!=typeof n.angle?g=parseInt(n.angle,10):\"undefined\"!=typeof n.sideCorner&&(g=e.convertSideCornerToAngle(n.line,n.prefix));var c=g;/\\-?(moz|webkit|o|ms)/.test(n.prefix)?g=90-c:c=90-g;var p=e.convertAngleToSideCorner(g),G=e.gradientOldSideCorner[p];a.webkitGradient=\"-webkit-gradient(linear, \"+G+\", \"+i+\")\",a.mozLinearGradient=\"-moz-linear-gradient(\"+c+\"deg, \"+r+\")\",a.msLinearGradient=\"-ms-linear-gradient(\"+c+\"deg, \"+r+\")\",a.oLinearGradient=\"-o-linear-gradient(\"+c+\"deg, \"+r+\")\",a.webkitLinearGradient=\"-webkit-linear-gradient(\"+c+\"deg, \"+r+\")\",a.linearGradient=\"linear-gradient(\"+g+\"deg, \"+r+\")\"}else if(\"radial\"===n.type){var m=parseInt(n.radialGradientWidth,10),h=parseInt(n.radialGradientHeight,10),S=parseInt(n.radialGradientXPosition,10),u=parseInt(n.radialGradientYPosition,10),f=m+\"% \"+h+\"%\",b=S+\"% \"+u+\"% \",x=f+\" at \"+b;a.radialGradient=\"radial-gradient(\"+x+\", \"+r+\")\"}return a},e.createGradientStyle=function(t){var a=e.createGradient(t),n=\"\";for(var r in a){var i=a[r];null!==i&&e.isGradient(i)&&(n+=\"background-image: \"+i+\"; \")}return n},t.Color=e}(window),\"undefined\"!=typeof module&&\"undefined\"!=typeof module.exports&&(module.exports=window.Color);;\n!function(){\"use strict\";var t=[],e=[\"provider\",\"family\",\"style\",\"weight\",\"stretch\"],i=[\"adobe\",\"custom\",\"google\",\"system\"],n=e.concat([\"baseUrl\",\"files\",\"projectId\",\"subset\"]),o={updateTextStyle:function(){},initializeFont:function(t){this._initialFont instanceof FontBase||(this._initialFont=this.font),this.font.setBaseUrl((creative.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+\"fonts/\"),t||(this.incrementLoadingCount(),this.loadFont(deferred(this.decrementLoadingCount.bind(this),0,\"TextStyleIntegrator.initializeFont deferred loadFont callback\"))),this.updateTextStyle()},resetFont:function(){this._initialFont instanceof FontBase&&this.font!==this._initialFont&&(this.font=this._initialFont,this.updateTextStyle())},toSizePx:function(t,e){var i=parseFloat(t);return t.toString().indexOf(\"vh\")>-1&&(i=Math.round(e*i/100)),i},getFontSize:function(){return this.toSizePx(this.fontSize,this.parentScreen.size.height)},getLineSpacing:function(){var t=parseFloat(this.lineSpacing);return String(this.lineSpacing).indexOf(\"em\")>-1&&(t*=this.toSizePx(this.fontSize,this.parentScreen.size.height)),t},getLetterSpacing:function(){var t=parseFloat(this.letterSpacing);return String(this.letterSpacing).indexOf(\"em\")>-1&&(t*=this.toSizePx(this.fontSize,this.parentScreen.size.height)),t},getScaleBaseHeight:function(){return this.scaleBaseHeight},getScaleBaseWidth:function(){return this.scaleBaseWidth},getTextColor:function(){return this.textColor},getTextShadowOffset:function(){var t={x:0,y:0};if(\"undefined\"!=typeof this.textShadow&&this.textShadow){var e=this.textShadowAngle*(Math.PI/180);t.x=Math.round(this.textShadowDistance*Math.cos(e)),t.y=Math.round(this.textShadowDistance*Math.sin(e))}return t},getTextShadowBlur:function(){return android(\"2\")&&this.textShadowBlur<1?1:this.textShadowBlur},getTextPaddingTop:function(){return this.textPaddingTop},getTextPaddingRight:function(){return this.textPaddingRight},getTextPaddingBottom:function(){return this.textPaddingBottom},getTextPaddingLeft:function(){return this.textPaddingLeft},applyTextStyle:function(t){var e=this.font.getCssProperties(),i={fontFamily:e[\"font-family\"],fontStyle:e[\"font-style\"],fontWeight:e[\"font-weight\"],color:this.getTextColor(),letterSpacing:\"\",textAlign:\"\",textDecoration:\"\",textShadow:\"\",paddingTop:\"\",paddingRight:\"\",paddingBottom:\"\",paddingLeft:\"\"};if(\"undefined\"!=typeof this.textAlign&&(i.textAlign=this.textAlign),\"undefined\"!=typeof this.textDecoration&&(i.textDecoration=this.textDecoration),\"undefined\"!=typeof this.letterSpacing&&(i.letterSpacing=this.getLetterSpacing()+\"px\"),\"undefined\"!=typeof this.textShadow&&this.textShadow){var n=this.getTextShadowOffset();i.textShadow=n.x+\"px \"+n.y+\"px \"+this.getTextShadowBlur()+\"px \"+this.textShadowColor}var o=this.getTextPaddingTop(),a=this.getTextPaddingRight(),r=this.getTextPaddingBottom(),s=this.getTextPaddingLeft();\"number\"==typeof o&&(i.paddingTop=o+\"px\"),\"number\"==typeof a&&(i.paddingRight=a+\"px\"),\"number\"==typeof r&&(i.paddingBottom=r+\"px\"),\"number\"==typeof s&&(i.paddingLeft=s+\"px\"),extend(t.style,i),t.setAttribute(\"dir\",this.textDirection||\"\"),this.checkAndFixAutoWritingDirectionSupport(t)},_writingDirectionFallbackInputListenerRegistered:!1,checkAndFixAutoWritingDirectionSupport:function(t){var e=\"auto\"===this.textDirection&&t.dir!==this.textDirection,i=(\"start\"===this.textAlign||\"end\"===this.textAlign)&&t.style.textAlign!=this.textAlign;if(e||i){var n=t.tagName.toLowerCase(),o=\"textarea\"===n||\"input\"===n&&\"text\"===t.type.toLowerCase();o&&!this._writingDirectionFallbackInputListenerRegistered&&(this._writingDirectionFallbackInputListenerRegistered=!0,attach(t,\"input\",function(){this._applyWritingDirectionFallbacks(t,t.value)}.bind(this))),(o||\"input\"!==n)&&this._applyWritingDirectionFallbacks(t,t.innerText)}},_applyWritingDirectionFallbacks:function(t,e){var i,n=guessWritingDirection(e)||\"ltr\";\"start\"===this.textAlign&&(i=\"ltr\"===n?\"left\":\"right\"),\"end\"===this.textAlign&&(i=\"ltr\"===n?\"right\":\"left\"),t.setAttribute(\"dir\",n||\"\"),i&&(t.style.textAlign=i)},applyTextSize:function(t){var e=this.getNaturalSize(),i=this.getFontSize();this.scaleFont&&this.getScaleBaseWidth()>0&&\"undefined\"!=typeof this.scaleBaseHeight&&this.getScaleBaseHeight()>0?i=Math.min(i/(this.getScaleBaseWidth()/e.width),i/(this.getScaleBaseHeight()/e.height)):this.scaleFont&&this.getScaleBaseWidth()>0&&(i/=this.getScaleBaseWidth()/e.width);var n={fontSize:i+\"px\",lineHeight:\"\",paddingLeft:\"\",paddingRight:\"\"};if(\"undefined\"!=typeof this.lineSpacing&&(n.lineHeight=Math.max(1,this.getLineSpacing()+i)+\"px\"),this.scaleFont&&\"undefined\"!=typeof this.scaleBaseHeight){var o=this.getScaleBaseWidth()/this.getScaleBaseHeight(),a=o*e.height,r=e.width-a;if(r>0)switch(this.textAlign){case\"center\":n.paddingRight=Math.round(r/2)+\"px\",n.paddingLeft=Math.round(r/2)+\"px\";break;case\"right\":n.paddingLeft=Math.round(r)+\"px\";break;default:n.paddingRight=Math.round(r)+\"px\"}}extend(t.style,n)},getFontLoader:function(t){t=t||noop,!this.font.needsLoading()||FontBase.useCSSFontLoadingAPI||\"undefined\"!=typeof FontLoader?t():loadJS(creative.resourceUrl+\"runner-min/FontLoader.js\",t)},loadFont:function(t){t=t||noop;var e={fontFamily:this.font.family,fontProvider:this.font.provider,fontStretch:this.font.stretch||\"\",fontStyle:this.font.style,fontWeight:this.font.weight,fontTtfUrl:this.font.getFileUrl(\"ttf\")||\"\",fontWoffUrl:this.font.getFileUrl(\"woff\")||\"\",fontWoff2Url:this.font.getFileUrl(\"woff2\")||\"\"},i=creative.perf.start(\"TextStyleIntegrator.loadFont\",e);this.getFontLoader(function(){var n=creative.perf.start(\"TextStyleIntegrator.loadStyle\",e);this.font.loadStyle(function(o){e.errorMessage=o||\"\",n.end(),i.end(),o||(this.font.isCustom()&&this.callExternalPageViewCounter(),this.font.isMonotype()&&this.trackMonotypeUsage()),t(o)}.bind(this))}.bind(this))},setFont:function(t){var o=this.font.hasOwnProperty(\"localId\");!o||this._initialFont instanceof FontBase||(this._initialFont=this.font);var a={baseUrl:(creative.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+\"fonts/\"};n.forEach(function(i){o&&-1!==e.indexOf(i)&&(a[i]=this.font[i]),\"undefined\"!=typeof t[i]&&(a[i]=t[i])}.bind(this)),\"web\"===a.provider&&(a.provider=\"system\"),-1===i.indexOf(a.provider)&&(a.provider=\"custom\"),this.font.localId?(\"custom\"===a.provider&&a.family===this.font.family&&(a.family=this.font.family+\" (custom)\"),this.font=new FontBase(a)):extend(this.font,a),creative.track({name:\"retiredFeatureUsed\",featureType:\"apifunction\",featureName:\"TextStyleIntegrator.setFont\"})},callExternalPageViewCounter:function(){if(this.font.hasTrackingUrlDefined()&&\"live\"===creative.runtimeParams.purpose){var e=this.font.getTrackingUrl();if(-1===t.indexOf(e)){t.push(e);var i=document.createElement(\"img\");i.src=this.font.getTrackingUrl()}}},trackMonotypeUsage:function(){creative.runtimeParams.monotypeProjectId&&!creative.runtimeParams.monotypeUsageReported&&(creative.runtimeParams.monotypeUsageReported=1,creative.aggregatorTracking.trackAggregator(\"monotypeUsageReported\",{monotypeProjectId:creative.runtimeParams.monotypeProjectId,creativeId:creative.id}))}};window.TextStyleIntegrator=o}();;\n!function(e){var o=Date.now||function(){return+new Date},t=60,_=1e3,i={},l=1;e.core?core.effect||(core.effect={}):e.core={effect:{}},core.effect.Animate={requestAnimationFrame:function(){var o=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame,t=!!o;if(o&&!/requestAnimationFrame\\(\\)\\s*\\{\\s*\\[native code\\]\\s*\\}/i.test(o.toString())&&(t=!1),t)return function(e,t){o(e,t)};var _=60,i={},l=0,n=1,r=null,a=+new Date;return function(e){var o=n++;return i[o]=e,l++,null===r&&(r=setInterval(function(){var e=+new Date,o=i;i={},l=0;for(var t in o)o.hasOwnProperty(t)&&(o[t](e),a=e);e-a>2500&&(clearInterval(r),r=null)},1e3/_)),o}}(),stop:function(e){var o=null!=i[e];return o&&(i[e]=null),o},isRunning:function(e){return null!=i[e]},start:function(e,n,r,a,c,s){var p=o(),h=p,f=0,m=0,u=l++;if(s||(s=document.body),u%20===0){var g={};for(var v in i)g[v]=!0;i=g}var d=function(l){var g=l!==!0,v=o();if(!i[u]||n&&!n(u))return i[u]=null,void(r&&r(t-m/((v-p)/_),u,!1));if(g)for(var T=Math.round((v-h)/(_/t))-1,S=0;S<Math.min(T,4);S++)d(!0),m++;a&&(f=(v-p)/a,f>1&&(f=1));var D=c?c(f):f;e(D,v,g)!==!1&&1!==f||!g?g&&(h=v,core.effect.Animate.requestAnimationFrame(d,s)):(i[u]=null,r&&r(t-m/((v-p)/_),u,1===f||null==a))};return i[u]=!0,core.effect.Animate.requestAnimationFrame(d,s),u}}}(window);var ZyngaScroller;!function(){var e=function(){};ZyngaScroller=function(o,t){this.__callback=o,this.options={scrollingX:!0,scrollingY:!0,animating:!0,animationDuration:250,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3,speedMultiplier:1,scrollingComplete:e,penetrationDeceleration:.03,penetrationAcceleration:.08};for(var _ in t)this.options[_]=t[_]};var o=function(e){return Math.pow(e-1,3)+1},t=function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},_={__isSingleTouch:!1,__isTracking:!1,__didDecelerationComplete:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(e,o,t,_){var i=this;e===+e&&(i.__clientWidth=e),o===+o&&(i.__clientHeight=o),t===+t&&(i.__contentWidth=t),_===+_&&(i.__contentHeight=_),i.__computeScrollMax(),i.scrollTo(i.__scrollLeft,i.__scrollTop,!0)},setPosition:function(e,o){var t=this;t.__clientLeft=e||0,t.__clientTop=o||0},setSnapSize:function(e,o){var t=this;t.__snapWidth=e,t.__snapHeight=o},activatePullToRefresh:function(e,o,t,_){var i=this;i.__refreshHeight=e,i.__refreshActivate=o,i.__refreshDeactivate=t,i.__refreshStart=_},triggerPullToRefresh:function(){this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0),this.__refreshStart&&this.__refreshStart()},finishPullToRefresh:function(){var e=this;e.__refreshActive=!1,e.__refreshDeactivate&&e.__refreshDeactivate(),e.scrollTo(e.__scrollLeft,e.__scrollTop,!0)},getValues:function(){var e=this;return{left:e.__scrollLeft,top:e.__scrollTop,zoom:e.__zoomLevel,isDragging:e.__isDragging}},getScrollMax:function(){var e=this;return{left:e.__maxScrollLeft,top:e.__maxScrollTop}},zoomTo:function(e,o,t,_,i){var l=this;if(!l.options.zooming)throw new Error(\"Zooming is not enabled!\");i&&(l.__zoomComplete=i),l.__isDecelerating&&(core.effect.Animate.stop(l.__isDecelerating),l.__isDecelerating=!1);var n=l.__zoomLevel;null==t&&(t=l.__clientWidth/2),null==_&&(_=l.__clientHeight/2),e=Math.max(Math.min(e,l.options.maxZoom),l.options.minZoom),l.__computeScrollMax(e);var r=(t+l.__scrollLeft)*e/n-t,a=(_+l.__scrollTop)*e/n-_;r>l.__maxScrollLeft?r=l.__maxScrollLeft:0>r&&(r=0),a>l.__maxScrollTop?a=l.__maxScrollTop:0>a&&(a=0),l.__publish(r,a,e,o)},zoomBy:function(e,o,t,_,i){var l=this;l.zoomTo(l.__zoomLevel*e,o,t,_,i)},scrollTo:function(e,o,t,_){var i=this;if(i.__isDecelerating&&(core.effect.Animate.stop(i.__isDecelerating),i.__isDecelerating=!1),null!=_&&_!==i.__zoomLevel){if(!i.options.zooming)throw new Error(\"Zooming is not enabled!\");e*=_,o*=_,i.__computeScrollMax(_)}else _=i.__zoomLevel;i.options.scrollingX?i.options.paging?e=Math.round(e/i.__clientWidth)*i.__clientWidth:i.options.snapping&&(e=Math.round(e/i.__snapWidth)*i.__snapWidth):e=i.__scrollLeft,i.options.scrollingY?i.options.paging?o=Math.round(o/i.__clientHeight)*i.__clientHeight:i.options.snapping&&(o=Math.round(o/i.__snapHeight)*i.__snapHeight):o=i.__scrollTop,e=Math.max(Math.min(i.__maxScrollLeft,e),0),o=Math.max(Math.min(i.__maxScrollTop,o),0),e===i.__scrollLeft&&o===i.__scrollTop&&(t=!1),i.__publish(e,o,_,t)},scrollBy:function(e,o,t){var _=this,i=_.__isAnimating?_.__scheduledLeft:_.__scrollLeft,l=_.__isAnimating?_.__scheduledTop:_.__scrollTop;_.scrollTo(i+(e||0),l+(o||0),t)},doMouseZoom:function(e,o,t,_){var i=this,l=e>0?.97:1.03;return i.zoomTo(i.__zoomLevel*l,!1,t-i.__clientLeft,_-i.__clientTop)},doTouchStart:function(e,o){if(null==e.length)throw new Error(\"Invalid touch list: \"+e);if(o instanceof Date&&(o=o.valueOf()),\"number\"!=typeof o)throw new Error(\"Invalid timestamp value: \"+o);var t=this;t.__interruptedAnimation=!0,t.__isDecelerating&&(core.effect.Animate.stop(t.__isDecelerating),t.__isDecelerating=!1,t.__interruptedAnimation=!0),t.__isAnimating&&(core.effect.Animate.stop(t.__isAnimating),t.__isAnimating=!1,t.__interruptedAnimation=!0);var _,i,l=1===e.length;l?(_=e[0].pageX,i=e[0].pageY):(_=Math.abs(e[0].pageX+e[1].pageX)/2,i=Math.abs(e[0].pageY+e[1].pageY)/2),t.__initialTouchLeft=_,t.__initialTouchTop=i,t.__zoomLevelStart=t.__zoomLevel,t.__lastTouchLeft=_,t.__lastTouchTop=i,t.__lastTouchMove=o,t.__lastScale=1,t.__enableScrollX=!l&&t.options.scrollingX,t.__enableScrollY=!l&&t.options.scrollingY,t.__isTracking=!0,t.__didDecelerationComplete=!1,t.__isDragging=!l,t.__isSingleTouch=l,t.__positions=[]},doTouchMove:function(e,o,t){if(null==e.length)throw new Error(\"Invalid touch list: \"+e);if(o instanceof Date&&(o=o.valueOf()),\"number\"!=typeof o)throw new Error(\"Invalid timestamp value: \"+o);var _=this;if(_.__isTracking){var i,l;2===e.length?(i=Math.abs(e[0].pageX+e[1].pageX)/2,l=Math.abs(e[0].pageY+e[1].pageY)/2):(i=e[0].pageX,l=e[0].pageY);var n=_.__positions;if(_.__isDragging){var r=i-_.__lastTouchLeft,a=l-_.__lastTouchTop,c=_.__scrollLeft,s=_.__scrollTop,p=_.__zoomLevel;if(null!=t&&_.options.zooming){var h=p;if(p=p/_.__lastScale*t,p=Math.max(Math.min(p,_.options.maxZoom),_.options.minZoom),h!==p){var f=i-_.__clientLeft,m=l-_.__clientTop;c=(f+c)*p/h-f,s=(m+s)*p/h-m,_.__computeScrollMax(p)}}if(_.__enableScrollX){c-=r*this.options.speedMultiplier;var u=_.__maxScrollLeft;(c>u||0>c)&&(_.options.bouncing?c+=r/2*this.options.speedMultiplier:c=c>u?u:0)}if(_.__enableScrollY){s-=a*this.options.speedMultiplier;var g=_.__maxScrollTop;(s>g||0>s)&&(_.options.bouncing?(s+=a/2*this.options.speedMultiplier,_.__enableScrollX||null==_.__refreshHeight||(!_.__refreshActive&&s<=-_.__refreshHeight?(_.__refreshActive=!0,_.__refreshActivate&&_.__refreshActivate()):_.__refreshActive&&s>-_.__refreshHeight&&(_.__refreshActive=!1,_.__refreshDeactivate&&_.__refreshDeactivate()))):s=s>g?g:0)}n.length>60&&n.splice(0,30),n.push(c,s,o),_.__publish(c,s,p)}else{var v=_.options.locking?3:0,d=5,T=Math.abs(i-_.__initialTouchLeft),S=Math.abs(l-_.__initialTouchTop);_.__enableScrollX=_.options.scrollingX&&T>=v,_.__enableScrollY=_.options.scrollingY&&S>=v,n.push(_.__scrollLeft,_.__scrollTop,o),_.__isDragging=(_.__enableScrollX||_.__enableScrollY)&&(T>=d||S>=d),_.__isDragging&&(_.__interruptedAnimation=!1)}_.__lastTouchLeft=i,_.__lastTouchTop=l,_.__lastTouchMove=o,_.__lastScale=t}},doTouchEnd:function(e){if(e instanceof Date&&(e=e.valueOf()),\"number\"!=typeof e)throw new Error(\"Invalid timestamp value: \"+e);var o=this;if(o.__isTracking){if(o.__isTracking=!1,o.__isDragging)if(o.__isDragging=!1,o.__isSingleTouch&&o.options.animating&&e-o.__lastTouchMove<=100){for(var t=o.__positions,_=t.length-1,i=_,l=_;l>0&&t[l]>o.__lastTouchMove-100;l-=3)i=l;if(i!==_){var n=t[_]-t[i],r=o.__scrollLeft-t[i-2],a=o.__scrollTop-t[i-1];o.__decelerationVelocityX=r/n*(1e3/60),o.__decelerationVelocityY=a/n*(1e3/60);var c=o.options.paging||o.options.snapping?4:1;(Math.abs(o.__decelerationVelocityX)>c||Math.abs(o.__decelerationVelocityY)>c)&&(o.__refreshActive||o.__startDeceleration(e))}else o.options.scrollingComplete()}else e-o.__lastTouchMove>100&&o.options.scrollingComplete();o.__isDecelerating||(o.__refreshActive&&o.__refreshStart?(o.__publish(o.__scrollLeft,-o.__refreshHeight,o.__zoomLevel,!0),o.__refreshStart&&o.__refreshStart()):((o.__interruptedAnimation||o.__isDragging)&&o.options.scrollingComplete(),o.scrollTo(o.__scrollLeft,o.__scrollTop,!0,o.__zoomLevel),o.__refreshActive&&(o.__refreshActive=!1,o.__refreshDeactivate&&o.__refreshDeactivate()))),o.__positions.length=0}},__publish:function(e,_,i,l){var n=this,r=n.__isAnimating;if(r&&(core.effect.Animate.stop(r),n.__isAnimating=!1),l&&n.options.animating){n.__scheduledLeft=e,n.__scheduledTop=_,n.__scheduledZoom=i;var a=n.__scrollLeft,c=n.__scrollTop,s=n.__zoomLevel,p=e-a,h=_-c,f=i-s,m=function(e,o,t){t&&(n.__scrollLeft=a+p*e,n.__scrollTop=c+h*e,n.__zoomLevel=s+f*e,n.__callback&&n.__callback(n.__scrollLeft,n.__scrollTop,n.__zoomLevel))},u=function(e){return n.__isAnimating===e},g=function(e,o,t){o===n.__isAnimating&&(n.__isAnimating=!1),(n.__didDecelerationComplete||t)&&n.options.scrollingComplete(),n.options.zooming&&(n.__computeScrollMax(),n.__zoomComplete&&(n.__zoomComplete(),n.__zoomComplete=null))};n.__isAnimating=core.effect.Animate.start(m,u,g,n.options.animationDuration,r?o:t)}else n.__scheduledLeft=n.__scrollLeft=e,n.__scheduledTop=n.__scrollTop=_,n.__scheduledZoom=n.__zoomLevel=i,n.__callback&&n.__callback(e,_,i),n.options.zooming&&(n.__computeScrollMax(),n.__zoomComplete&&(n.__zoomComplete(),n.__zoomComplete=null))},__computeScrollMax:function(e){var o=this;null==e&&(e=o.__zoomLevel),o.__maxScrollLeft=Math.max(o.__contentWidth*e-o.__clientWidth,0),o.__maxScrollTop=Math.max(o.__contentHeight*e-o.__clientHeight,0)},__startDeceleration:function(){var e=this;if(e.options.paging){var o=Math.max(Math.min(e.__scrollLeft,e.__maxScrollLeft),0),t=Math.max(Math.min(e.__scrollTop,e.__maxScrollTop),0),_=e.__clientWidth,i=e.__clientHeight;e.__minDecelerationScrollLeft=Math.floor(o/_)*_,e.__minDecelerationScrollTop=Math.floor(t/i)*i,e.__maxDecelerationScrollLeft=Math.ceil(o/_)*_,e.__maxDecelerationScrollTop=Math.ceil(t/i)*i}else e.__minDecelerationScrollLeft=0,e.__minDecelerationScrollTop=0,e.__maxDecelerationScrollLeft=e.__maxScrollLeft,e.__maxDecelerationScrollTop=e.__maxScrollTop;var l=function(o,t,_){e.__stepThroughDeceleration(_)},n=e.options.snapping?4:.1,r=function(){var o=Math.abs(e.__decelerationVelocityX)>=n||Math.abs(e.__decelerationVelocityY)>=n;return o||(e.__didDecelerationComplete=!0),o},a=function(){e.__isDecelerating=!1,e.__didDecelerationComplete&&e.options.scrollingComplete(),e.scrollTo(e.__scrollLeft,e.__scrollTop,e.options.snapping)};e.__isDecelerating=core.effect.Animate.start(l,r,a)},__stepThroughDeceleration:function(e){var o=this,t=o.__scrollLeft+o.__decelerationVelocityX,_=o.__scrollTop+o.__decelerationVelocityY;if(!o.options.bouncing){var i=Math.max(Math.min(o.__maxDecelerationScrollLeft,t),o.__minDecelerationScrollLeft);i!==t&&(t=i,o.__decelerationVelocityX=0);var l=Math.max(Math.min(o.__maxDecelerationScrollTop,_),o.__minDecelerationScrollTop);l!==_&&(_=l,o.__decelerationVelocityY=0)}if(e?o.__publish(t,_,o.__zoomLevel):(o.__scrollLeft=t,o.__scrollTop=_),!o.options.paging){var n=.95;o.__decelerationVelocityX*=n,o.__decelerationVelocityY*=n}if(o.options.bouncing){var r=0,a=0,c=o.options.penetrationDeceleration,s=o.options.penetrationAcceleration;t<o.__minDecelerationScrollLeft?r=o.__minDecelerationScrollLeft-t:t>o.__maxDecelerationScrollLeft&&(r=o.__maxDecelerationScrollLeft-t),_<o.__minDecelerationScrollTop?a=o.__minDecelerationScrollTop-_:_>o.__maxDecelerationScrollTop&&(a=o.__maxDecelerationScrollTop-_),0!==r&&(r*o.__decelerationVelocityX<=0?o.__decelerationVelocityX+=r*c:o.__decelerationVelocityX=r*s),0!==a&&(a*o.__decelerationVelocityY<=0?o.__decelerationVelocityY+=a*c:o.__decelerationVelocityY=a*s)}}};for(var i in _)ZyngaScroller.prototype[i]=_[i]}();;\nfunction Scroller(t,i,o){this.container=t,this.list=i,this.options=o||{},this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._handleScroll=this._handleScroll.bind(this),this.silentScrolling=!1,this.zyngaScroller=new ZyngaScroller(this._handleScroll,{scrollingX:\"vertical\"===this.options.direction?!1:!0,scrollingY:\"horizontal\"===this.options.direction?!1:!0,bouncing:!!this.options.bouncing,animating:!!this.options.animating,locking:!!this.options.locking,snapping:!!this.options.snapping,animationDuration:\"undefined\"!=typeof this.options.animationDuration?this.options.animationDuration:250,scrollingComplete:deferred(this.emits(\"scrollingEnd\"))}),this.setEasing(\"undefined\"==typeof this.options.easing?!0:this.options.easing),this.redraw()}extend(Scroller.prototype,EventEmitter),Object.defineProperty(Scroller.prototype,\"isDragging\",{get:function(){return this.zyngaScroller.getValues().isDragging}}),Scroller._owner=\"celtra\",Scroller.prototype._handleScroll=function(t,i){t=isNaN(t)?0:t,i=isNaN(i)?0:i;var o=this.getMaxScroll();this.currentPosition={left:t,top:i,leftPercent:o.left?t/o.left:0,topPercent:o.top?i/o.top:0},celtra.styler.css(this.list,\"transform\",ScreenObject.supports3d?\"translate3d(\"+-t+\"px, \"+-i+\"px, 0)\":\"translate(\"+-t+\"px, \"+-i+\"px)\"),this.scrollbars&&(this.currentPosition.sbTop=this.currentPosition.top/(this.list.size.height-this.container.size.height)*(this.container.size.height-parseInt(this.scrollbars.verticalStyle.height,10)),this.currentPosition.sbLeft=this.currentPosition.left/(this.list.size.width-this.container.size.width)*(this.container.size.width-parseInt(this.scrollbars.horizontalStyle.width,10)),this.currentPosition.sbTopPercent=this.currentPosition.sbTop/(this.container.size.height-parseInt(this.scrollbars.verticalStyle.height,10)),this.currentPosition.sbLeftPercent=this.currentPosition.sbLeft/(this.container.size.width-parseInt(this.scrollbars.horizontalStyle.width,10)),this._renderScrollbars(this.currentPosition.sbLeft,this.currentPosition.sbTop)),this.silentScrolling||this.emit(\"scrolling\",this.currentPosition)},Scroller.prototype._handleTouchStart=function(t){this.zyngaScroller.doTouchStart(t.touches,t.timeStamp),this.emit(\"scrollingStart\")},Scroller.prototype._handleTouchMove=function(t){this.zyngaScroller.doTouchMove(t.touches,t.timeStamp)},Scroller.prototype._handleTouchEnd=function(t){this.zyngaScroller.doTouchEnd(t.timeStamp)},Scroller.prototype._createScrollbars=function(){var t=document.createElement(\"div\");addClass(t,\"celtra-vertical-scrollbar\"),addClass(t,this.options.scrollbarPosition||\"none\"),this.container.appendChild(t);var i=document.createElement(\"div\");t.appendChild(i),t.style.height=Math.round(this.container.size.height/this.list.size.height*this.container.size.height)+\"px\",t.style.backgroundColor=this.options.scrollbarColor,t.style.display=this.list.size.height<=this.container.size.height?\"none\":\"block\";var o=document.createElement(\"div\");addClass(o,\"celtra-horizontal-scrollbar\"),addClass(o,this.options.scrollbarPosition||\"none\"),this.container.appendChild(o);var e=document.createElement(\"div\");o.appendChild(e),o.style.width=Math.round(this.container.size.width/this.list.size.width*this.container.size.width)+\"px\",o.style.backgroundColor=this.options.scrollbarColor,o.style.display=this.list.size.width<=this.container.size.width?\"none\":\"block\",this.scrollbars={vertical:t,horizontal:o,verticalStyle:t.style,horizontalStyle:o.style}},Scroller.prototype.scrollTo=function(t,i,o,e,s,n){this._scroll(\"scrollTo\",{left:t,top:i,animate:o,duration:e,easing:s,callback:n})},Scroller.prototype.scrollBy=function(t,i,o,e,s,n){this._scroll(\"scrollBy\",{left:t,top:i,animate:o,duration:e,easing:s,callback:n})},Scroller.prototype._scroll=function(t,i){i.animate&&(\"number\"==typeof i.duration?this._setAnimationDuration(i.duration):\"boolean\"==typeof i.duration&&(i.easing=i.duration),\"boolean\"==typeof i.easing&&this.setEasing(i.easing)),this.once(\"scrollingEnd\",function(){\"function\"==typeof i.callback&&i.callback()}),this.zyngaScroller[t](i.left,i.top,i.animate),this.emit(\"scrollingStart\")},Scroller.prototype.getMaxScroll=function(){return{left:this.zyngaScroller.__maxScrollLeft,top:this.zyngaScroller.__maxScrollTop}},Scroller.prototype.getCurrentScroll=function(){return this.currentPosition},Scroller.prototype._setAnimationDuration=function(t){this.zyngaScroller.options.animationDuration=t},Scroller.prototype.setEasing=function(t){this.options.easing=t,this.zyngaScroller.__publish=function(i,o,e,s){var n=this,r=function(t){return Math.pow(t-1,3)+1},l=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},a=n.__isAnimating;if(a&&(core.effect.Animate.stop(a),n.__isAnimating=!1),s&&n.options.animating){n.__scheduledLeft=i,n.__scheduledTop=o,n.__scheduledZoom=e;var c=n.__scrollLeft,h=n.__scrollTop,p=n.__zoomLevel,d=i-c,u=o-h,_=e-p,g=function(t,i,o){o&&(n.__scrollLeft=c+d*t,n.__scrollTop=h+u*t,n.__zoomLevel=p+_*t,n.__callback&&n.__callback(n.__scrollLeft,n.__scrollTop,n.__zoomLevel))},S=function(t){return n.__isAnimating===t},z=function(t,i,o){i===n.__isAnimating&&(n.__isAnimating=!1),(n.__didDecelerationComplete||o)&&n.options.scrollingComplete(),n.options.zooming&&(n.__computeScrollMax(),n.__zoomComplete&&(n.__zoomComplete(),n.__zoomComplete=null))};n.__isAnimating=t?core.effect.Animate.start(g,S,z,n.options.animationDuration,a?r:l):core.effect.Animate.start(g,S,z,n.options.animationDuration)}else n.__scheduledLeft=n.__scrollLeft=i,n.__scheduledTop=n.__scrollTop=o,n.__scheduledZoom=n.__zoomLevel=e,n.__callback&&n.__callback(i,o,e),n.options.zooming&&(n.__computeScrollMax(),n.__zoomComplete&&(n.__zoomComplete(),n.__zoomComplete=null))}},Scroller.prototype.redraw=function(){this.container.size={width:this.container.offsetWidth,height:this.container.offsetHeight},this.list.size={width:this.list.offsetWidth,height:this.list.offsetHeight},this.zyngaScroller.setDimensions(this.container.size.width,this.container.size.height,this.list.size.width,this.list.size.height),this.options.snapping&&this._setSnapSize(this.container.size.width,this.container.size.height);var t=this.getMaxScroll();this.zyngaScroller.scrollTo(t.left*this.currentPosition.leftPercent,t.top*this.currentPosition.topPercent,!1),this.scrollbars?(this.scrollbars.verticalStyle.height=Math.round(this.container.size.height/this.list.size.height*this.container.size.height)+\"px\",this.scrollbars.horizontalStyle.width=Math.round(this.container.size.width/this.list.size.width*this.container.size.width)+\"px\",this.currentPosition.sbTop=(this.container.size.height-parseInt(this.scrollbars.verticalStyle.height,10))*this.currentPosition.sbTopPercent,this.currentPosition.sbLeft=(this.container.size.width-parseInt(this.scrollbars.horizontalStyle.width,10))*this.currentPosition.sbLeftPercent,this._renderScrollbars(this.currentPosition.sbLeft,this.currentPosition.sbTop)):(\"outer\"===this.options.scrollbarPosition||\"inner\"===this.options.scrollbarPosition)&&this._createScrollbars()},Scroller.prototype._renderScrollbars=function(t,i){ScreenObject.allowPositioningAndSizingUsingTransforms?(celtra.styler.css(this.scrollbars.vertical,\"transform\",ScreenObject.supports3d?\"translate3d(0, \"+i+\"px, 0)\":\"translate(0, \"+i+\"px)\"),celtra.styler.css(this.scrollbars.horizontal,\"transform\",ScreenObject.supports3d?\"translate3d(\"+t+\"px, 0, 0)\":\"translate(\"+t+\"px, 0)\")):(this.scrollbars.verticalStyle.top=i+\"px\",this.scrollbars.horizontalStyle.left=t+\"px\"),this.container.size.height>=this.list.size.height?(this.scrollbars.verticalStyle.display=\"none\",removeClass(this.container,\"vertical-scrollbar\")):(this.scrollbars.verticalStyle.display=\"block\",addClass(this.container,\"vertical-scrollbar\")),this.container.size.width>=this.list.size.width?(this.scrollbars.horizontalStyle.display=\"none\",removeClass(this.container,\"horizontal-scrollbar\")):(this.scrollbars.horizontalStyle.display=\"block\",addClass(this.container,\"horizontal-scrollbar\"))},Scroller.prototype._setSnapSize=function(t,i){this.zyngaScroller.setSnapSize(t,i)};;\nfunction Creative(e,t,r,n,i,a,o,s,u,c,d,m,p){if(e instanceof Creative)throw\"This JSON has already been unfreezed. We do it inline, to improve performance. Duplicate it yourself before unfreezing, if you need to use it again.\";var v=p.start(\"Creative.new\"),f=extend({adapter:a,runtimeParams:t||{},urlOpenedOverrideUrls:s,urlOpenedUrlAppendage:d,clickThroughDestinationUrl:m,storeOpenedOverrideUrls:u,macros:c},o),l=p.start(\"Creative.unfreeze\");return e=Freezer.unfreeze(e,window,f),l.end(),e.instantiation=randInt(),e.batcher=new Batcher({protoLoading:a.protoLoading}),e.trackingCenter=r,e.universalInteractionId=\"\",e.aggregatorTracking=n,e.experiments=i,e.perf=p,e.platformAdvId=t.platformAdvId,e.platformAdvIdTrackingLimited=t.platformAdvIdTrackingLimited,\"undefined\"!=typeof a&&null!==a&&(a.openBrowserSameWindowInHostileIFrame=function(e){window.top.location.href=e}),v.end(),e}Creative.toString=function(){return\"[Clazz Creative]\"},Creative.prototype.toString=function(){return\"[Creative \"+this.name+\"]\"},window.creative=null,extend(Creative.prototype,EventEmitter),Creative.init=function(e,t,r,n,i,a,o,s,u,c,d,m,p){if(window.creative)throw\"creative is a singleton and was already initialized.\";Logger.initFromRuntimeParams(t),window.creative=new Creative(e,t,r,n,i,a,o,s,u,c,d,m,p)},Creative.prototype.userInteracted=function(e){this.emit(\"interaction\",e)},Creative.prototype.clickedThrough=function(e){this.emit(\"clickThrough\",e)},Creative.prototype._getRuntimeParamsWithPrefix=function(e){var t={};for(var r in this.runtimeParams)0===r.indexOf(e)&&(t[r.slice(e.length)]=this.runtimeParams[r]);return t},Object.defineProperties(Creative.prototype,{sessionId:{enumerable:!0,get:function(){return this.runtimeParams.sessionId}},placementId:{enumerable:!0,get:function(){return this.runtimeParams.placementId||null}},folderId:{enumerable:!0,get:function(){return this.runtimeParams.folderId}},supplierId:{enumerable:!0,get:function(){return this.runtimeParams.supplierId||null}},secure:{enumerable:!0,get:function(){return 1==this.runtimeParams.secure}},userParams:{enumerable:!0,get:function(){return this._getRuntimeParamsWithPrefix(\"user.\")}},userIdentifiers:{enumerable:!0,get:function(){return this.runtimeParams.userIdentifiers}},authTokenUrlParam:{enumerable:!1,get:function(){return\"authBasis=\"+creative.runtimeParams.authBasis+\"&authToken=\"+creative.runtimeParams.authToken}},customAudiences:{enumerable:!0,get:function(){return function(e){if(!creative.runtimeParams.customAudiences[e])throw new Error('Custom audience \"'+e+'\" is not used by the creative.');return{userExists:creative.runtimeParams.customAudiences[e].userExists,userData:creative.runtimeParams.customAudiences[e].userData,addUser:function(t){return CustomAudiences.addUser(e,t)},removeUser:function(){return CustomAudiences.removeUser(e)}}}}},acceptLanguage:{enumerable:!0,get:function(){return this.runtimeParams.acceptLanguage}}}),Creative.prototype.awake=function(){function e(r,n,i,a){r.forEach(function(r){r.parentUnit=a,r.parentScreen=i,r.parentContainer=n;var o=r.getNestedContainers();o.forEach(function(n){n.parentUnit=a,n.parentScreen=i,n.parentObject=r,e(n.objects,n,i,a),n.scenes&&t(n.scenes,n,i,a)})})}function t(e,t,r,n){e.forEach(function(e){e.parentUnit=n,e.parentScreen=r,e.parentContainer=t})}var r=this;for(var n in r.units){var i=r.units[n];i.name=n;var a=[];i.variants?i.variants.forEach(function(e){a=a.concat(e.master,e.screens),e.loadingScreen&&(a=[e.loadingScreen].concat(a))}):(a=[i.master].concat(i.screens),i.loadingScreen&&(a=[i.loadingScreen].concat(a))),a.forEach(function(r){r.parentUnit=i,e(r.objects,r,r,i),r.scenes&&t(r.scenes,r,r,i)})}},Creative.prototype.track=function(e,t){[\"firstInteraction\",\"interaction\",\"endCardInteraction\",\"unitCollapsed\",\"creativeDismissed\",\"clickThroughDestinationOpened\",\"firstClickThrough\",\"itemSwiped\"].indexOf(e.name)>=0&&(e=extend(e,{universalInteractionId:this.universalInteractionId})),this.trackingCenter.track(e,t)},Creative.prototype.setUniversalInteractionId=function(e){this.universalInteractionId=e},Creative.prototype.wrapRedirectPageUrl=function(e,t){return this.trackingCenter.wrapRedirectPageUrl(e,t)},Object.defineProperty(Creative.prototype,\"sdk\",{get:function(){return this.adapter},enumerable:!0}),Creative._throw=function(e){throw e},Creative.prototype.getUserInteracted=function(){return 1==this.runtimeParams.userInteracted},Creative.prototype.trackCreativeRendered=function(){creative.adapter.notifycreativeRendered(),this._getCreativeRendered()||(this.track({name:\"creativeRendered\"}),this.runtimeParams.creativeRendered=1,defer(this.trackingCenter.batchFlush))},Creative.prototype._getCreativeRendered=function(){return 1===this.runtimeParams.creativeRendered},Creative.prototype.trackCreativeRenderedOnScreenShow=Creative.prototype.trackCreativeRendered,Creative.prototype.trackCreativeRenderedOnVideoStart=noop,Creative.trackCustomEventAction=function(e,t,r){var n=\"custom\";e.track({name:n,label:t.name}),creative.adapter.sendToEventMonitor(n,t.triggerId,e.screen.name,null,t.name),r&&r()},Creative.prototype.trackCreativeLoaded=function(e){this.track({name:\"creativeLoaded\",viewability00Measurable:e.observingViewability(\"00\"),viewability501Measurable:e.observingViewability(\"501\"),viewableTimeMeasurable:e.observingViewableTime(),cdnVariant:this.runtimeParams.variantChoices.CdnTiming||\"none\"}),defer(this.trackingCenter.batchFlush),this.perf._stopTrackingDefers=!0,this.perf.mark(\"creativeLoaded\")},Creative.prototype.createUserLocation=function(e){return\"undefined\"!=typeof UserLocation?new UserLocation({lat:this.runtimeParams.gpsLat,lng:this.runtimeParams.gpsLng},e):void 0},Creative.prototype.getPageUrl=function(e){return(this.secure?this.creativeUrl:this.insecureCreativeUrl)+e+\"?base64json=\"+encodeURIComponent(btoa(to_utf8(JSON.stringify(this.runtimeParams))))},Creative.prototype.shouldClickThroughToNewWindow=function(e){var t;t=[\"same\",\"new\"].indexOf(this.runtimeParams.preferredClickThroughWindow)>=0?this.runtimeParams.preferredClickThroughWindow:\"new\",creative&&creative.adapter.nesting.hostileIframe&&(t=\"new\");var r=e&&e.inUserInitiatedIteration,n=deviceInfo.os.android()&&deviceInfo.browser.facebookApp();return\"new\"==t&&r&&!n},Creative.prototype.getFeedFields=function(){return FeedData.getCustomFields()},Creative.prototype.getFeedFieldByName=function(e){return FeedData.getCustomFieldByName(e)},Creative.prototype.getAllFeedFieldsByName=function(e){return FeedData.getCustomFields().filter(function(t){return t.name===e})};;\nfunction CrossScreenBanner(){}inherit(CrossScreenBanner,Creative),CrossScreenBanner.toString=function(){return\"[Clazz CrossScreenBanner]\"},CrossScreenBanner.prototype.toString=function(){return\"[CrossScreenBanner \"+this.name+\"]\"},CrossScreenBanner.prototype.awake=function(){CrossScreenBanner.uber.awake.apply(this,arguments),this.adapter.wrapRedirectPageUrl=this.wrapRedirectPageUrl.bind(this),this.units.banner.dismissAction=function(e,n,r){e.track({name:\"creativeDismissed\"}),creative.adapter.dismiss(r,n)}.bind(this),this.units.banner.trackCreativeDismissed=function(){new ActionContext(this.currentScreen).track({name:\"creativeDismissed\"})},this.units.banner.userLocation=this.createUserLocation(!1)};;\nvar Kernel={};Kernel.toString=function(){return\"[Clazz Kernel]\"},Kernel.runInParallelAction=function(e,n,t){n.actions.waitForEach(function(n,t){n(e,t)},t)},Kernel.runInParallelActionDryRun=Kernel.runInParallelAction,Kernel.runInBackgroundAction=function(e,n,t){n.action&&n.action(e,noop),t()},Kernel.runInSequenceAction=function(e,n,t){for(var r=t,i=n.actions.length-1;i>=0;i--)r=function(n,t){return function(){t(e,n)}}(r,n.actions[i]);r()},Kernel.runInSequenceActionDryRun=Kernel.runInSequenceAction,Kernel.runNTimesAction=function(e,n,t){n.caller.hasOwnProperty(\"executionsLeft\")||(n.caller.executionsLeft=n.repeat),n.caller.executionsLeft>0?(n.caller.executionsLeft--,(n.action||nullai)(e,t)):t&&t()},Kernel.runNTimesActionDryRun=function(e,n,t){(n.action||nullai)(e,t)},Kernel.loopAction=function(e,n,t){function r(){return 0==i?t():(-1!=i&&i--,void(n.action||nullai)(e,\"thumb\"===creative.runtimeParams.purpose?t:r))}var i=n.repeat;r()},Kernel.loopActionDryRun=function(e,n,t){(n.action||nullai)(e,t)},Kernel.sleepAction=function(e,n,t){setTimeout(t,n.duration)},Kernel.executeJavascriptAction=function(e,n,t){try{var r=e.initiator,i=e.screen.parentUnit,c=e.screen,a=new Function(\"ctx\",\"c\",\"unit\",\"screen\",\"variant\",n.script.code),o=!1,u=i.getVariantForScreen?i.getVariantForScreen(c):void 0;null!==n.script.code.match(/http:/)&&this._track(\"executeJavascriptAction.code\");var l=function(){o?console.warn('Multiple calls made to \"c()\" from \"'+e.initiator.fieldName+'\" Execute JS Action'):(t(),o=!0)}.bind(this);a.call(r,e,l,i,c,u)}catch(s){console.error(s.message+\"\\n\"+s.stack)}},Kernel.randomAction=function(e,n,t){var r=0;if(n.outcomes.forEach(function(e){r+=e.weight}),!r)return t();for(var i=Math.random()*r,c=0;c<n.outcomes.length;c++){var a=n.outcomes[c];if(i-=a.weight,0>i)return(a.action||nullai)(e,t)}},Kernel.randomActionDryRun=function(e,n,t){n.outcomes.forEach(function(n){(n.action||nullai)(e,noop)}),t()},Kernel.bestAction=function(e,n,t){var r=creative.experiments.get(\"Best\",[creative.id,n.experimentName]);r.trackExposure();var i=n.outcomes.filter(function(e){return e.experimentVariant==r.chosenVariant})[0],c=i?i:n.outcomes[0];(c.action||nullai)(e,t)},Kernel.bestActionDryRun=function(e,n,t){var r=creative.experiments.get(\"Best\",[creative.id,n.experimentName]),i=n.outcomes.filter(function(e){return e.experimentVariant==r.chosenVariant})[0],c=i?i:n.outcomes[0];(c.action||nullai)(e,t)},Kernel.trackBestVariantSuccessAction=function(e,n,t){var r=creative.experiments.get(\"Best\",[creative.id,n.experimentName]);r.trackSuccess(),creative.adapter.sendToEventMonitor(\"trackBestVariantSuccess\",n.triggerId,e.screen.name,r.chosenVariant,\"\"),t()},Kernel._track=function(e){this._privateApiTracked=this._privateApiTracked||{},this._privateApiTracked[e]||(this._privateApiTracked[e]=!0,creative.track({name:\"retiredFeatureUsed\",featureType:\"loadingInsecureContent\",featureName:e}))};;\n;\nfunction Scene(){}Scene.instances=[],Scene.prototype.awake=function(){this._framesPerSecond=this.framesPerSecond&&null!==this.framesPerSecond?this.framesPerSecond:20,this._framesPerPixel=.1,this._durationInFrames=0,this._durationInMilliseconds=0,this._durationInPixels=0,this._isTimeScene=\"time\"===this.type,this._isReactiveScene=\"reactiveBanner\"===this.type,this._lastUpdateObjectsProgress=0,this._objectVisibilityStates=[],this._claimedObjects=[],this._keyframeAnimations=Object.create(null),this._rawInitialValues=[],this._initSceneOnRenderApiCall=!0,this._suspended=!1,this.fallbackFrameShown=!1,this.forceFallbackFrame=!1,this.intersection=\"undefined\"!=typeof this.intersection?this.intersection:50,this.endingMode=\"string\"==typeof this.endingMode?this.endingMode:\"lastKeyframe\",this.duration=\"number\"==typeof this.duration?this.duration:10,this._appearedBefore=!1,this._isAppearing=!1,this._calculateDurations=this._calculateDurations.bind(this),this._buildKeyframeAnimations=this._buildKeyframeAnimations.bind(this),this._removeAnimatedClass=this._removeAnimatedClass.bind(this),this._renderOnSizeChange=this._renderOnSizeChange.bind(this),this._initPlayer(),this.parentContainer.on(\"appeared\",this._appear.bind(this)),this.parentContainer.on(\"disappeared\",this._dissapear.bind(this)),this.parentContainer.on(\"resize\",this._calculateDurations),this.parentContainer.on(\"resize\",this._buildKeyframeAnimations),this.parentContainer.on(\"resize\",this._renderOnSizeChange),this.parentUnit.on(\"layoutChanged\",this._calculateDurations),this.parentUnit.on(\"layoutChanged\",this._buildKeyframeAnimations),this.parentUnit.on(\"layoutChanged\",this._renderOnSizeChange),Scene.instances.push(this)},Scene._sizeProperties=[\"width\",\"height\"],Scene._positionProperties={horizontal:[\"left\",\"hcenter\",\"right\"],vertical:[\"top\",\"vcenter\",\"bottom\"]},Object.defineProperties(Scene.prototype,{paused:{get:function(){return this._player.paused}},_scenePlayerClazz:{get:function(){return window[this.type.charAt(0).toUpperCase()+this.type.slice(1)+\"ScenePlayer\"]},configurable:!0}}),Scene.prototype._initPlayer=function(){this._player=new this._scenePlayerClazz(this),this._player.on(\"stop\",this._resetRawInitialValues.bind(this)),this._player.on(\"end\",this._updateRawFinalValuesForAllLayouts.bind(this)),this._player.on(\"pause\",this._removeAnimatedClass),this._player.on(\"stop\",this._removeAnimatedClass)},Scene.prototype._removeAnimatedClass=function(){for(var e in this._claimedObjects)removeClass(this._claimedObjects[e].node,\"animated\")},Scene.prototype._getMaxFrameNumber=function(){if(this._isTimeScene&&\"timelineDuration\"===this.endingMode)return this.duration*this._framesPerSecond;var e=0;for(var t in this.objects){var i=this.objects[t],n=this.parentUnit.layoutCurrentIndex;for(var a in i.layoutSpecificValues[n]){var s=i.layoutSpecificValues[n][a];e=Math.max(e,s.frame)}}return e},Scene.prototype._calculateDurations=function(){this._durationInFrames=this._getMaxFrameNumber(),this._durationInMilliseconds=this._durationInFrames/this._framesPerSecond*1e3,this._durationInPixels=this._durationInFrames/this._framesPerPixel},Scene.prototype._captureRawInitialValues=function(e){this._rawInitialValues[e.localId]=[];for(var t=this.parentScreen.parentContainer.layouts.length,i=0;t>i;i++){var n=e.layoutSpecificValues[i];this._rawInitialValues[e.localId][i]=extend({rotation:n.rotation,opacity:n.opacity,hidden:n.hidden},n.position,n.size)}},Scene.prototype._calculateFinalValuesForObject=function(e){var t=[];for(var i in this.objects){var n=this.objects[i];if(n.target.localId==e.localId)for(var a in n.layoutSpecificValues){t[a]=Object.create(null);for(var s in n.layoutSpecificValues[a]){var r=n.layoutSpecificValues[a][s];for(var o in r.properties)null!==r.properties[o].value&&(t[a][o]=r.properties[o].value)}}}return t},Scene.prototype._updateRawFinalValuesForAllLayouts=function(){if(\"reverse\"!==this.onEnd)for(var e in this._claimedObjects)for(var t=this._claimedObjects[e],i=this._calculateFinalValuesForObject(t),n=this.parentScreen.parentContainer.layouts.length,a=0;n>a;a++){var s=t.layoutSpecificValues[a],r=i[a];Scene._updateLayoutWithValues(s,r)}},Scene.prototype._buildKeyframeAnimations=function(){this._keyframeAnimations=Object.create(null);for(var e=this.parentUnit.layoutCurrentIndex,t=0;t<this.objects.length;t++){var i=this.objects[t],n=i.layoutSpecificValues[e];this._keyframeAnimations[i.target.localId]={firstFrameAnimated:!1},n.sort(function(e,t){return e.frame-t.frame});for(var a=0,s=Object.create(null),r=0;r<n.length;r++){var o=n[r];a=0===this._durationInFrames?0:o.frame/this._durationInFrames*100,s[String(a)]=Scene._extractPropertyValues(o.properties),0===~~r&&(this._keyframeAnimations[i.target.localId].startKeyframe=a)}this._keyframeAnimations[i.target.localId].endKeyframe=a;var l=KeyframeAnimation.getUsedProperties(s);this._rawInitialValues[i.target.localId]||this._captureRawInitialValues(i.target);var c=this._rawInitialValues[i.target.localId][e];Scene._fillInInitialAndDynamicKeyframeValues(s,c,l);var h=i.target.parentContainer.size;for(var p in s)Scene._keyframeWithUnitsToKeyframePx(s[p],h);var d=new KeyframeAnimation(s,null,l);this._keyframeAnimations[i.target.localId].animation=d}},Scene.prototype._dissapear=function(){(!this._player.paused||this.fallbackFrameShown)&&this._suspendScene(),this._isAppearing=!1},Scene.prototype._appear=function(){this._appearedBefore||(creative.adapter.canMeasureViewportPlacementGeometry?this.parentScreen.parentContainer.inView.on(\"areaInViewRatioChanged\",this._handleAreaInViewRatioChanged.bind(this)):creative.adapter.containerViewabilityObserver&&creative.adapter.on(\"containerViewableChange\",this._handleContainerViewableChange.bind(this))),(this._player.supportsAutoplay&&this.autoPlay&&!this._appearedBefore||this._suspended)&&this._playSceneOrDisplayFallbackFrame(),this._appearedBefore=!0,this._isAppearing=!0},Scene.prototype._initAnimations=function(){for(var e in this.objects){var t=this.objects[e].target;this.claimObject(t)}this._calculateDurations(),this._buildKeyframeAnimations()},Scene.prototype._playSceneOrDisplayFallbackFrame=function(){this._initSceneOnRenderApiCall||this._resetRawInitialValues(),this._initSceneOnRenderApiCall=!0,this.fallbackFrameShown=this._player.supportsFallback&&(!creative.adapter.assumeScrollSupported||this.forceFallbackFrame),!this._player.paused&&this.fallbackFrameShown&&this._player.pause(),this._suspended||this._initAnimations(),this.fallbackFrameShown?this._player.displayFallbackFrame(this.fallbackFrame/this._durationInFrames*100):this._player.play(),this._suspended=!1},Scene.prototype._pauseScene=function(){this._player.pause()},Scene.prototype._stopScene=function(){this._player.stop()},Scene.prototype._resetRawInitialValues=function(){for(var e in this.objects)delete this._rawInitialValues[this.objects[e].target.localId]},Scene.prototype._suspendScene=function(){this._player.pause(),this._suspended=!0},Scene.prototype._handleAreaInViewRatioChanged=function(e){e>0&&this._suspended&&this._isAppearing?this._playSceneOrDisplayFallbackFrame():0!==e||this._player.paused||this._suspendScene()},Scene.prototype._handleContainerViewableChange=function(e){e&&this._suspended&&this._isAppearing?this._playSceneOrDisplayFallbackFrame():e||this._player.paused||this._suspendScene()},Scene.prototype.getDuration=function(){return{frames:this._durationInFrames,pixels:this._durationInPixels,milliseconds:this._durationInMilliseconds}},Scene.prototype._calculateKeyframeStyleAttributes=function(e){var t=this._claimedObjects.indexOf(e);if(-1===t)return{};var i=this._objectVisibilityStates[t],n=e._calculateNewStyleAttributes();return i.isDirty(\"transition\")&&(\"show\"===i.transition?n.display=\"block\":\"hide\"===i.transition&&(n.display=\"none\")),n},Scene.prototype.updateObjects=function(e){for(var t in this._claimedObjects){var i=this._claimedObjects[t];if(i.node){if(i.isAnimated){var n=this._keyframeAnimations[i.localId],a=e>=n.startKeyframe,s=e<=n.endKeyframe||!n.firstFrameAnimated,r=this._lastUpdateObjectsProgress>n.startKeyframe&&e<n.startKeyframe,o=this._lastUpdateObjectsProgress<n.endKeyframe&&e>n.endKeyframe,l=this._isReactiveScene&&(r||o),c=a&&s||this.fallbackFrameShown||l;if(c)n.firstFrameAnimated=!0,hasClass(i.node,\"animated\")||addClass(i.node,\"animated\");else{if(!hasClass(i.node,\"animated\"))continue;removeClass(i.node,\"animated\")}}var h=this._keyframeAnimations[i.localId].animation.getValuesAt(e);Scene._updateLayoutWithValues(i.layoutCurrent,h,this._objectVisibilityStates[t]),i._keyframeStyle=this._calculateKeyframeStyleAttributes(i)}}this._lastUpdateObjectsProgress=e},Scene.prototype.renderObjects=function(){for(var e in this._claimedObjects){var t=this._claimedObjects[e];if(t.node){var i=this._objectVisibilityStates[e];i.isDirty(\"transition\")&&(\"show\"===i.transition?t.showAction(null,{},noop):\"hide\"===i.transition&&t.hideAction(null,{},noop),i.markClean(\"transition\")),t._applyStyles(t.node,t._keyframeStyle),t.redrawSceneLayout()}}},Scene.prototype.getPlayer=function(){return this._player},Scene.prototype.claimObject=function(e){if(-1===this._claimedObjects.indexOf(e)){for(var t=0;t<Scene.instances.length;t++){var i=Scene.instances[t];i!==this&&(i.releaseObject(e),delete this._rawInitialValues[e.localId])}this._claimedObjects.push(e),this._objectVisibilityStates.push(new StateObject({transition:void 0}))}e._keyframeStyle=e._calculateNewStyleAttributes(),Scene._stopScenePlayersWithNoClaimedObjects()},Scene.prototype.releaseObject=function(e){var t=this._claimedObjects.indexOf(e);this._initSceneOnRenderApiCall=!0,-1!==t&&(delete this._claimedObjects[t]._keyframeStyle,this._claimedObjects=this._claimedObjects.slice(0,t).concat(this._claimedObjects.slice(t+1)),this._objectVisibilityStates=this._objectVisibilityStates.slice(0,t).concat(this._objectVisibilityStates.slice(t+1)))},Scene.prototype.renderFirstFrame=function(){this._initAnimations(),this._renderAtProgress(0)},Scene.prototype._renderAtProgress=function(e){e=this.fallbackFrameShown?this.fallbackFrame/this._durationInFrames*100:void 0!==e?e:this._player.progress,this.updateObjects(e),this.renderObjects()},Scene.prototype._renderOnSizeChange=function(e){this._player.paused&&this._claimedObjects.length>0&&(this._renderAtProgress(e),this._removeAnimatedClass())},Scene.prototype.renderAtProgress=function(e){this._player.paused&&void 0!==e&&(this._initSceneOnRenderApiCall&&(this._initSceneOnRenderApiCall=!1,this._initAnimations()),this._renderAtProgress(e))},Scene.prototype.playSceneAction=function(e,t,i){var n=-1===[\"repeat\",\"reverse\"].indexOf(this.onEnd),a=\"repeat\"==this.onEnd&&!isNaN(this.onEndRepeatCount)&&this.onEndRepeatCount>0,s=\"reverse\"==this.onEnd&&!isNaN(this.onEndReverseCount)&&this.onEndReverseCount>0,r=this.onEndWaitForCount&&(a||s);n||r?(this._player.once(\"stop\",i),this._playSceneOrDisplayFallbackFrame()):(this._playSceneOrDisplayFallbackFrame(),i())},Scene.prototype.pauseSceneAction=function(e,t,i){\"time\"===this.type&&(this._pauseScene(),i())},Scene.prototype.stopSceneAction=function(e,t,i){\"time\"===this.type&&(this._stopScene(),i())},Scene.prototype.resetAction=function(e,t,i){this._player&&(this._stopScene(),this._player.destroy()),this._initPlayer(),this._suspended=!1,this._claimedObjects.forEach(function(e){this.releaseObject(e)},this),i()},Scene._extractPropertyValues=function(e){var t=Object.create(null);for(var i in e){var n=e[i].timingFunction;n&&(n.instance=Scene._getTimingFunctionByName(n.id)),t[i]={value:e[i].value,timingFunction:n}}return t},Scene._keyframeWithUnitsToKeyframePx=function(e,t){for(var i=0;i<Scene._sizeProperties.length;i++){var n=Scene._sizeProperties[i];if(n in e){var a=e[n].value,s=parseFloat(a);isNaN(s)||(a.indexOf(\"%\")>-1&&(s=s/100*t[n]),e[n].value=s)}}for(var r in Scene._positionProperties)for(var o=\"horizontal\"==r?\"width\":\"height\",l=Scene._positionProperties[r],c=0;c<l.length;c++){var h=l[c];if(h in e){var p=e[h].value,d=parseFloat(p);isNaN(d)||(p.indexOf(\"%\")>-1&&(d=d/100*t[o]),e[h].value=d)}}},Scene._getTimingFunctionByName=function(e){return e?AnimationTimingFunctions[camelize(e)]:null},Scene._fillInInitialAndDynamicKeyframeValues=function(e,t,i){e[0]||(e[0]=Object.create(null));for(var n in t)!e[0][n]&&i.indexOf(n)>-1&&(e[0][n]={value:t[n],timingFunction:{id:\"none\",instance:Scene._getTimingFunctionByName(\"none\")}});for(var a in e)for(var s in e[a])e[a][s]&&null===e[a][s].value&&(e[a][s].value=t[s])},Scene._ensureSizeOrPositionValueHasUnits=function(e){return e=String(e),e.indexOf(\"%\")>-1||e.indexOf(\"px\")>-1?e:e+\"px\"},Scene._updateLayoutWithValues=function(e,t,i){var n=extend({},e.position),a=!1;for(var s in Scene._positionProperties)for(var r=Scene._positionProperties[s],o=0;o<r.length;o++){var l=r[o];if(l in t){for(var c=0;c<r.length;c++){var h=r[c];delete n[h]}n[l]=Scene._ensureSizeOrPositionValueHasUnits(t[l]),a=!0}}a&&(e.position=n),\"width\"in t&&(e.size.width=Scene._ensureSizeOrPositionValueHasUnits(t.width)),\"height\"in t&&(e.size.height=Scene._ensureSizeOrPositionValueHasUnits(t.height)),\"rotation\"in t&&(e.rotation=t.rotation),\"opacity\"in t&&(e.opacity=t.opacity),\"hidden\"in t&&(i?e.hidden&&!t.hidden?i.transition=\"show\":!e.hidden&&t.hidden&&(i.transition=\"hide\"):e.hidden=t.hidden)},Scene._stopScenePlayersWithNoClaimedObjects=function(){for(var e=0;e<Scene.instances.length;e++){var t=Scene.instances[e];0!=t._claimedObjects.length||t.paused||t._player.stop()}};;\nfunction View(){}extend(View.prototype,EventEmitter),View.prototype.awake=function(){this.node=null,this._loadingCount=null,this._waitingForLoadCallbacks=[],this._isAppearing=!1,this._hasAppearedAtLeastOnce=!1,this._shouldAppear=!1,this.incrementLoadingCount=this.incrementLoadingCount.bind(this),this.decrementLoadingCount=this.decrementLoadingCount.bind(this),this._preloadImage=this._preloadImage.bind(this),this._loadImage=this._loadImage.bind(this),this._trackViewShown=this._trackViewShown.bind(this),this.isTrackable&&this.once(\"appeared\",this._trackViewShown),this.hacks={}},View.prototype.incrementLoadingCount=function(){if(this.loaded)throw\"Starting loads after the view has already finished loading?\";this._loadingCount++},View.prototype.decrementLoadingCount=function(){if(!this.loading)throw\"decrementLoadingCount called while not loading!\";if(!--this._loadingCount){this.finishedLoading();for(var e=this._waitingForLoadCallbacks,t=0;t<e.length;t++)e[t]();this._waitingForLoadCallbacks=[]}},View.prototype._checkAndEnhanceParamsForFileLoading=function(e,t,i){if(!(e instanceof File))throw\"file is not a File\";return\"function\"==typeof t?(i=t,t={}):\"undefined\"==typeof t&&(t={}),{settings:t,callback:i||noop}},View.prototype._preloadImage=function(e,t,i){var n=this._checkAndEnhanceParamsForFileLoading(e,t,i);this.incrementLoadingCount();var a=creative.perf.start(\"View.preloadImage\",{uri:e.getUrl(n.settings.creativeUnitVariantId)});this._loadImage(e,n.settings,function(e,t){a.end(),n.callback(e,t),this.decrementLoadingCount()}.bind(this))},View.prototype._loadImage=function(e,t,i){var n=this._checkAndEnhanceParamsForFileLoading(e,t,i),a=\"batching\"===creative.runtimeParams.variantChoices.BatchComponentAssets,o=a||n.settings.preferBatching,r=new Image,s=!1;return e.getDataUri({preferBatching:o,creativeUnitVariantId:n.settings.creativeUnitVariantId},function(e){s||(n.settings.crossOrigin&&(r.crossOrigin=n.settings.crossOrigin),r.onload=r.onerror=function(){r.onload=r.onerror=null,n.callback(r,e)},r.src=e)}),function(){s=!0,r.onload=r.onerror=null,r.src=\"\"}},View.prototype.finishedLoading=function(){this.emit(\"loaded\")},Object.defineProperty(View.prototype,\"loaded\",{get:function(){return this.node&&!this.loading}}),Object.defineProperty(View.prototype,\"loading\",{get:function(){return this._loadingCount>0}}),View.prototype.createNode=function(){this.on(\"loaded\",creative.perf.start(\"View.load\",{clazz:this.constructor.name,name:this.name}).end);var e=document.createElement(\"div\");\"undefined\"!=typeof creative&&creative.adapter&&creative.adapter.useNativeClickForTapDetection&&(e.style.touchAction=\"manipulation\"),this.localId&&(e.id=\"celtra-object-\"+this.localId);for(var t=this.constructor;t;t=t.uber?t.uber.constructor:void 0)addClass(e,\"celtra\"+t.name.replace(/[A-Z]/g,function(e){return\"-\"+e.toLowerCase()}));return e},View.prototype.getNode=function(e){return this.loaded?e&&defer(e,0,\"View.getNode defer finishedLoadingCallback\",useAsap()):(e&&this._waitingForLoadCallbacks.push(e),this.node||(this.incrementLoadingCount(),this.node=this.createNode(),defer(this.decrementLoadingCount,0,\"View.getNode defer decrementLoadingCount\",useAsap()))),this.node},Object.defineProperty(View.prototype,\"isAppearing\",{get:function(){return this._isAppearing}}),Object.defineProperty(View.prototype,\"hasAppearedAtLeastOnce\",{get:function(){return this._hasAppearedAtLeastOnce}}),View.prototype.appear=function(){var e=\"View APPEAR called on \"+this.constructor.name+\" \"+this.localId+\" (name=\"+this.name+\")\";this.parentContainer&&(e+=\" from \"+this.parentContainer.constructor.name+\" \"+this.parentContainer.localId+\" (name=\"+this.parentContainer.name+\")\"),Logger(\"events.appear\").log(e),this.hidden?this._shouldAppear=!0:this.isAppearing||(this._appear(),this._isAppearing=!0,this._hasAppearedAtLeastOnce=!0,this.emit(\"appeared\"))},View.prototype.disappear=function(){var e=\"View DISAPPEAR called on \"+this.constructor.name+\" \"+this.localId+\" (name=\"+this.name+\")\";this.parentContainer&&(e+=\" from \"+this.parentContainer.constructor.name+\" \"+this.parentContainer.localId+\" (name=\"+this.parentContainer.name+\")\"),Logger(\"events.appear\").log(e),this.isAppearing&&(this._disappear(),this._isAppearing=!1,this._shouldAppear=!1,this.emit(\"disappeared\"))},View.prototype.reset=function(){this.isAppearing&&(this._shouldAppear=this.hidden,this._isAppearing=!this.hidden)},View.prototype._appear=function(){},View.prototype._disappear=function(){},View.prototype.appearNestedObjects=function(){this.objects.forEach(function(e){e.appear()},this)},View.prototype.disappearNestedObjects=function(){this.objects.forEach(function(e){e.disappear()},this)},View.prototype._trackViewShown=function(e){var t={name:\"viewShown\",viewName:this.name,clazz:this.constructor.name};new ActionContext(this,!1).track(extend(t,e))};;\nBaseCreativeUnit.prototype.alert=function(e,t){var a=e.boxWidth||BaseCreativeUnit._defaultModalBoxWidth;e.message=removeHtmlTags(e.message);var i=this._calculateModalDialogActualHeight(e);a<=this.size.width&&i<=this.size.height?this.showModalDialogInPlacement(\"alert\",e,t):(alert(e.message),t())},BaseCreativeUnit.prototype.prompt=function(e,t){var a=e.boxWidth||BaseCreativeUnit._defaultModalBoxWidth,i=this._calculateModalDialogActualHeight(e);if(a<=this.size.width&&i<=this.size.height)this.showModalDialogInPlacement(\"prompt\",e,t);else{var l=prompt(removeHtmlTags(e.message));t(l)}},BaseCreativeUnit.prototype._getUniqueId=function(){var e=new Date,t=e.getTime()+Math.random();return t},BaseCreativeUnit.prototype.showModalDialogInPlacement=function(e,t,a){var i=this._getUniqueId(),l={};l[i]={attachment:\"node\",parentNode:this.node,positioning:\"screen\",type:\"layer\"},creative.adapter.createPlacements(l,function(){function l(e){13==e.keyCode&&(creative.adapter.destroyPlacement(i),o=null,a(C.value))}function r(e){e.preventDefault(),e.stopPropagation()}function n(t){t.preventDefault(),t.stopPropagation(),creative.adapter.destroyPlacement(i),o=null,\"prompt\"==e?a(C.value):a()}function s(e){e.preventDefault(),e.stopPropagation(),creative.adapter.destroyPlacement(i),o=null,a(null)}if(window){var o=creative.adapter.placements[i];o.setZIndex(\"max\"),o.setSize(\"100%\",\"100%\"),o.setPosition(0,0);var d=o.createElement(\"link\");d.rel=\"stylesheet\",d.type=\"text/css\",d.href=creative.resourceUrl+\"runner-min/clazzes/ModalDialogs-Overlay.css\",o.getContainer().appendChild(d);var c=o.createElement(\"div\");addClass(c,\"celtra-alert\"),c.style.display=\"none\";var p=o.createElement(\"div\");addClass(p,\"celtra-alert-dark-overlay\"),c.appendChild(p),this.preventScroll(c);var h=o.createElement(\"div\");if(addClass(h,\"celtra-alert-box\"),t.title&&\"\"!=t.title){var u=o.createElement(\"h1\");addClass(u,\"celtra-alert-title\"),u.innerHTML=t.title,h.appendChild(u)}if(t.title&&\"\"!=t.title&&t.message&&\"\"!=t.message){var v=o.createElement(\"hr\");addClass(v,\"celtra-alert-dark-line\"),h.appendChild(v);var m=o.createElement(\"hr\");addClass(m,\"celtra-alert-light-line\"),h.appendChild(m)}if(t.message&&\"\"!=t.message){var g=o.createElement(\"div\");addClass(g,\"celtra-alert-message\"),g.innerHTML=t.message,g.setAttribute(\"dir\",\"auto\"),\"auto\"!==g.dir&&(g.dir=guessWritingDirection(t.message)||\"ltr\"),h.appendChild(g)}if(\"prompt\"==e){var C=o.createElement(\"input\");addClass(C,\"celtra-alert-input\"),C.value=t.defaultValue||\"\",h.appendChild(C),attach(C,\"keypress\",l)}var f=o.createElement(\"div\");if(addClass(f,\"celtra-alert-ok\"),f.innerHTML=\"OK\",h.appendChild(f),this.preventScroll(h),once(f,\"touchend\",n,!1),\"prompt\"==e&&t.showCancel){addClass(f,\"with-cancel\");var y=o.createElement(\"div\");addClass(y,\"celtra-alert-cancel\"),y.innerHTML=\"CANCEL\",h.appendChild(y),attach(f,\"touchstart\",r,!1),once(y,\"touchend\",s,!1)}c.appendChild(h),o.populate(c,function(){o.show();var e=setInterval(function(){\"absolute\"===celtra.styler.computedCSS(h,\"position\")&&(computedBoxHeight=parseInt(celtra.styler.computedCSS(h,\"height\"),10)+parseInt(celtra.styler.computedCSS(h,\"paddingTop\"),10)+parseInt(celtra.styler.computedCSS(h,\"paddingBottom\"),10),h.style.marginTop=-computedBoxHeight/2+\"px\",h.style.opacity=1,clearInterval(e),e=null)},100)})}}.bind(this))},BaseCreativeUnit.prototype._calculateModalDialogActualHeight=function(e){var t=document.createElement(\"div\");t.style.cssText=\"visibility:hidden; font-family:Helvetica,Arial,sans-serif; font-size:14px; padding-bottom:10px; text-shadow:0 1px 0 rgba(0,0,0,1); width:220px;\",t.innerText=e.message,this.node.appendChild(t);var a=parseInt(window.getComputedStyle(t).getPropertyValue(\"height\"),10),i=a+BaseCreativeUnit._defaultModalBoxHeightWithoutMessage;return this.node.removeChild(t),i},BaseCreativeUnit.prototype.preventScroll=function(e){var t=[\"mousewheel\",\"touchmove\"];t.forEach(function(t){attach(e,t,function(e){e.preventDefault()},!1)})},BaseCreativeUnit._defaultModalBoxWidth=242,BaseCreativeUnit._defaultModalBoxHeightWithoutMessage=75;;\nfunction CreativeUnitWithVariants(){this._uvOverrideSize=null,this.variantSelector=null}inherit(CreativeUnitWithVariants,BaseCreativeUnit),CreativeUnitWithVariants.toString=function(){return\"[Clazz CreativeUnitWithVariants]\"},CreativeUnitWithVariants.prototype.toString=function(){return\"[CreativeUnitWithVariants \"+this.name+\" (\"+this.localId+\")]\"},CreativeUnitWithVariants.prototype.awake=function(){CreativeUnitWithVariants.uber.awake.call(this),this._currentVariant=null,this._fullScreenVariantLockActive=!1,this.preventUVUpdate=!1,this.variants.forEach(function(t,i){t.originalIndex=i}),this.variants=this.variants.filter(function(t){return\"rm\"===t.companionType||!t.companionType}),this.variants.sort(function(t,i){function e(t){return t.minSize.width*t.minSize.height}return e(t.layouts[0])-e(i.layouts[0])}).forEach(function(t){t.parentUnit=this,t.on(\"shareableStateChanged\",function(){this.emit(\"shareableStateChanged\")}.bind(this))},this),this.widthBreakpoints=this._extractBreakpoints(),this.hacks.variantSelectionDeferTime=deviceInfo.browser.firefox()?200:0},Object.defineProperties(CreativeUnitWithVariants.prototype,{size:{get:function(){return this.getAvailableSize()},enumerable:!0,configurable:!1},minimumSize:{get:function(){return{width:this.variants[0].layouts[0].minSize.width,height:this.variants[0].layouts[0].minSize.height}},enumerable:!0,configurable:!1},layoutCurrentIndex:{get:function(){return 0},enumerable:!0,configurable:!1},currentScreen:{get:function(){return this.currentVariant?this.currentVariant.currentScreen:null},enumerable:!0,configurable:!1},currentVariant:{set:function(t){this._currentVariant!==t&&(this._currentVariant=t,this.emit(\"shareableStateChanged\"))},get:function(){return this._currentVariant}},usesUpdatedVariantSelection:{get:function(){return this.variants.some(function(t){return t.scaleUnit})},enumerable:!0,configurable:!1}}),CreativeUnitWithVariants.prototype.getLargestComputedHeight=function(t){return this.variants.reduce(function(i,e){return Math.max(e.getComputedHeight(t),i)},0)},CreativeUnitWithVariants.prototype.updateUnitVariantPrevention=function(t){var i=this.preventUVUpdate!==t;this.preventUVUpdate=t,i&&!t&&this._updateVariant()},CreativeUnitWithVariants.prototype.setUVOverrideSize=function(t,i){this._uvOverrideSize||(this._uvOverrideSize={}),t&&(this._uvOverrideSize.width=t),i&&(this._uvOverrideSize.height=i)},CreativeUnitWithVariants.prototype.setUVOverrideWidth=function(t){this.setUVOverrideSize(t)},CreativeUnitWithVariants.prototype.createNode=function(){var t=CreativeUnitWithVariants.uber.createNode.apply(this,arguments);this.currentVariant=this.getVariantForSize(this._availableSize.width,this._availableSize.height),this.currentVariant.parentContainer=this,this.incrementLoadingCount();var i=this.currentVariant.getNode(function(){this.currentVariant.updateSizeAndPosition(),t.appendChild(i),this.decrementLoadingCount(),this.emit(\"variantChanged\")}.bind(this));return t},CreativeUnitWithVariants.prototype.setAvailableSize=function(t,i){var e=CreativeUnitWithVariants.uber.setAvailableSize.call(this,t,i);return e&&this.loaded&&(this._updateGeometry(t,i),defer(function(){this._lockVariantIfNativeFullscreen(),this._updateVariant(),this.emit(\"resize\")}.bind(this),this.hacks.variantSelectionDeferTime)),e},CreativeUnitWithVariants.prototype._updateGeometry=function(t,i){var e=this.getNode();e.style.width=t+\"px\",e.style.height=i+\"px\"},CreativeUnitWithVariants.prototype._lockVariantIfNativeFullscreen=function(){var t=creative.adapter&&creative.adapter.inNativeFullscreen();!this.lockedToVariant&&t?(this.lockVariantSelectionToCurrentVariant(),this._fullScreenVariantLockActive=!0):this._fullScreenVariantLockActive&&!t&&(this.unlockVariantSelection(),this._fullScreenVariantLockActive=!1)},CreativeUnitWithVariants.prototype._updateVariant=function(){var t,i=this.node;t=this.currentVariant&&this.preventUVUpdate?this.currentVariant:this.getVariantForSize(this.size.width,this.size.height),t.parentContainer=this;var e=this.currentVariant;if(t===this.currentVariant)return void t.updateSizeAndPosition();this.currentVariant=t;var n=t.getNode(function(){n.parentNode||i.appendChild(n),t===this.currentVariant&&(t.updateSizeAndPosition(),t.node.style.display=\"block\",this._isRendering&&t.enterRenderTree(),this.isAppearing&&t.appear()),this.emit(\"variantChanged\")}.bind(this));e&&t!==e&&(this.isAppearing&&e.disappear(),e.node.style.display=\"none\",e.exitRenderTree())},CreativeUnitWithVariants.prototype.goToVariant=function(t,i){return i=i||noop,\"number\"!=typeof t||this.currentVariant.localId===t?defer(function(){i(this.currentVariant)}.bind(this)):(this.lockVariantSelectionToLocalId(t),void(this.lockedToVariant?(this.lockedToVariant.once(\"appeared\",function(){i(this.currentVariant),this.lockedToVariant=null}.bind(this)),this._updateVariant()):defer(function(){i(this.currentVariant)}.bind(this))))},CreativeUnitWithVariants.prototype.getMatchingBreakpoint=function(t){for(var i=this.widthBreakpoints[0],e=1;e<this.widthBreakpoints.length&&!(t<this.widthBreakpoints[e].width);e++)i=this.widthBreakpoints[e];return i},CreativeUnitWithVariants.prototype._extractBreakpoints=function(){var t=[];return this.variants.forEach(function(i){var e=i.baseSize;t.some(function(t){return t.width==e.width})?t.forEach(function(t){t.width==e.width&&(t.height=Math.min(t.height,e.height))}):t.push(e)}.bind(this)),t.sort(function(t,i){return t.width-i.width}),t},CreativeUnitWithVariants.prototype.lockVariantSelectionToSize=function(t){this.lockedToVariant=this.variants.find(function(i){return i.baseSize.width==t.width&&i.baseSize.height==t.height})},CreativeUnitWithVariants.prototype.lockVariantSelectionToLocalId=function(t){this.lockedToVariant=this.variants.filter(function(i){return i.localId===t})[0]},CreativeUnitWithVariants.prototype.lockVariantSelectionToCurrentVariant=function(){this.lockedToVariant=this.currentVariant},CreativeUnitWithVariants.prototype.unlockVariantSelection=function(){this.lockedToVariant=null},CreativeUnitWithVariants.prototype.getVariantForSize=function(t,i){return this._uvOverrideSize&&(this._uvOverrideSize.width&&(t=this._uvOverrideSize.width),this._uvOverrideSize.height&&(i=this._uvOverrideSize.height)),this.lockedToVariant?this.lockedToVariant:\"fittingWidestThenTallest\"===this.variantSelector?UnitVariantSelector.selectFittingWidestThenTallest(this.variants,t,i):\"widestThenTallest\"===this.variantSelector?UnitVariantSelector.selectWidestThenTallest(this.variants,t):\"widestThenShortest\"===this.variantSelector?UnitVariantSelector.selectWidestThenShortest(this.variants,t,i):UnitVariantSelector.selectBestFitByArea(this.variants,t,i,this.usesUpdatedVariantSelection)},CreativeUnitWithVariants.prototype.getVariantForScreen=function(t){for(var i=0;i<this.variants.length;i++)if(this.variants[i].screens.indexOf(t)>-1||this.variants[i].master===t)return this.variants[i];return null},CreativeUnitWithVariants.prototype._appear=function(){this.loaded||Creative._throw(\"Cannot show the unit before it has finished loading.\"),this.isAppearing&&Creative._throw(\"The unit is already appearing.\"),this.node.parentNode||Creative._throw(\"Creative unit must be added to DOM before show() is called. Animations will start on show().\"),Logger(\"unit\").log(\"Showing \"+this),(this.currentVariant.minSize.width>this._availableSize.width||this.currentVariant.minSize.height>this._availableSize.height)&&creative.adapter&&creative.adapter.trackingCenter.track({name:\"userError\",userErrorId:\"unitVariantsDoNotFitPlacement\"}),this.currentVariant.isAppearing||this.currentVariant.appear(),this.inView&&(this.inView.start(),this.currentVariant&&this.currentVariant.inView&&this.currentVariant.inView.start())},CreativeUnitWithVariants.prototype._disappear=function(){this.isAppearing||Creative._throw(\"The unit is not appearing, can not disappear.\"),Logger(\"unit\").log(\"Hiding \"+this),this.inView&&this.inView.stop()},CreativeUnitWithVariants.prototype.enterRenderTree=function(){this._isRendering||(this._isRendering=!0,this.currentVariant.updateSizeAndPosition(),this.currentVariant.enterRenderTree())},CreativeUnitWithVariants.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this.currentVariant&&this.currentVariant.exitRenderTree())},CreativeUnitWithVariants.prototype.goToScreenAction=function(t,i,e){return i.screen?(extend(i,i.animation),void i.screen.parentContainer.goToScreen(i.screen,i,e)):(console.warn(\"Go to screen action is called without a destination page!\"),e&&e())},CreativeUnitWithVariants.prototype.findAll=function(t){var i=[];return this.currentVariant.findAll(t).forEach(function(t){i.push(t)}),i},CreativeUnitWithVariants.prototype.findByType=function(t){var i=[];return this.currentVariant.findByType(t).forEach(function(t){i.push(t)}),i};;\nfunction CreativeUnitVariant(){}inherit(CreativeUnitVariant,View),extend(CreativeUnitVariant.prototype,TriggerHost),extend(CreativeUnitVariant.prototype,ScreenTransitioner),extend(CreativeUnitVariant.prototype,FeedImageOptimizationTrait),CreativeUnitVariant.toString=function(){return\"[Clazz CreativeUnitVariant]\"},CreativeUnitVariant.prototype.toString=function(){return\"[CreativeUnitVariant \"+this.minSize.width+\"\u00d7\"+this.minSize.height+\" (\"+this.localId+\")]\"},Object.defineProperty(CreativeUnitVariant.prototype,\"isTrackable\",{get:function(){return!0}}),CreativeUnitVariant.prototype._getDestinationScreen=function(){var e=this.screens[0];if(\"modal\"==this.parentUnit.name&&\"undefined\"!=typeof creative.runtimeParams.goToPageAfterExpand){var t=creative.runtimeParams.goToPageAfterExpand;if(\"string\"!=typeof t)throw new TypeError(\"Only string type is allowed to reference destination screen!\");var i=this.screens.filter(function(e){return e.title===t});i.length>0&&(e=i[0])}return e},CreativeUnitVariant.prototype.awake=function(){CreativeUnitVariant.uber.awake.apply(this,arguments),this._isRendering=!1,this._isMasterShown=!1,this._currentScreen=null,this.visibleScreen=null,this.triggers=this.triggers||[],this._preloadReachableScreens=this._preloadReachableScreens.bind(this),this.screens.forEach(function(e){e.objects.forEach(function(e){e.zIndex+=ScreenObject._zIndexOffset})})},CreativeUnitVariant.prototype.createNode=function(){var e=CreativeUnitVariant.uber.createNode.apply(this,arguments);if(this.incrementLoadingCount(),this.parentContainer.inView&&(this.inView=new InViewObject(this,this.parentContainer.inView)),this.screenHolder=document.createElement(\"div\"),this.screenHolder.className=\"celtra-screen-holder\",e.appendChild(this.screenHolder),this.borderColor&&this.borderSize>0){var t=document.createElement(\"div\");t.className=\"celtra-creative-border\",t.style.borderColor=this.borderColor,t.style.borderWidth=this.borderSize+\"px\",e.appendChild(t)}var i=2,n=function(){--i||this.decrementLoadingCount()}.bind(this);return this.screenHolder.appendChild(this.master.getNode(n)),this.screenHolder.appendChild(this._getDestinationScreen().getNode(n)),e.style.background=this.backgroundColor,this.screens.forEach(function(e){e.on(\"enteredRenderTree\",function(){this.parentContainer.node.style.background=this.currentScreen.showOverflow?this.backgroundColor:\"\"}.bind(this))}.bind(this)),e},Object.defineProperties(CreativeUnitVariant.prototype,{size:{get:function(){return\"responsive\"==this.sizing?{width:Math.max(this.parentUnit.size.width,this.minSize.width),height:Math.max(this.parentUnit.size.height,this.minSize.height)}:{width:this.minSize.width,height:this.minSize.height}},enumerable:!0,configurable:!1},minSize:{get:function(){return{width:this.currentLayout.minSize.width,height:this.currentLayout.minSize.height}},enumerable:!0,configurable:!1},baseSize:{get:function(){return{width:this.minSize.width,height:this.revealCollapsedHeight?this.revealCollapsedHeight:this.minSize.height}},enumerable:!0,configurable:!1},currentLayout:{get:function(){return this.layouts[0]},enumerable:!0,configurable:!1},currentScreen:{set:function(e){this._currentScreen!==e&&(this._currentScreen=e,this.emit(\"shareableStateChanged\"))},get:function(){return this._currentScreen}}}),CreativeUnitVariant.prototype.getComputedHeight=function(e){return this.scaleUnit?Math.max(this.baseSize.height,Math.ceil(e*(this.baseSize.height/this.baseSize.width))):this.baseSize.height},CreativeUnitVariant.prototype.enterRenderTree=function(){this._isRendering||(this._isRendering=!0,this.updateSizeAndPosition(),this.master.enterRenderTree(),this.visibleScreen&&this.visibleScreen.enterRenderTree(),this.emit(\"enteredRenderTree\"))},CreativeUnitVariant.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this.master&&(this.master.loaded?this.master.exitRenderTree():this.master.once(\"loaded\",this.master.exitRenderTree.bind(this.master))),this.visibleScreen&&(this.visibleScreen.loaded?this.visibleScreen.exitRenderTree():this.visibleScreen.once(\"loaded\",this.visibleScreen.exitRenderTree.bind(this.visibleScreen))),this.emit(\"exitedRenderTree\"))},CreativeUnitVariant.prototype._trackViewShown=function(){new ActionContext(this,!1).track({name:\"viewShown\",viewName:this.currentLayout.designTimeSize.width+\" x \"+this.currentLayout.designTimeSize.height,clazz:this.constructor.name,designSize:this.currentLayout.designTimeSize,availableSize:this.parentUnit.getAvailableSize()})},CreativeUnitVariant.prototype._appear=function(){var e=this.currentScreen;this.currentScreen||(e=this._getDestinationScreen());var t=function(){this.inView&&(this.inView.start(),e&&e.inView&&e.inView.start())}.bind(this);\"LeanLoading\"===e.title?creative.adapter.waitForWindowLoad(function(){this.goToScreen(e),t()}.bind(this)):(this.goToScreen(e),t())},CreativeUnitVariant.prototype._disappear=function(){this.master.disappear(),this.currentScreen.disappear(),this.inView&&this.inView.stop()},CreativeUnitVariant.prototype.inViewTriggerSetup=function(){var e=!1;this.triggers.forEach(function(t){(\"enterView\"===t.type||\"leaveView\"===t.type)&&(e=!0,this.inViewAreaRatio=0)},this),e&&this.inView.on(\"areaInViewRatioChanged\",this.triggerInView.bind(this))},CreativeUnitVariant.prototype.updateSizeAndPosition=function(){var e=this.getNode();e.style.width=this.size.width+\"px\",e.style.height=this.size.height+\"px\",\"center\"==this.currentLayout.unitAlignment.horizontal?(e.style.left=\"50%\",e.style.right=\"auto\",e.style.marginLeft=-this.size.width/2+\"px\"):(e.style.marginLeft=0,\"left\"==this.currentLayout.unitAlignment.horizontal?(e.style.left=0,e.style.right=\"auto\"):(e.style.right=0,e.style.left=\"auto\")),\"center\"==this.currentLayout.unitAlignment.vertical?(e.style.top=\"50%\",e.style.bottom=\"auto\",e.style.marginTop=-this.size.height/2+\"px\"):(e.style.marginTop=0,\"top\"==this.currentLayout.unitAlignment.vertical?(e.style.top=0,e.style.bottom=\"auto\"):(e.style.bottom=0,e.style.top=\"auto\")),this.emit(\"resize\")},CreativeUnitVariant.prototype.findAll=function(e){var t=[];return this.screens.forEach(function(i){(\"undefined\"==typeof e||i.title==e)&&t.push(i),i.findAll(e).forEach(function(e){t.push(e)})}),t},CreativeUnitVariant.prototype.find=function(e){var t=this.findAll(e);return t.length>0?t[0]:null},CreativeUnitVariant.prototype.findByType=function(e){var t=[];return\"undefined\"==typeof e?result:(this.screens.forEach(function(i){i.findByType(e).forEach(function(e){t.push(e)})}),t)};;\nfunction ScreenObjectContainer(){}inherit(ScreenObjectContainer,View),ScreenObjectContainer.toString=function(){return\"[Clazz ScreenObjectContainer]\"},ScreenObjectContainer.prototype.toString=function(){return\"[ScreenObjectContainer \"+this.localId+\"]\"},ScreenObjectContainer.prototype.appear=function(){ScreenObjectContainer.uber.appear.call(this),ScreenObjectContainer.uber.appearNestedObjects.call(this)},ScreenObjectContainer.prototype.disappear=function(){ScreenObjectContainer.uber.disappearNestedObjects.call(this),ScreenObjectContainer.uber.disappear.call(this)};;\nfunction Screen(){}inherit(Screen,ScreenObjectContainer),extend(Screen.prototype,TriggerHost),extend(Screen.prototype,SceneHost),extend(Screen.prototype,DiscoverableTrait),Screen.toString=function(){return\"[Clazz Screen]\"},Screen.prototype.toString=function(){return\"[Screen \"+this.localId+\" (name=\"+this.title+\")]\"},Object.defineProperty(Screen.prototype,\"name\",{get:function(){return this.title}}),Object.defineProperty(Screen.prototype,\"size\",{get:function(){return this.parentContainer.size}}),Screen.prototype.awake=function(){ScreenObjectContainer.uber.awake.apply(this,arguments),this._isRendering=!1,this.appearedAtLeastOnce=!1,this._updateSize=this._updateSize.bind(this),this.handleShake=this.handleShake.bind(this),this.handleShakeFallback=this.handleShakeFallback.bind(this)},Screen.prototype.isFirstScreen=function(){return this===this.parentContainer.screens[0]},Screen.prototype.isLoadingScreen=function(){return this===this.parentContainer.loadingScreen},Screen.prototype.isMasterScreen=function(){return this===this.parentContainer.master},Screen.prototype.isNormalScreen=function(){return!this.isMasterScreen()&&!this.isLoadingScreen()},Object.defineProperty(Screen.prototype,\"parentUnitVariant\",{get:function(){return\"CreativeUnitWithVariants\"==this.parentUnit.constructor.name?(this._parentContainer||(this._parentContainer=this.parentUnit.getVariantForScreen(this)),this._parentContainer):null}}),Object.defineProperty(Screen.prototype,\"parentContainer\",{get:function(){return this.parentUnitVariant||this.parentUnit}}),Screen.prototype.createNode=function(){Logger(\"unit\").log(\"Starting to load \"+this),!this.isLoadingScreen()&&creative.experiments.get(\"TrackingLoadingTimes\")&&this.once(\"loaded\",creative.aggregatorTracking.trackAggregatorMagicTriplet(\"screenLoad\",{unitName:this.parentUnit.name,screenRank:this.isFirstScreen()?\"First\":this.isMasterScreen()?\"Master\":\"Other\"},3e4)),this.nestedSceneHosts=[];var e=Screen.uber.createNode.call(this);return e.style.overflow=this.showOverflow?\"visible\":\"hidden\",this.objects.forEach(function(t){this.incrementLoadingCount(),e.appendChild(t.getNode(this.decrementLoadingCount))},this),this.parentContainer.on(\"resize\",this._updateSize),e.style.width=e.style.height=\"100%\",this.parentContainer.inView&&(this.inView=new InViewObject(this,this.parentContainer.inView),this.inViewTriggerSetup()),this._updateSize(),e},Screen.prototype.initImmediatelyPlayedScenes=function(){this._initImmediatelyPlayedScenes(),this.nestedSceneHosts.forEach(function(e){e._initImmediatelyPlayedScenes()})},Screen.prototype._appear=function(){var e=!this.appearedAtLeastOnce;this.appearedAtLeastOnce=!0;var t=new ActionContext(this,{certainlyNotCausedByUserBehavior:!!this.parentUnit.firstAppearWithoutUserInteraction&&e&&(this.isFirstScreen()||this.isMasterScreen())});this!==this.parentContainer.loadingScreen&&this!==this.parentContainer.master&&(t.track({name:\"screenShown\"}),creative.trackCreativeRenderedOnScreenShow()),e?this.fireTriggers(\"firstAppear\",null,function(){defer(function(){this.fireTriggers(\"appear\",null,noop,t)}.bind(this),void 0,void 0,useAsap())}.bind(this),t):this.fireTriggers(\"appear\",null,noop,t),this.inView&&this.inView.start(),this._shakeListenerStart()},Screen.prototype._shakeListenerStart=function(){this.hasTriggers(\"shake\")&&(this.shakeListener||(this.shakeListener=new ShakeListener),this.shakeListener.on(\"shake\",this.handleShake),this.shakeListener.on(\"shakeFallback\",this.handleShakeFallback),this.shakeListener.start())},Screen.prototype._shakeListenerStop=function(){this.shakeListener&&(this.shakeListener.off(\"shake\",this.handleShake),this.shakeListener.off(\"shakeFallback\",this.handleShakeFallback),this.shakeListener.stop())},Screen.prototype._disappear=function(){this.inView&&this.inView.stop(),this._shakeListenerStop()},Screen.prototype.handleShakeFallback=function(){if(this.parentUnit.currentScreen===this){var e=new ActionContext(this,!1);this.fireTriggers(\"shake\",function(t,i){var n=2,r=1e3*(\"undefined\"!=typeof t.fallbackEmitDelay?t.fallbackEmitDelay:n);return\"undefined\"==typeof t.fallbackCustomActionSet||\"event-actions\"===t.fallbackCustomActionSet?setTimeout(function(){this.triggerActionByLocalId(e,{localId:i.localId},noop)}.bind(this),r):setTimeout(function(){this.triggerActionByLocalId(e,{localId:t.fallbackCustomActionSet},noop)}.bind(this),r),!1}.bind(this),null,e)}},Screen.prototype.handleShake=function(e){if(this.parentUnit.currentScreen===this){var t=new ActionContext(this,!1);this.fireTriggers(\"shake\",function(t,i){var n=t.direction&&t.direction.indexOf(e)>-1,r=!1,a=!1,s=500;return n?(clearTimeout(i.shakeTimeout),i.shakeStartTime||(i.shakeStartTime=new Date),r=t.duration&&(new Date).getTime()-i.shakeStartTime.getTime()>=t.duration,i.shakeTimeout=setTimeout(function(){delete i.shakeStartTime,i.triggered=!1},s),r&&!i.triggered&&(a=!0,i.triggered=!0),a):!1}.bind(this),null,t)}},Screen.prototype.enterRenderTree=function(){this._isRendering||(this._isRendering=!0,this.emit(\"enteredRenderTree\"))},Screen.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this.emit(\"exitedRenderTree\"))},Screen.prototype._updateSize=function(){this.emit(\"resize\")},Screen.prototype.finishedLoading=function(){Screen.uber.finishedLoading.call(this),Logger(\"unit\").log(\"Finished loading \"+this)},Screen.prototype.triggerBeforeAppear=function(e){var t=new ActionContext(this,{certainlyNotCausedByUserBehavior:!!this.parentUnit.firstAppearWithoutUserInteraction&&!this.appearedAtLeastOnce&&(this.isFirstScreen()||this.isMasterScreen())});this.fireTriggers(\"beforeAppear\",null,e,t)},Screen.prototype.triggerOrientationChange=function(e){this.fireTriggers(\"orientationChange\",null,e)},Screen.prototype.getMaxZIndex=function(){var e=0;return this.objects.forEach(function(t){t.zIndex>e&&(e=t.zIndex)}),e},Screen.prototype.inViewTriggerSetup=function(){var e=!1;this.triggers.forEach(function(t){(\"enterView\"===t.type||\"leaveView\"===t.type)&&(e=!0,this.inViewAreaRatio=0)},this),e&&this.inView.on(\"areaInViewRatioChanged\",this.triggerInView.bind(this))},Screen.prototype.triggerInView=function(e){var t=new ActionContext(this),i=\"enterView\",n=this.inViewAreaRatio,r=e,a=function(e,t){return e.parameters.area-t.parameters.area};e<this.inViewAreaRatio&&(i=\"leaveView\",r=this.inViewAreaRatio,n=e,a=function(e,t){return t.parameters.area-e.parameters.area}),this.fireSortedTriggers(i,function(e){var t=e.area/100;return t>=n&&r>=t},null,t,a),this._getTriggers(i,function(e){var t=e.area/100;return t>=n&&r>=t}),this.inViewAreaRatio=e},Screen.prototype.getActionsExecutedOnAppear=function(){var e=!this.appearedAtLeastOnce,t=new ActionContext(this,{certainlyNotCausedByUserBehavior:!!this.parentUnit.firstAppearWithoutUserInteraction&&e&&(this.isFirstScreen()||this.isMasterScreen())}),i=this.fireTriggersDryRun(\"beforeAppear\",null,noop,t);return e&&(i=i.concat(this.fireTriggersDryRun(\"firstAppear\",null,noop,t))),i.concat(this.fireTriggersDryRun(\"appear\",null,noop,t))},Screen.prototype.resetAction=function(e,t,i){var n=this.findAll(),r=n.length,a=function(){this._shakeListenerStop(),this._shakeListenerStart(),i()}.bind(this);r?n.forEach(function(i){i.resetAction(e,t,function(){--r||a()})}):a()},Screen.prototype.shuffleAction=function(e,t,i){function n(e){for(var t,i,n=e.length;0!==n;)i=Math.floor(Math.random()*n),n-=1,t=e[n],e[n]=e[i],e[i]=t;return e}var r=n(t.objects.map(function(e){return JSON.parse(JSON.stringify(e.layoutSpecificValues))}));t.objects.forEach(function(e,t){e.layoutSpecificValues.forEach(function(e,i){e.position=r[t][i].position}),e._refreshDisplayState()}),i&&i()},Screen.prototype._trackViewShown=function(){Screen.uber._trackViewShown.call(this,{isMasterScreen:this.isMasterScreen(),isLoadingScreen:this.isLoadingScreen()})};;\nfunction NestedContainer(){}inherit(NestedContainer,ScreenObjectContainer),extend(NestedContainer.prototype,TriggerHost),NestedContainer.toString=function(){return\"[Clazz NestedContainer]\"},NestedContainer.prototype.toString=function(){return\"[NestedContainer \"+this.localId+\"]\"},NestedContainer.prototype.createNode=function(){var e=NestedContainer.uber.createNode.call(this);return this.node=e,this._updateSize=this._updateSize.bind(this),this.enterRenderTree=this.enterRenderTree.bind(this),this.exitRenderTree=this.exitRenderTree.bind(this),this.parentObject.on(\"enteredRenderTree\",this.enterRenderTree),this.parentObject.on(\"exitedRenderTree\",this.exitRenderTree),this.objects.forEach(function(t){this.incrementLoadingCount(),e.appendChild(t.getNode(this.decrementLoadingCount))}.bind(this)),0===this.objects.length&&addClass(e,\"empty\"),this.parentObject.parentContainer.on(\"resize\",this._updateSize),e},NestedContainer.prototype.redrawLayout=function(){this.node.style.width=this.layoutCurrent.size.width,this.node.style.height=this.layoutCurrent.size.height,this.node.style.position=\"relative\",this.node.style.overflow=\"hidden\"},NestedContainer.prototype._updateSize=function(){this.redrawLayout(),this.emit(\"resize\")},NestedContainer.prototype.enterRenderTree=function(){this.emit(\"enteredRenderTree\"),this._updateSize()},NestedContainer.prototype.exitRenderTree=function(){this.emit(\"exitedRenderTree\")},NestedContainer.prototype.onFocus=function(e){this.hasTriggers(\"itemFocus\")&&this.fireTriggers(\"itemFocus\",null,e,new ActionContext(this.parentObject))},NestedContainer.prototype.onBlur=function(e){this.hasTriggers(\"itemBlur\")&&this.fireTriggers(\"itemBlur\",null,e,new ActionContext(this.parentObject))},Object.defineProperty(NestedContainer.prototype,\"layoutCurrent\",{get:function(){return this.layoutSpecificValues[this.parentUnit.layoutCurrentIndex]}}),Object.defineProperties(NestedContainer.prototype,{size:{get:function(){var e,t=this.layoutCurrent.size,i=parseFloat(t.width),n=parseFloat(t.height);return t.width.toString().indexOf(\"%\")>-1&&(e=this.parentObject.getNaturalSize(),i=e.width*i/100),t.height.toString().indexOf(\"%\")>-1&&(e||(e=this.parentObject.getNaturalSize()),n=e.height*n/100),{width:Math.round(i),height:Math.round(n)}}}});;\nfunction ScreenObject(){}inherit(ScreenObject,View),extend(ScreenObject.prototype,TriggerHost),extend(ScreenObject.prototype,DiscoverableTrait),extend(ScreenObject.prototype,ClickPreventer),ScreenObject.requiresRedrawToTriggerAnimationEvents=android(\"4.0\"),ScreenObject.redrawTriggerInterval=60,ScreenObject.toString=function(){return\"[Clazz ScreenObject]\"},ScreenObject.prototype.toString=function(){return\"[ScreenObject \"+this.localId+\" (name=\"+this.name+\")]\"},ScreenObject.allowPositioningAndSizingUsingTransforms=!android(\"2.2\",\"2.3\")||celtra.iframe(),ScreenObject._zIndexOffset=1e4,ScreenObject._resettableProperties=[\"position\",\"size\",\"rotation\",\"zIndex\",\"opacity\",\"hidden\"],ScreenObject._3dTransformBlacklisted=function(t){return/Silk\\/\\d|Kindle Fire| KFTT | KFOT | KFJWI | KFJWA |\\bGT-P3100\\b| HTC[ _]One[ _]S /.test(t)||/\\bGT-I9300\\b/.test(t)&&android(\"4.0\")}(navigator.userAgent),ScreenObject.supports3d=function(){var t=\"WebKitCSSMatrix\"in window&&\"m11\"in new WebKitCSSMatrix||\"MSCSSMatrix\"in window||/Gecko\\//.test(navigator.userAgent);return t&&!this._3dTransformBlacklisted}(),ScreenObject.requires3dTranslateForPositioning=/GT-I9500|GT-I9505|SM-N900|GT-P5210|SM-T520/.test(navigator.userAgent),ScreenObject.dummyImageSpacer=windows(\"10\"),ScreenObject._toPositionPx=function(t,e,i){var n,r,o,s,a=i.width,c=i.height,h=e.width,u=e.height;return[\"left\",\"right\",\"hcenter\"].forEach(function(e){e in t&&(n=e)}),[\"bottom\",\"top\",\"vcenter\"].forEach(function(e){e in t&&(r=e)}),o=t[n],s=t[r],o=o.indexOf(\"%\")>-1?a*parseFloat(o)/100:parseFloat(o),\"hcenter\"===n?o=(a-h)/2+o:\"right\"===n&&(o=a-(o+h)),s=s.indexOf(\"%\")>-1?c*parseFloat(s)/100:parseFloat(s),\"vcenter\"===r?s=(c-u)/2+s:\"bottom\"===r&&(s=c-(s+u)),{x:ScreenObject._roundIfNeeded(o),y:ScreenObject._roundIfNeeded(s)}},ScreenObject._toSizePx=function(t,e){var i=parseFloat(t.width),n=parseFloat(t.height),r=e.width,o=e.height;return t.width.toString().indexOf(\"%\")>-1&&(i=r*i/100),t.height.toString().indexOf(\"%\")>-1&&(n=o*n/100),{width:ScreenObject._roundIfNeeded(i),height:ScreenObject._roundIfNeeded(n)}},ScreenObject._roundIfNeeded=function(t){return Math.round(t)},Object.defineProperty(ScreenObject.prototype,\"layoutCurrent\",{get:function(){return null==this.layoutCurrentIndex?this.layoutSpecificValues[0]:this.layoutSpecificValues[this.layoutCurrentIndex]},enumerable:!0,configurable:!1}),Object.defineProperty(ScreenObject.prototype,\"layoutCurrentIndex\",{get:function(){return this.parentUnit.layoutCurrentIndex},enumerable:!0,configurable:!1}),ScreenObject._Position=function(t,e){this._instance=t,this._position=e},Object.defineProperties(ScreenObject._Position.prototype,{x:{get:function(){return this._position.x},set:function(t){delete this._instance.layoutCurrent.right,delete this._instance.layoutCurrent.hcenter,this._instance.layoutCurrent.position.left=t+(\"number\"==typeof t?\"px\":\"\")}},y:{get:function(){return this._position.y},set:function(t){delete this._instance.layoutCurrent.bottom,delete this._instance.layoutCurrent.vcenter,this._instance.layoutCurrent.position.top=t+(\"number\"==typeof t?\"px\":\"\")}}}),ScreenObject._Size=function(t,e){this._instance=t,this._size=e},Object.defineProperties(ScreenObject._Size.prototype,{width:{get:function(){return this._size.width},set:function(t){this._instance.layoutCurrent.size.width=t+(\"number\"==typeof t?\"px\":\"\")}},height:{get:function(){return this._size.height},set:function(t){this._instance.layoutCurrent.size.height=t+(\"number\"==typeof t?\"px\":\"\")}}}),Object.defineProperties(ScreenObject.prototype,{position:{get:function(){var t=ScreenObject._toPositionPx(this.layoutCurrent.position,this.size,this.parentContainer.size);return new ScreenObject._Position(this,t)},set:function(t){delete this.layoutCurrent.position.right,delete this.layoutCurrent.position.hcenter,delete this.layoutCurrent.position.bottom,delete this.layoutCurrent.position.vcenter,this.layoutCurrent.position.left=t.left,this.layoutCurrent.position.top=t.top}},originalSize:{get:function(){var t=this.layoutCurrentIndex||0;return ScreenObject._toSizePx(JSON.parse(this.originalLayoutSpecificValues)[t].size,this.parentContainer.size)},set:function(){throw new Error(\"originalSize is not settable!\")}},size:{get:function(){var t=ScreenObject._toSizePx(this.layoutCurrent.size,this.parentContainer.size);return new ScreenObject._Size(this,t)},set:function(t){this.layoutCurrent.size.width=t.width,this.layoutCurrent.size.height=t.height}},opacity:{get:function(){return this.layoutCurrent.opacity},set:function(t){this.layoutCurrent.opacity=t}},rotation:{get:function(){return this.layoutCurrent.rotation},set:function(t){this.layoutCurrent.rotation=t}},hidden:{get:function(){return this.layoutCurrent.hidden},set:function(t){this.layoutSpecificValues.forEach(function(e){e.hidden=t})}}}),ScreenObject.getCSSTranslate=function(t,e){return ScreenObject.requires3dTranslateForPositioning?\"translate3d(\"+t+\"px,\"+e+\"px, 0)\":\"translate(\"+t+\"px,\"+e+\"px)\"},ScreenObject.prototype.awake=function(){ScreenObject.uber.awake.call(this),this.originalLayoutSpecificValues=JSON.stringify(this.layoutSpecificValues),this.originalZIndex=this.zIndex,this.finishAnimation=this.finishAnimation.bind(this),this._refreshDisplayState=this._refreshDisplayState.bind(this)},ScreenObject.prototype.enterRenderTree=function(){this._isRendering||(this._isRendering=!0,this.emit(\"enteredRenderTree\"))},ScreenObject.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this._isInMouseOver&&trigger(this.node,\"mouseout\",!1),this.emit(\"exitedRenderTree\"))},ScreenObject.prototype.react=function(t){var e=this.parentUnit.getRxStateObject(),i=function(){this._isRendering&&t.call(this,e)}.bind(this);null!==e&&(this._rxListeners.push(i),Ticker.frame(i,\"render\"))},ScreenObject.prototype.appearNestedObjects=function(){this.getNestedContainers().forEach(function(t){t.appear(),t.appearNestedObjects(t.objects)},this)},ScreenObject.prototype.disappearNestedObjects=function(){this.getNestedContainers().forEach(function(t){t.disappearNestedObjects(t.objects),t.disappear()},this)},ScreenObject.prototype.initTemplates=function(){var t=this.templates={},e=this.constructor.templates;if(e){for(var i in e)\"string\"==typeof e[i]&&(e[i]=tmpl(e[i]));extend(t,e)}},ScreenObject.prototype.tmpl=function(t,e,i){this.templates||this.initTemplates();var n=this.templates[t];return n?n.call(i||this,e):\"Missing template: \"+t},ScreenObject.prototype.template=function(t,e,i){var n,r=document.createElement(\"div\");r.innerHTML=this.tmpl(t,e);var o=r.firstChild;if(i)for(;n=r.firstChild;)i.appendChild(n);return o},ScreenObject.prototype.ifNotClosing=function(t,e,i){var n=this.fireTriggersDryRun(t,null,noop,e)._actions,r=[\"dismiss\",\"collapse\"],o=!n.some(function(t){return r.indexOf(t.method)>-1});o&&i()},ScreenObject.prototype.createNode=function(){this._isInMouseOver=!1;var t=this,e=ScreenObject.uber.createNode.call(t);if(e.style.position=\"absolute\",this.hasTriggers(\"tap\")&&(addClass(e,\"touchable\"),attach(e,\"tap\",function(){var e=new ActionContext(t,!0);t.ifNotClosing(\"tap\",e,e.trackUserInteraction),t.fireTriggers(\"tap\",null,null,e)},!1)),deviceInfo.deviceType.desktop()){var i=\"mouseOver\",n=[];if(this.hasTriggers(i)){var r=this._getTriggers(i,null),o=[],s=noop;r.forEach(function(t){t.parameters&&t.parameters.delay&&o.indexOf(t.parameters.delay)<0&&o.push(t.parameters.delay)}),attach(e,\"mouseover\",function(){var e=new ActionContext(t,!0),r=function(n){return function(){t.fireTriggers(i,function(t){return t.delay==n},null,e)}};t._isInMouseOver=!0,o.forEach(function(t,e){s=r(t),n[e]=setTimeout(s,t)})},!1)}attach(e,\"mouseout\",function(){var e=new ActionContext(t,!0);t._isInMouseOver=!1,n.forEach(clearTimeout),n=[],t.hasTriggers(\"mouseOut\")&&t.fireTriggers(\"mouseOut\",null,null,e)},!1)}return attach(e,\"touchstart\",function(){if(t.hasTriggers(\"touchstart\")){var e=new ActionContext(t,!0);t.ifNotClosing(\"touchstart\",e,e.trackUserInteraction),t.fireTriggers(\"touchstart\",null,null,e)}},!1),attach(e,\"touchend\",function(){if(t.hasTriggers(\"touchend\")){var e=new ActionContext(t,!0);t.ifNotClosing(\"touchend\",e,e.trackUserInteraction),t.fireTriggers(\"touchend\",null,null,e)}},!1),this.hasTriggers(\"swipe\")&&(attach(e,\"touchstart\",function(t){t.stopPropagation()}),new SwipeListener({target:e,swipeNodeGetter:function(){return this.parentUnit.node}.bind(this),swipe:function(e,i){var n=new ActionContext(t,!0);t.fireTriggers(\"swipe\",function(r){var o=e==r.direction&&i>=r.length;return o&&t.ifNotClosing(\"swipe\",n,n.trackUserInteraction),o},null,n)}})),attach(e,\"transitionend\",function(t){t.stopPropagation()},!1),this.parentContainer.on(\"resize\",this._refreshDisplayState),this.parentContainer.on(\"enteredRenderTree\",function(){this.hidden||this.enterRenderTree()}.bind(this)),this.parentContainer.on(\"exitedRenderTree\",function(){this.hidden||this.exitRenderTree()}.bind(this)),this.layoutPrevious=this.layoutCurrent,this.parentUnit.on(\"layoutChanged\",this.handleLayoutChanged.bind(this)),this.initClickPrevention(function(){return this.node}.bind(this)),this._applyStyles(e,this._calculateNewStyleAttributes()),this.positionUsingTransforms()||deviceInfo.browser.safari(\"9.0.0\",null)||(e.style.outline=\"1px solid transparent\"),this._rxListeners=[],e},ScreenObject.prototype.positionUsingTransforms=retFalse,ScreenObject.prototype.sizeUsingTransforms=retFalse,ScreenObject.prototype.isValid=retTrue,ScreenObject.prototype.getNaturalSize=function(){return this.originalSize},ScreenObject.prototype._calculateNewStyleAttributes=function(){var t={transform:\"\",transformOrigin:\"50% 50%\"},e=this.getNaturalSize(),i=this.position.x,n=this.position.y;if(this.sizeUsingTransforms()&&(i+=ScreenObject._roundIfNeeded((this.size.width-e.width)/2),n+=ScreenObject._roundIfNeeded((this.size.height-e.height)/2)),this.positionUsingTransforms()?(t.left=\"0\",t.top=\"0\",(i||n)&&(t.transform+=ScreenObject.getCSSTranslate(i,n))):(t.left=i+\"px\",t.top=n+\"px\"),(this.isAnimated||0!=this.rotation)&&(t.transform+=\" rotate(\"+this.rotation+\"deg) \"),this.sizeUsingTransforms()){t.width=e.width+\"px\",t.height=e.height+\"px\";var r=this.size.width/e.width,o=this.size.height/e.height;t.transform+=\" scale(\"+r+\", \"+o+\")\"}else t.width=this.size.width+\"px\",t.height=this.size.height+\"px\";return t.zIndex=this.zIndex,t.opacity=this.opacity,t.display=this.hidden?\"none\":\"block\",t},ScreenObject.prototype._applyStyles=function(t,e){e&&Object.keys(e).forEach(function(i){celtra.styler.css(t,i,e[i])})},ScreenObject.prototype._refreshDisplayState=function(){if(this.node){var t=this._calculateNewStyleAttributes(),e=!1;for(var i in t){var n=String(t[i]).replace(/^\\s*|\\s*$/g,\"\"),r=celtra.styler.css(this.node,i),o=null;celtra.styler.css(this.node,i)!==n&&(o=n,r!=o&&\"zIndex\"!=i&&\"display\"!=i&&(e=!0))}return this._applyStyles(this.node,t),this.redrawLayout(),e}},ScreenObject.prototype.finishAnimation=function(){this.node&&void 0!==celtra.styler.css(this.node,\"transitionDuration\")&&(celtra.styler.css(this.node,\"transitionDuration\",\"1ms\"),this.node.offsetWidth,celtra.styler.css(this.node,\"transitionDuration\",\"\"))},ScreenObject.prototype.handleLayoutChanged=function(){var t=function(){this.layoutPrevious.hidden&&!this.layoutCurrent.hidden?this.enterRenderTreeAndAppear(!0):!this.layoutPrevious.hidden&&this.layoutCurrent.hidden&&this.parentContainer._isRendering&&this.exitRenderTree(),this.layoutPrevious=this.layoutCurrent}.bind(this);ios()?defer(t):t(),this.finishAnimation(),this._refreshDisplayState()},ScreenObject.prototype.redrawLayout=function(){},ScreenObject.prototype.redrawSceneLayout=function(){this.redrawLayout()},ScreenObject.prototype._checkAndEnhanceParamsForFileLoading=function(t,e,i){var n=ScreenObject.uber._checkAndEnhanceParamsForFileLoading.call(this,t,e,i);return n.settings.creativeUnitVariantId=this.parentScreen.parentContainer.localId,n},ScreenObject.prototype._preloadImage=function(t,e,i){var n=this._checkAndEnhanceParamsForFileLoading(t,e,i);ScreenObject.uber._preloadImage.call(this,t,n.settings,n.callback)},ScreenObject.prototype._loadImage=function(t,e,i){var n=this._checkAndEnhanceParamsForFileLoading(t,e,i);ScreenObject.uber._loadImage.call(this,t,n.settings,n.callback)},ScreenObject.prototype.setPosition=function(t,e){this.position={left:t+\"px\",top:e+\"px\"},this._refreshDisplayState()},ScreenObject.prototype.getPosition=function(){return{x:this.position.x,y:this.position.y}},ScreenObject.prototype.setSize=function(t,e){this.size.width=t,this.size.height=e,this._refreshDisplayState()},ScreenObject.prototype.getSize=function(){return{width:this.size.width,height:this.size.height}},ScreenObject.prototype.setOpacity=function(t){this.opacity=t,this._refreshDisplayState()},ScreenObject.prototype.getOpacity=function(){return this.opacity},ScreenObject.prototype.animateAction=function(t,e,i){function n(t){return!isNaN(parseFloat(t))&&isFinite(t)}function r(t){var e={position:{},size:{width:null,height:null},zIndex:null,opacity:null,rotation:null};return deep(e,t),e}function o(t,e){var i=e.size,n=t.size;null==i.width&&(i.width=n.width),null==i.height&&(i.height=n.height),t.size=i;var r=t.position,o=e.position,s=null,a=null,c=null,h=null;[\"left\",\"right\",\"hcenter\"].forEach(function(t){t in r&&(s=t),t in o&&(c=t)}),[\"bottom\",\"top\",\"vcenter\"].forEach(function(t){t in r&&(a=t),t in o&&(h=t)}),c&&null!==o[c]&&(delete r[s],r[c]=o[c]),h&&null!==o[h]&&(delete r[a],r[h]=o[h]),null!=e.rotation&&(t.rotation=e.rotation),null!=e.opacity&&(t.opacity=e.opacity),null!=e.zIndex&&(t.zIndex=e.zIndex)}i=i||noop,this.isAnimated=!0;var s=\"undefined\"!=typeof e.duration?e.duration:1e3,a=e.timingFunction||\"linear\";if(e.layoutSpecificValues)e.layoutSpecificValues.forEach(function(t,e){this.layoutSpecificValues[e]&&o(this.layoutSpecificValues[e],r(t))}.bind(this));else{var c=r(e.properties);null!=c.position.x&&(c.position.left=c.position.x+\"px\"),null!=c.position.y&&(c.position.top=c.position.y+\"px\"),null!=c.zIndex&&(c.zIndex=c.zIndex+ScreenObject._zIndexOffset,this.zIndex=c.zIndex),null!=c.size.width&&n(c.size.width)&&(c.size.width+=\"px\"),null!=c.size.height&&n(c.size.height)&&(c.size.height+=\"px\"),o(this.layoutCurrent,c)}var h=this.node;celtra.styler.css(h,\"transition\",\"\"),celtra.styler.css(h,\"transitionProperty\",\"all\"),celtra.styler.css(h,\"transitionDuration\",s+\"ms\"),celtra.styler.css(h,\"transitionTimingFunction\",a);var u=this._refreshDisplayState();if(s>0&&u){var l=!1,p=function(){l||(l=!0,i())};ScreenObject.requiresRedrawToTriggerAnimationEvents&&!function(){var t=Date.now(),e=t+(Number(s)||0),i=function(){flash(),Date.now()<e&&setTimeout(i,ScreenObject.redrawTriggerInterval)};i()}(),setTimeout(p,(Number(s)||0)+500,!0),once(h,\"transitionend\",function(){celtra.styler.css(h,\"transition\",\"\"),setTimeout(p,0,!1)},!1)}else{celtra.styler.css(h,\"transition\",\"\");var d=s>0?s:0;setTimeout(i,d)}},ScreenObject.prototype.enterRenderTreeAndAppear=function(t){t&&this.parentScreen._isRendering&&this.enterRenderTree(),t&&!this.isAppearing&&this._shouldAppear&&this.appear()},ScreenObject.prototype.scaleAction=function(t,e,i){var n=e.useOriginalSize?this.originalSize:this.size,r=e.scale/100,o={width:n.width*r,height:n.height*r},s={x:this.position.x+this.size.width/2-o.width/2,y:this.position.y+this.size.height/2-o.height/2};this.animateAction(t,{properties:{position:s,size:o},duration:e.duration,timingFunction:e.timingFunction},i)},ScreenObject.prototype.showAction=function(t,e,i){var n=this.hidden;this.hidden=!1,this.node.style.display=\"block\",this.enterRenderTreeAndAppear(n),this.node.offsetWidth,nextFrame(i)},ScreenObject.prototype.hideAction=function(t,e,i){var n=this.hidden;this.hidden=!0,this.node.style.display=\"none\",!n&&this.parentScreen._isRendering&&(this.isAppearing&&(this.disappear(),this._shouldAppear=!0),this.exitRenderTree()),setTimeout(i,0)},ScreenObject.prototype.isHidden=function(){return this.hidden},ScreenObject.prototype.resetAction=function(t,e,i){this.layoutSpecificValues=JSON.parse(this.originalLayoutSpecificValues),this.reset(),this.zIndex=this.originalZIndex,this.finishAnimation(),this._refreshDisplayState(),defer(i)},ScreenObject.prototype.addStyle=function(t){var e=\"#celtra-object-\"+this.localId,i=this.node,n=/^:(link|visited|active|hover|focus|first-child|nth-child|nth-last-child|nth-of-type|first-of-type|last-of-type|empty|target|checked|enabled|disabled)/,r=/,\\s*/g;this.styleNode||(this.styleNode=document.createElement(\"style\"),i||(i=document.getElementsByTagName(\"head\")[0]),i.appendChild(this.styleNode));var o=[];for(var s in t)o.push({selector:s.split(r).map(function(t){return e+(n.test(t)?\"\":\" \")+t}).join(\",\"),attributes:t[s]});var a=this._styleSheetTemplate({rules:o});this.styleNode.textContent+=a},ScreenObject.prototype._styleSheetTemplate=tmpl(\"<% for (var i = 0; i < rules.length; i++) { %><%= rules[i].selector %> { <%= rules[i].attributes %> }\\n<% } %>\"),ScreenObject.prototype.css=function(t,e){\"undefined\"==typeof e&&(e=t,t=this.getNode()),Object.keys(e).forEach(function(i){celtra.styler.css(t,i,e[i])})},ScreenObject.prototype.getNestedContainers=function(){return[]},ScreenObject.prototype.getActiveContainers=function(){return this.getNestedContainers()};;\nfunction Hotspot(){}inherit(Hotspot,ScreenObject),Hotspot.toString=function(){return\"[Clazz Hotspot]\"},Hotspot.prototype.toString=function(){return\"[Hotspot \"+this.localId+\"]\"},Hotspot.prototype.createNode=function(){var t=Hotspot.uber.createNode.call(this);return addClass(t,\"touchable\"),attach(t,\"tap\",this.handleTap),t},Hotspot.prototype.handleTap=function(t){t.stopPropagation()};;\nfunction Group(){}inherit(Group,ScreenObject),Group.toString=function(){return\"[Clazz Group]\"},Group.prototype.toString=function(){return\"[Group \"+this.localId+\"]\"},Group.prototype.createNode=function(){var t=Group.uber.createNode.call(this);return this.incrementLoadingCount(),t.appendChild(this.content.getNode(this.decrementLoadingCount)),t},Group.prototype.getNestedContainers=function(){return[this.content]},Group.prototype.positionUsingTransforms=ios(\"8\")?retFalse:retTrue,Group.prototype.sizeUsingTransforms=retTrue,Group.prototype.getNaturalSize=function(){return this.originalSize},Group.prototype._appear=function(){this.appearNestedObjects()},Group.prototype._disappear=function(){this.disappearNestedObjects()};var ObjectGroup=Group;;\nfunction Picture(){}inherit(Picture,ScreenObject),extend(Picture.prototype,FeedImageCreator),Picture.toString=function(){return\"[Clazz Picture]\"},Picture.prototype.toString=function(){return\"[Picture \"+this.localId+\"]\"},Picture.prototype.createNode=function(){var e={};\"string\"==typeof this.imageSourceFeedFieldKey&&(FeedData.checkAndTrackValue(this.imageSourceFeedFieldKey,this.imageSourceFeedRowIndex,this.constructor.name,\"imageSourceFeedFieldKey\"),this.file=this._createFeedImageFile(\"imageSource\",this.imageSourceFeedRowIndex));var i=Picture.uber.createNode.call(this);return this.file===this.placeholderFile?(\"string\"==typeof this.imageSourceFeedFieldKey||this._newFileWasSet||(addClass(i,\"empty\"),this._preloadImage(new File(\"runner/image-placeholder.png\"),function(e,t){this._isSettingFileInProgress||(i.style.backgroundImage=\"url(\"+t+\")\")}.bind(this))),i):(this.file&&this._preloadImage(this.file,e,function(e){this._newFileWasSet||this._handlePreloadedImage(i,e)}.bind(this)),i)},Picture.prototype.awake=function(){Picture.uber.awake.call(this),this.placeholderFile=new File(\"runner/image-placeholder.png\"),this.placeholderFile.meta={height:28,width:28},this.file||(this.file=this.placeholderFile),this._originalFile=this.file,this._newFileWasSet=!1},Picture.prototype._handlePreloadedImage=function(e,i){this.file.dynamic&&(this.file.meta={height:i.naturalHeight,width:i.naturalWidth});var t=\"\",r=\"\",a=\"no-repeat\";this.imagePosition&&(t=this.imagePosition.replace(\"-\",\" \"));var s=this.sizeUsingTransforms()?this.getNaturalSize():this.size,h=this.fittingSize;switch(\"fitUpToOriginal\"===this.fittingSize&&(h=s.width<this.file.width||s.height<this.file.height?\"fit\":\"original\"),h){case\"original\":r=this.file.width+\"px \"+this.file.height+\"px\";break;case\"fit\":r=\"contain\";break;case\"fill\":r=\"cover\";break;case\"repeat\":r=this.file.width+\"px \"+this.file.height+\"px\",a=\"repeat\";break;case\"stretch\":default:r=\"100% 100%\"}var n=document.createElement(\"div\");if(n.style.cssText=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\",n.style.backgroundImage=\"url('\"+(i.src||\"\").replace(\"'\",\"-\")+\"')\",n.style.backgroundPosition=t,n.style.backgroundSize=r,n.style.backgroundRepeat=a,ScreenObject.dummyImageSpacer){var l=document.createElement(\"img\");l.style.cssText=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\",l.src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\",n.appendChild(l)}e.appendChild(n)},Picture.prototype.positionUsingTransforms=function(){var e=!(ios(\"8\",null)||desktop()&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent));return e&&this.isAnimated},Picture.prototype.sizeUsingTransforms=Picture.prototype.positionUsingTransforms,Picture.prototype.getNaturalSize=function(){if(!this.file)return Picture.uber.getNaturalSize.call(this);var e,i,t,r,a=this.file.width,s=this.file.height,h=a/s,n=this.originalSize.width,l=this.originalSize.height,o=n/l,c=2048;return\"original\"==this.fittingSize||\"fitUpToOriginal\"==this.fittingSize||\"repeat\"==this.fittingSize?{width:n,height:l}:\"stretch\"==this.fittingSize?{width:a,height:s}:(e=h>o&&\"fit\"==this.fittingSize||o>h&&\"fill\"==this.fittingSize,i=o>h&&\"fit\"==this.fittingSize||h>o&&\"fill\"==this.fittingSize,t=a,r=s,e?r=a/n*l:i&&(t=s/l*n),t>c&&(r*=c/t,t=c),r>c&&(t*=c/r,r=c),{width:t,height:r})},Picture.prototype.getImageUrl=function(){return this.file?this.file.getUrl():void 0};;\nfunction Fallback(){}inherit(Fallback,ScreenObject),Fallback.toString=function(){return\"[Clazz Fallback]\"},Fallback.prototype.toString=function(){return\"[Fallback \"+this.localId+\"]\"},Fallback.prototype.createNode=function(){var e=Fallback.uber.createNode.call(this),t=this._getChosenContainer();return t.getActionsExecutedOnAppear=function(){return t.fireTriggersDryRun(\"conditionMet\",null,noop,new ActionContext(this))}.bind(this),this.incrementLoadingCount(),e.appendChild(t.getNode(this.decrementLoadingCount)),e},Object.defineProperty(Fallback.prototype,\"isTrackable\",{get:function(){return!0}}),Fallback.prototype._appear=function(){var e=this._getChosenContainer();e.appear();var t=new ActionContext(this);e.fireTriggers(\"conditionMet\",null,noop,t),this._contentAvailable&&t.track({name:\"contentAvailable\"})},Fallback.prototype._disappear=function(){this._getChosenContainer().disappear()},Fallback.prototype._getChosenContainer=function(){if(\"undefined\"!=typeof this._selectedContainer)return this._selectedContainer;var e=this.contentFields.length>0,t=e&&this.contentFields.every(function(e){var t=FeedData.getFieldRowsByKey(e.feedFieldKey).slice(0,e.requestedRows);return t.length>0&&t.every(function(e){return\"string\"==typeof e.value})}),n=e&&this.contentFields.every(function(e){return FeedData.isCorrectFieldType(e.feedFieldKey,e.initiator,e.property)});return this._contentAvailable=t&&n,this._selectedContainer=this._contentAvailable?this.availableContent:this.notAvailableContent,this._selectedContainer},Fallback.prototype.getNestedContainers=function(){return[this.availableContent,this.notAvailableContent]},Fallback.prototype.getActiveContainers=function(){return[this._getChosenContainer()]},Fallback.prototype.positionUsingTransforms=retTrue,Fallback.prototype.sizeUsingTransforms=retTrue,Fallback.prototype.getNaturalSize=function(){return this.originalSize};;\nfunction Texty(){}inherit(Texty,ScreenObject),extend(Texty.prototype,TextStyleIntegrator),Texty.toString=function(){return\"[Clazz Texty]\"},Texty.prototype.toString=function(){return\"[Texty \"+this.localId+\"]\"},Texty.prototype.awake=function(){Texty.uber.awake.call(this),this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._handleTouchCancel=this._handleTouchCancel.bind(this),this._originalText=this.text,this._adaptToContentStrategy=\"none\",this._adaptToContentInProgress=!1,this._textCharactersEnclosedWithSpanElements=!1,this._lineBreakOptimizationStrategy=this.lineBreakOptimizationStrategy||\"none\",this._shortestLineToLongestLineMinRatio=this.shortestLineToLongestLineMinRatio||.25,this._maxPaddingToSizeRatio=this.maxPaddingToSizeRatio||.25,this._originalTextColor=this.textColor,this._originalFont=this.font},Texty.prototype.createNode=function(){var t=Texty.uber.createNode.call(this);this.scroller=null,this._autoscrolling=!1,this._listeningForTouches=!1,this._sanitizeText=!0,this._processSpecialChars=!1;var e=this.getFontSize(),i=this._getNaturalFontSize();if(this._fontScaleFactor=e/i,this._lineHeightRatio=1,this._letterSpacingRatio=1,this._responsiveFontSize=this._getNaturalFontSize(),this._fontIsLoading=!1,\"string\"==typeof this.textColorFeedFieldKey&&FeedData.checkAndTrackValue(this.textColorFeedFieldKey,this.textColorFeedRowIndex,this.constructor.name,\"textColorFeedFieldKey\"),\"string\"==typeof this.textContentFeedFieldKey){FeedData.checkAndTrackValue(this.textContentFeedFieldKey,this.textContentFeedRowIndex,this.constructor.name,\"textContentFeedFieldKey\");var n=\"\",o=FeedData.getFieldValueByKey(this.textContentFeedFieldKey,this.textContentFeedRowIndex);\"string\"==typeof o&&FeedData.isCorrectFieldType(this.textContentFeedFieldKey,this.constructor.name,\"textContentFeedFieldKey\")&&(n=o),this.text=n,this._processSpecialChars=!0}if(this.isTemplateField&&(this._processSpecialChars=!0),this._initialText=this.text,this._initialProcessSpecialChars=this._processSpecialChars,this._initialScaleFont=this.scaleFont,this._scrollContainer=document.createElement(\"div\"),this._scrollContainer.className=\"scroll-container\",this._textContainer=document.createElement(\"div\"),this._textContainerClone=document.createElement(\"div\"),this._textContainerClone.style.display=\"none\",this._textContainerResponsive=document.createElement(\"div\"),this._textContainerResponsive.style.visibility=\"hidden\",(deviceInfo.browser.chrome(null,\"48\")||\"Samsung Browser\"===deviceInfo.browser.name)&&this._setTextContainerStyle(\"textRendering\",\"geometricPrecision\"),this.scrollable&&(this.scroller=new Scroller(t,this._textContainer,{direction:\"vertical\",animating:!0,easing:!0,locking:!1,scrollbarPosition:this.scrollbarPosition,scrollbarColor:this.scrollbarColor})),\"string\"==typeof this.textFontFeedFieldKey){FeedData.checkAndTrackValue(this.textFontFeedFieldKey,this.textFontFeedRowIndex,this.constructor.name,\"textFontFeedFieldKey\");var s,o=FeedData.getFieldValueByKey(this.textFontFeedFieldKey,this.textFontFeedRowIndex);\"string\"==typeof o&&FeedData.isCorrectFieldType(this.textFontFeedFieldKey,this.constructor.name,\"textFontFeedFieldKey\")&&(s=creative.fonts.find(function(t){return t.typefaceId===o})),this.font=s}if(this.font instanceof FontBase){var a=0===this.text.trim().length;this._updateTextContent(),this.initializeFont(a),this.font.needsLoading()&&!a&&(this._fontIsLoading=!0,this.font.loadStyle(function(){this._fontIsLoading=!1,this._handleSizeUpdate(!0)}.bind(this)))}return this._scrollContainer.appendChild(this._textContainer),this._scrollContainer.appendChild(this._textContainerClone),this._scrollContainer.appendChild(this._textContainerResponsive),t.appendChild(this._scrollContainer),this._startListeningForTouches(),t},Texty.prototype._appear=function(){this._handleSizeUpdate(!0)},Texty.prototype.redrawLayout=function(){this._handleSizeUpdate(!0)},Texty.prototype.redrawSceneLayout=function(){this._handleSizeUpdate(!1)},Texty.prototype._handleSizeUpdate=function(t){if(!(this.font&&this.font.needsLoading()&&this._fontIsLoading)){var e=null,i=this.node&&document.body.contains(this.node),n=this.responsiveFont||this.textAlignVertical>0||\"none\"!==this._adaptToContentStrategy||\"none\"!==this._lineBreakOptimizationStrategy;this.node&&this.node.parentNode&&!i&&n&&(e=this.node.parentNode,document.body.appendChild(this.node)),this._updateTextSizeAndAlignment(t),this._shrinkContentSizeToOptimizeLineBreaks(),this._adaptComponentSizeToContentSize(),this._updateScrollbar(),e&&e.appendChild(this.node)}},Texty.prototype._overrideNaturalSize=function(t,e){this.setSize(t,e);var i=this.layoutCurrentIndex||0,n=JSON.parse(this.originalLayoutSpecificValues);n[i].size={width:t+\"px\",height:e+\"px\"},this.originalLayoutSpecificValues=JSON.stringify(n)},Texty.prototype._updateTextSizeAndAlignment=function(t){this._setTextContainerStyle(\"paddingLeft\",this.getTextPaddingLeft()+\"px\"),this._setTextContainerStyle(\"paddingRight\",this.getTextPaddingRight()+\"px\"),this._setTextContainerStyle(\"paddingTop\",this.getTextPaddingTop()+\"px\"),this._setTextContainerStyle(\"marginTop\",\"\"),this.responsiveFont||(this.applyTextSize(this._textContainer),this.applyTextSize(this._textContainerClone)),this._horizontallyRealignTextWithPadding(),t&&this._adjustFontSizeToFitContainer(),this._verticallyAlignText()},Texty.prototype._shrinkContentSizeToOptimizeLineBreaks=function(){if(\"none\"!==this._lineBreakOptimizationStrategy&&\"pre-line\"===this.textWhiteSpace){var t=!1,e=5*this._fontScaleFactor,i=0,n=this._getLinesProperties(),o=n.length;if(!(1>=o))do{if(t=!1,n=this._getLinesProperties(),n.length>o){i-=e,this._setPaddingRelativeToAlignment(i);break}var s=\"all\"===this._lineBreakOptimizationStrategy?this._getShortestLineLength(n):n[n.length-1].width;s<this._shortestLineToLongestLineMinRatio*this._getLongestLineLength(n)&&(i+=e,this._setPaddingRelativeToAlignment(i),i<this._maxPaddingToSizeRatio*this.size.width&&(t=!0))}while(t)}},Texty.prototype._setPaddingRelativeToAlignment=function(t){switch(this._getHorizontalAlignment()){case\"left\":this._textContainer.style.paddingRight=this.getTextPaddingRight()+t+\"px\";break;case\"right\":this._textContainer.style.paddingLeft=this.getTextPaddingLeft()+t+\"px\";break;case\"center\":this._textContainer.style.paddingLeft=this.getTextPaddingLeft()+t/2+\"px\",this._textContainer.style.paddingRight=this.getTextPaddingRight()+t/2+\"px\"}},Texty.prototype._adaptComponentSizeToContentSize=function(){if(\"none\"!==this._adaptToContentStrategy&&!this._adaptToContentInProgress&&!this.scaleFont&&\"pre-line\"===this.textWhiteSpace){var t=this._getLinesProperties(),e=this._getLongestLineLength(t),i=t[t.length-1];if(0!==e&&i){var n=Math.max(1,this._responsiveFontSize*this._lineHeightRatio),o=i.height-n+t[0].top,s=Math.ceil(e)+this._getNaturalTextPaddingLeft()+this._getNaturalTextPaddingRight(),a=Math.ceil(i.top+i.height-o)+this._getNaturalTextPaddingTop()+this._getNaturalTextPaddingBottom();this.responsiveFont&&(a=Math.max(a,this._getContentSizeOfResponsiveContainer().height/this._fontScaleFactor+this._getNaturalTextPaddingTop())),s=Math.min(this.size.width,s),a=Math.min(this.size.height,a),\"vertical\"===this._adaptToContentStrategy?s=this.size.width:\"horizontal\"===this._adaptToContentStrategy&&(a=this.size.height);var r=this.position.x,h=this.position.y,l=this._getHorizontalAlignment();\"center\"===l?r=this.position.x+(this.size.width-s)/2:\"right\"===l&&(r=this.position.x+(this.size.width-s)),\"50\"===this.textAlignVertical?h=this.position.y+(this.size.height-a)/2:\"100\"===this.textAlignVertical&&(h=this.position.y+(this.size.height-a)),this._adaptToContentInProgress=!0,this._overrideNaturalSize(s,a),this.setPosition(r,h),this._adaptToContentInProgress=!1,this.emit(\"componentSizeUpdated\")}}},Texty.prototype._getHorizontalAlignment=function(){switch(this.textAlign){case\"justify\":return\"center\";case\"start\":return\"ltr\"===window.getComputedStyle(this._textContainer).direction?\"left\":\"right\";case\"end\":return\"ltr\"===window.getComputedStyle(this._textContainer).direction?\"right\":\"left\";default:return this.textAlign}},Texty.prototype._getContentSizeOfResponsiveContainer=function(){var t=this._textContainerResponsive.getBoundingClientRect(),e=(parseInt(t.height,10)-t.height)*this._fontScaleFactor,i=(parseInt(t.width,10)-t.width)*this._fontScaleFactor,n=this._textContainerResponsive.scrollHeight+e,o=this._textContainerResponsive.scrollWidth+i;return{width:o,height:n}},Texty.prototype._setTextContainerStyle=function(t,e){this._textContainer.style[t]=e,this._textContainerClone.style[t]=e,this._textContainerResponsive.style[t]=e},Texty.prototype._setTextContainerAutomaticDirection=function(t){\"auto\"!==this.textDirection&&(t.style.direction=\"\",t.setAttribute(\"dir\",\"auto\"))},Texty.prototype._applyAdjustedFontSizeStyle=function(t){var e=this._responsiveFontSize*this._fontScaleFactor;t.style.fontSize=e+\"px\",t.style.lineHeight=Math.max(1,e*this._lineHeightRatio)+\"px\",t.style.letterSpacing=e*this._letterSpacingRatio+\"px\"},Texty.prototype._adjustFontSizeToFitContainer=function(){if(this.responsiveFont){var t=\"undefined\"!=typeof this.responsiveFontFactor?this.responsiveFontFactor:.5,e=\"undefined\"!=typeof this.responsiveFontFactor?6:1,i=this.getFontSize(),n=this._getNaturalFontSize(),o=Math.max(Math.round(n*t),e),s=1/this._fontScaleFactor;this._responsiveFontSize=n;var a=Math.max(1,this.getLineSpacing()+i);this._lineHeightRatio=a/i,this._letterSpacingRatio=this.getLetterSpacing()/i;var r=this.getNaturalSize();this._applyAdjustedFontSizeStyle(this._textContainerResponsive);for(var h=this._getContentSizeOfResponsiveContainer();this._responsiveFontSize>o&&(h.height>r.height||h.width>r.width);)this._responsiveFontSize-=s,this._applyAdjustedFontSizeStyle(this._textContainerResponsive),h=this._getContentSizeOfResponsiveContainer();this._applyAdjustedFontSizeStyle(this._textContainer),this._applyAdjustedFontSizeStyle(this._textContainerClone)}},Texty.prototype.updateTextStyle=function(){this.applyTextStyle(this._textContainer),this.applyTextStyle(this._textContainerClone),this.applyTextStyle(this._textContainerResponsive),\"string\"==typeof this.textContentFeedFieldKey&&(this._setTextContainerAutomaticDirection(this._textContainer),this._setTextContainerAutomaticDirection(this._textContainerClone),this._setTextContainerAutomaticDirection(this._textContainerResponsive));var t=\"undefined\"!=typeof this.textWhiteSpace?this.textWhiteSpace:\"pre-wrap\";this._setTextContainerStyle(\"whiteSpace\",t)},Texty.prototype.getTextColor=function(){if(\"string\"==typeof this.textColorFeedFieldKey){var t=FeedData.getFieldValueByKey(this.textColorFeedFieldKey,this.textColorFeedRowIndex);return\"string\"==typeof t&&FeedData.isCorrectFieldType(this.textColorFeedFieldKey,this.constructor.name,\"textColorFeedFieldKey\")?t:\"transparent\"}return TextStyleIntegrator.getTextColor.call(this)},Texty.prototype.loadFont=function(){this.font instanceof FontBase&&TextStyleIntegrator.loadFont.apply(this,arguments)},Texty.prototype._horizontallyRealignTextWithPadding=function(){var t=this.getTextPaddingLeft(),e=this.getTextPaddingRight(),i=parseInt(this._textContainer.style.paddingLeft,10),n=parseInt(this._textContainer.style.paddingRight,10);this.scaleFont&&\"right\"==this.textAlign&&!isNaN(i)?t=i-this.getTextPaddingLeft():this.scaleFont&&\"left\"==this.textAlign&&!isNaN(n)&&(e=n-this.getTextPaddingRight());var o=Math.max(t,this.getTextPaddingLeft()),s=Math.max(e,this.getTextPaddingRight());o!==i&&this._setTextContainerStyle(\"paddingLeft\",o+\"px\"),s!==n&&this._setTextContainerStyle(\"paddingRight\",s+\"px\")},Texty.prototype._verticallyAlignText=function(){if(!(this.scrollable||this._scrollContainer.offsetHeight<=this._textContainer.offsetHeight||\"undefined\"==typeof this.textAlignVertical)){this._setTextContainerStyle(\"paddingTop\",\"\");var t=0,e=this.scrollable?0:Number(this.textAlignVertical),i=this.getNaturalSize().height;this._textContainerClone.style.height=0,this._textContainerClone.style.display=\"inline\";var n=0===e?0:this._textContainerClone.scrollHeight;this._textContainerClone.style.display=\"none\";var o=Math.max(0,(i-n)*e/100);o=isNaN(o)?0:o,t=e>50&&i>n?-this.getTextPaddingBottom():50==e&&i>n?(this.getTextPaddingTop()+this.getTextPaddingBottom())/4:this.getTextPaddingTop(),this._setTextContainerStyle(\"marginTop\",o+t+\"px\")}},Texty.prototype._getLongestLineLength=function(t){return Math.max.apply(null,t.map(function(t){return t.width}))},Texty.prototype._getShortestLineLength=function(t){return Math.min.apply(null,t.map(function(t){return t.width}))},Texty.prototype._getLinesProperties=function(){this._encloseTextCharactersWithSpanElements();for(var t=this._textContainer.getBoundingClientRect(),e=this._textContainer.querySelectorAll(\"span\"),i=[],n=0;n<e.length;n++){var o=e[n].getBoundingClientRect(),s=o.top-t.top,a=o.left-t.left,r=i[i.length-1];r&&s===r.top?(a>r.left?r.width=Math.max(a-r.left+o.width,r.width):(r.width=Math.max(r.left-a+r.width,r.width),r.left=Math.min(a,r.left)),r.text=r.text+e[n].innerText):0!==o.width&&0!==o.height&&i.push({width:o.width,height:o.height,left:a,top:s,text:e[n].innerText})}return i},Texty.prototype._encloseTextCharactersWithSpanElements=function(){if(!this._textCharactersEnclosedWithSpanElements){for(var t=\"\",e=0;e<this._textContainer.childNodes.length;e++){var i=this._textContainer.childNodes[e];t+=i.nodeType===Node.TEXT_NODE?i.textContent.split(\"\").map(function(t){return\"<span>\"+t+\"</span>\"}).join(\"\"):i.outerHTML}for(;this._textContainer.firstChild;)this._textContainer.removeChild(this._textContainer.firstChild);this._textContainer.innerHTML=t,this._textCharactersEnclosedWithSpanElements=!0}},Texty.prototype._updateTextContent=function(){var t=this._sanitizeText?htmlentitize(this.text.toString()):this.text;this._processSpecialChars&&(t=this._processSpecialFeedCharacters(t)),this._textContainer.innerHTML=t,this._textContainerClone.innerHTML=t,this._textContainerResponsive.innerHTML=t,this._textCharactersEnclosedWithSpanElements=!1},Texty.prototype._updateScrollbar=function(){this.scrollable&&(this.scroller.redraw(),this.scroller.scrollTo(0,0,!1),this.autoscrollEnabled&&(this._resetAutoScroll(),this._createAutoScroll()))},Texty.prototype._createAutoScroll=function(){var t=this.scroller.getMaxScroll();defer(function(){this.scroller.scrollTo(t.left,t.top,!0,this.autoscrollDuration,!0,function(){\"return\"===this.autoscrollConclusion?this.scroller.scrollTo(0,0,!0,this.autoscrollDuration,!0):\"loop\"===this.autoscrollConclusion&&(this._autoscrolling=!0,e())}.bind(this))}.bind(this),this.autoscrollDelay);var e=function(){this._autoscrolling&&this.scroller.scrollTo(0,0,!0,this.autoscrollDuration,!0,function(){this.scroller.scrollTo(t.left,t.top,!0,this.autoscrollDuration,!0,e)}.bind(this))}.bind(this)},Texty.prototype._resetAutoScroll=function(){this._autoscrolling=!1},Texty.prototype._handleTouchStart=function(t){t.preventDefault(),new ActionContext(this,!0).trackUserInteraction(),this.scrollable&&(this._resetAutoScroll(),t.stopPropagation(),this.scroller._handleTouchStart(t),attach(this.parentUnit.node,\"touchmove\",this._handleTouchMove),attach(this.parentUnit.node,\"touchend\",this._handleTouchEnd),attach(this.parentUnit.node,\"touchcancel\",this._handleTouchCancel))},Texty.prototype._handleTouchMove=function(t){t.preventDefault(),this.scroller._handleTouchMove(t)},Texty.prototype._handleTouchEnd=function(t){t.preventDefault(),this.scroller._handleTouchEnd(t),detach(this.parentUnit.node,\"touchmove\",this._handleTouchMove),detach(this.parentUnit.node,\"touchend\",this._handleTouchEnd),detach(this.parentUnit.node,\"touchcancel\",this._handleTouchCancel)},Texty.prototype._handleTouchCancel=function(t){this._handleTouchEnd(t)},Texty.prototype.positionUsingTransforms=retTrue,Texty.prototype.sizeUsingTransforms=retTrue,Texty.prototype.getNaturalSize=function(){return this.originalSize},Texty.prototype._getNaturalFontSize=function(){return this.toSizePx(this.fontSize,this.parentScreen.size.height)},Texty.prototype._getDefaultPadding=function(){return this.usePadding?2:0},Texty.prototype._getNaturalTextPaddingTop=function(){var t=TextStyleIntegrator.getTextPaddingTop.call(this);return\"number\"==typeof t?t:this._getDefaultPadding()},Texty.prototype._getNaturalTextPaddingRight=function(){var t=TextStyleIntegrator.getTextPaddingRight.call(this);return\"number\"==typeof t?t:this._getDefaultPadding()},Texty.prototype._getNaturalTextPaddingBottom=function(){var t=TextStyleIntegrator.getTextPaddingBottom.call(this);return\"number\"==typeof t?t:this._getDefaultPadding()},Texty.prototype._getNaturalTextPaddingLeft=function(){var t=TextStyleIntegrator.getTextPaddingLeft.call(this);return\"number\"==typeof t?t:this._getDefaultPadding()},Texty.prototype.getTextPaddingTop=function(){return this._getNaturalTextPaddingTop()},Texty.prototype.getTextPaddingRight=function(){return this._getNaturalTextPaddingRight()},Texty.prototype.getTextPaddingBottom=function(){return this._getNaturalTextPaddingBottom()},Texty.prototype.getTextPaddingLeft=function(){return this._getNaturalTextPaddingLeft()},Texty.prototype._startListeningForTouches=function(){this.scrollable&&!this._listeningForTouches&&(attach(this._textContainer,\"touchstart\",this._handleTouchStart),this._listeningForTouches=!0)},Texty.prototype._stopListeningForTouches=function(){this._listeningForTouches&&(detach(this._textContainer,\"touchstart\",this._handleTouchStart),this._listeningForTouches=!1)},Texty.prototype._setText=function(t){this.text=t,this.loadFont(function(){this._updateTextContent(),this.checkAndFixAutoWritingDirectionSupport(this._textContainer),this.checkAndFixAutoWritingDirectionSupport(this._textContainerClone),this.checkAndFixAutoWritingDirectionSupport(this._textContainerResponsive),this.scaleFont&&(this.scaleFont=!1),this.hidden||this._handleSizeUpdate(!0)}.bind(this))},Texty.prototype._processSpecialFeedCharacters=function(t){t=String(t);var e=t.split(\"\\\\[\");if(e.length<2)return t;for(var i=1;i<e.length;i++){var n=e[i].split(\"\\\\]\");e[i]='<span class=\"no-break\">'+n[0]+\"</span>\",n.length>1&&(e[i]+=n.slice(1).join(\"\"))}return e.join(\"\")},Texty.prototype.showAction=function(t,e,i){Texty.uber.showAction.call(this,t,e,function(){this._startListeningForTouches(),i()}.bind(this))},Texty.prototype.hideAction=function(t,e,i){Texty.uber.hideAction.call(this,t,e,function(){this._stopListeningForTouches(),i()}.bind(this))},Texty.prototype.resetAction=function(t,e,i){this._sanitizeText=!0,this.resetFont(),Texty.uber.resetAction.call(this,t,e,function(){this.hidden||this._startListeningForTouches(),this.text=this._initialText,this._processSpecialChars=this._initialProcessSpecialChars,this._updateTextContent(),this.scaleFont=this._initialScaleFont,this.checkAndFixAutoWritingDirectionSupport(this._textContainer),this.checkAndFixAutoWritingDirectionSupport(this._textContainerClone),this.checkAndFixAutoWritingDirectionSupport(this._textContainerResponsive),this._handleSizeUpdate(!0),i()}.bind(this))},Texty.prototype.setTextAction=function(t,e,i){this._sanitizeText=!1,this._processSpecialChars=!1,this._setText(e.text),i()},Texty.prototype.getText=function(){var t=String(this.text);return this._processSpecialChars&&(t=t.replace(/\\\\(\\]|\\[)/g,\"\")),this._sanitizeText&&(t=htmlentitize(t)),t},Texty.prototype.setAdaptToContentStrategy=function(t){[\"both\",\"vertical\",\"horizontal\",\"none\"].indexOf(t)>-1&&(this._adaptToContentStrategy=t)},Texty.prototype.setLineBreakOptimizationStrategy=function(t){[\"all\",\"last\",\"none\"].indexOf(t)>-1&&(this._lineBreakOptimizationStrategy=t)},Texty.prototype.setShortestLineToLongestLineMinRatio=function(t){this._shortestLineToLongestLineMinRatio=t},Texty.prototype.setMaxPaddingToSizeRatio=function(t){this._maxPaddingToSizeRatio=t};;\nfunction Shapey(){}inherit(Shapey,ScreenObject),Shapey.toString=function(){return\"[Clazz Shapey]\"},Shapey.prototype.toString=function(){return\"[Shapey \"+this.localId+\"]\"},Object.defineProperties(Shapey.prototype,{_borderRoundness:{get:function(){var e=0,t=0,r=0,a=this._defaultValues.roundness;if(\"number\"==typeof this.roundness&&(a=this.roundness),a>0){var o=Math.min(this.getNaturalSize().height,this.getNaturalSize().width),s=o/2,i=Math.max(this.getNaturalSize().height,this.getNaturalSize().width),h=i/2;if(50>a){var d=a/50;e=s*d}else{var n=(a-50)/50,l=(h-s)*n,p=s+l;t=this.getNaturalSize().width==o?s:p,r=this.getNaturalSize().height==o?s:p}}return this.shadow&&ios(\"8\")&&window.devicePixelRatio>=3&&(1>e&&(e=1),1>t&&(t=1),1>r&&(r=1)),50>a?e+\"px\":t+\"px \"+r+\"px\"}}}),Shapey.prototype.awake=function(){Shapey.uber.awake.call(this),this._defaultValues={backgroundColor:\"#365c99\",borderColor:\"#000000\",borderWidth:5,roundness:0,shadowAngle:0,shadowBlur:10,shadowColor:\"rgba(0,0,0,0.5)\",shadowDistance:0}},Shapey.prototype.createNode=function(){var e=Shapey.uber.createNode.call(this);this._privateApiTracked={},addClass(e,\"touchable\"),this._shapey=document.createElement(\"div\");var t=this._defaultValues.backgroundColor;if(\"string\"==typeof this.backgroundColorFeedFieldKey){FeedData.checkAndTrackValue(this.backgroundColorFeedFieldKey,this.backgroundColorFeedRowIndex,this.constructor.name,\"backgroundColorFeedFieldKey\");var r=FeedData.getFieldValueByKey(this.backgroundColorFeedFieldKey,this.backgroundColorFeedRowIndex);t=\"string\"==typeof r&&FeedData.isCorrectFieldType(this.backgroundColorFeedFieldKey,this.constructor.name,\"backgroundColorFeedFieldKey\")?r:\"transparent\"}else\"string\"==typeof this.backgroundColor&&(t=this.backgroundColor);if(Color.isGradient(t)){var a=Color.createGradientStyle(t);this.addStyle({\".gradient-shapey\":a}),addClass(this._shapey,\"gradient-shapey\")}else this._shapey.style.backgroundColor=t;if(this.border){var o=\"undefined\"!=typeof this.borderColor?this.borderColor:this._defaultValues.borderColor,s=\"number\"==typeof this.borderWidth?this.borderWidth:this._defaultValues.borderWidth;if(this._shapey.style.borderColor=o,this._shapey.style.borderStyle=\"solid\",this._shapey.style.borderWidth=s+\"px\",deviceInfo.browser.chrome()||deviceInfo.browser.samsung()){var i=\"1\";if(Color.isRgba(o)){var h=Color.patternRgba.exec(o);i=h[Color.matchRgbaAlpha]}\"1\"===i&&(this._shapey.style.backgroundClip=\"border-box\")}}if(this.shadow){var d=(\"number\"==typeof this.shadowAngle?this.shadowAngle:this._defaultValues.shadowAngle)*(Math.PI/180),n=\"number\"==typeof this.shadowBlur?this.shadowBlur:this._defaultValues.shadowBlur,l=\"undefined\"!=typeof this.shadowColor?this.shadowColor:this._defaultValues.shadowColor,p=\"number\"==typeof this.shadowDistance?this.shadowDistance:this._defaultValues.shadowDistance,u=Math.round(p*Math.cos(d)),y=Math.round(p*Math.sin(d));celtra.styler.css(this._shapey,\"boxShadow\",u+\"px \"+y+\"px \"+n+\"px \"+l)}return e.appendChild(this._shapey),e},Shapey.prototype.redrawLayout=function(){if(this._shapey){var e=this._borderRoundness;parseInt(e,10)>0&&(this._shapey.style.borderTopLeftRadius=e,this._shapey.style.borderTopRightRadius=e,this._shapey.style.borderBottomLeftRadius=e,this._shapey.style.borderBottomRightRadius=e)}},Shapey.prototype._track=function(e){this._privateApiTracked[e]||(this._privateApiTracked[e]=!0,creative.track({name:\"retiredFeatureUsed\",featureType:\"apifunction\",featureName:e}))},Shapey.deprecatedPropertiesArray=[\"borderRoundness\",\"shapey\",\"defaultValues\"],Shapey.deprecatedPropertiesObject={},Shapey.deprecatedPropertiesArray.forEach(function(e){Shapey.deprecatedPropertiesObject[e]={get:function(){return this._track(\"Shapey.\"+e+\".getter\"),this[\"_\"+e]},set:function(t){this._track(\"Shapey.\"+e+\".setter\"),this[\"_\"+e]=t}}}),Object.defineProperties(Shapey.prototype,Shapey.deprecatedPropertiesObject);;\nvar DynamicFeed={};DynamicFeed.toString=function(){return\"[Clazz DynamicFeed]\"},DynamicFeed.checkChoiceFeedAction=function(e,d,i){FeedData.checkAndTrackValue(d.feedFieldKey,d.feedRowIndex,d.caller.method,\"feedFieldKey\");var a=FeedData.getFieldValueByKey(d.feedFieldKey,d.feedRowIndex);\"string\"==typeof a&&FeedData.isCorrectFieldType(d.feedFieldKey,d.caller.method,\"feedFieldKey\")&&d.outcomes.forEach(function(d){return\"string\"==typeof d.choice&&d.choice.toLowerCase()===a.toLowerCase()?(d.action||nullai)(e,i):void 0})},DynamicFeed.goToFeedURLAction=function(e,d,i){FeedData.checkAndTrackValue(d.feedFieldKey,d.feedRowIndex,d.caller.method,\"feedFieldKey\"),d.url=\"\";var a=FeedData.getFieldValueByKey(d.feedFieldKey,d.feedRowIndex);\"string\"==typeof a&&FeedData.isCorrectFieldType(d.feedFieldKey,d.caller.method,\"feedFieldKey\")&&(d.url=a),e.screen.parentUnit.goToURLAction(e,d,i)};;\nfunction File(t){if(t){if(\"string\"==typeof t)return void(this.url=t);if(!t.url)throw\"Url parameter must be set.\";if(deep(this,t),0===this.url.indexOf(creative.cachedApiUrl)||0===this.url.indexOf(creative.insecureCachedApiUrl)){var i=this.url.split(\"/\");\"undefined\"==typeof this.name&&(this.name=i[i.length-1]||\"unknown\"),\"undefined\"==typeof this.blobHash&&(this.blobHash=i[i.length-2]),\"undefined\"==typeof this.retinaScaleFactor&&(this.retinaScaleFactor=File.getRetinaScaleFactor(this.name)),\"undefined\"==typeof this.quality&&(this.quality=File.getDefaultQuality(this.name))}}}File.toString=function(){return\"[Clazz File]\"},File.prototype.toString=function(){return\"[File \"+this.localId+\"(\"+this.name+\"/\"+this.url+\")]\"},File.prototype.getOriginalUrl=function(){if(this.url){if(-1!==this.url.indexOf(\"://\"))return this.url;if(\"/\"===this.url[0])throw\"An absolute path as URL?\";return creative.resourceUrl+this.url}if(this.blobHash)return(creative.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+\"blobs/\"+this.blobHash+\"/\"+encodeURIComponent(this.name);throw\"Neither url nor blobHash set?\"},File.prototype.getUrl=function(t){var i=this.getOriginalUrl();return this.optimizable&&(i+=\"?transform=crush\",this.quality>-1&&(i+=\"&quality=\"+this.quality),t&&this.optimizedWidth(t)>0&&this.optimizedHeight(t)>0&&(i+=\"&resize=\"+this.optimizedWidth(t)+\"x\"+this.optimizedHeight(t)),this.dynamic&&\"string\"==typeof this.fitting&&this.fitting.length>0&&(i+=\"&fitting=\"+this.fitting)),i},File.prototype.getDataUri=function(t,i){t instanceof Function&&(i=t,t={});var e=!this.dynamic&&(\"undefined\"!=typeof this.blobHash||this.url.indexOf(\"api/animateySprites\")>=0),n=creative.adapter.protoLoading.dataURIsSupported,r=creative.adapter.protoLoading.blobURIsSupported,a=\"treatment\"===(creative.experiments.get(\"UseDataURIsGlobally\")||{}).chosenVariant,h=1==creative.runtimeParams.dataURIsEnabled||1==creative.runtimeParams.turnOnBatching,o=(n||r)&&!creative.adapter.autoDecodesURLParams,s=(!!t.preferBatching||a||h)&&o&&e,l=this.getUrl(t.creativeUnitVariantId);\"undefined\"!=typeof this.dataUri?defer(function(){i(this.dataUri)}.bind(this),0,\"File.getDataUri defer callback, has dataUri\"):s?creative.batcher.getDataUri(l,i):defer(function(){i(l)},0,\"File.getDataUri defer callback, url\")},Object.defineProperties(File.prototype,{dynamic:{get:function(){return\"undefined\"!=typeof this._dynamic&&this._dynamic},set:function(t){this._dynamic=t},enumerable:!0,configurable:!1},optimizable:{get:function(){var t=this.getOriginalUrl(),i=0===t.indexOf(creative.cachedApiUrl)||0===t.indexOf(creative.insecureCachedApiUrl),e=creative.experiments?creative.experiments.get(\"FeedImageOptimization\")||{}:{},n=\"on\"===e.chosenVariant,r=i&&(!this.dynamic||n),a=!!String(this.name).match(/\\.(gif|png|jpe?g)$/i);return r&&a},enumerable:!0,configurable:!1},retina:{get:function(){return this.retinaScaleFactor>1},enumerable:!0,configurable:!1},width:{get:function(){return this.retina?Math.round(this.meta.width/this.retinaScaleFactor):this.meta.width},enumerable:!0,configurable:!1},height:{get:function(){return this.retina?Math.round(this.meta.height/this.retinaScaleFactor):this.meta.height},enumerable:!0,configurable:!1},optimizedWidth:{get:function(){return function(t){if(\"number\"!=typeof t||!this.optimizationSettings)return null;for(var i=null,e=0;e<this.optimizationSettings.length;e++){var n=this.optimizationSettings[e];if(n.creativeUnitVariantId===t&&n.optimizedWidth){i=n;break}}return i&&(i.optimizedWidth<this.meta.width||this.dynamic)?i.optimizedWidth:null}.bind(this)},enumerable:!0,configurable:!1},optimizedHeight:{get:function(){return function(t){if(\"number\"!=typeof t||!this.optimizationSettings)return null;for(var i=null,e=0;e<this.optimizationSettings.length;e++){var n=this.optimizationSettings[e];if(n.creativeUnitVariantId===t&&n.optimizedHeight){i=n;break}}return i&&(i.optimizedHeight<this.meta.height||this.dynamic)?i.optimizedHeight:null}.bind(this)},enumerable:!0,configurable:!1}}),File.MAXIMUM_SUPPORTED_RETINA_SCALE=4,File.getDefaultQuality=function(t){t=String(t);var i=/\\.png$/i.test(t),e=/\\.jpe?g$/i.test(t),n=/\\.gif$/i.test(t),r=File.getRetinaScaleFactor(t)>1,a=-1;return i?a=r?150:256:n?a=r?75:85:e&&(a=r?65:85),a},File.getRetinaScaleFactor=function(t){t=String(t);var i=new RegExp(\"^.*(@([2-\"+File.MAXIMUM_SUPPORTED_RETINA_SCALE+\"]+)x)\"),e=t.toLowerCase().match(i);return e&&e[2]?parseInt(e[2],10):1};;\nfunction Font(){}inherit(Font,FontBase),Font.toString=function(){return\"[Clazz Font]\"},Font.prototype.toString=function(){return\"[Font \"+this.localId+\"]\"},Font.prototype.hasFeedFields=function(){return this.feedFields instanceof Array},Font.prototype.getSubsetString=function(){var t=Font.uber.getSubsetString.apply(this);if(!this.hasFeedFields())return t;if(\"string\"==typeof this.extendedSubsetString)return this.extendedSubsetString;var e=t||\"\";return this.feedFields.forEach(function(t){var n=FeedData.getFieldRowsByKey(t);n.forEach(function(t){\"string\"==typeof t.value&&(e+=t.value)})}),this.extendedSubsetString=e.replace(/[\\r\\n\\t\\f\\v]/g,\"\").split(\"\").filter(function(t,e,n){return n.indexOf(t)===e}).sort().join(\"\"),this.extendedSubsetString},Font.prototype.getUnicodeRange=function(){return this.hasFeedFields()?\"\":Font.uber.getUnicodeRange.apply(this)};;\n!function(){function t(){return this.sizeUsingTransforms()?r:a}function e(t,i){if(t instanceof Object&&t.constructor===Object){var n={};return Object.keys(t).forEach(function(h){n[h]=e(t[h],i)}),n}return\"number\"==typeof t?t*i:t}function i(t,e,i){return function(){return this.isAnimated&&(\"string\"!=typeof i||this[i])?e.apply(this,arguments):t.apply(this,arguments)}}function n(n,h,s){var a=n[h],r=function(){return e(a.apply(this,arguments),t.call(this))};n[h]=i(a,r,s)}function h(t,e,i){var h=\"get\"+ucfirst(e);n(t,h,i)}function s(){return this.isAnimated}var a=1,r=2;if(ScreenObject.prototype.positionUsingTransforms=s,ScreenObject.prototype.sizeUsingTransforms=s,\"undefined\"!=typeof Picture){Picture.prototype.positionUsingTransforms=s,Picture.prototype.sizeUsingTransforms=s;var o=Picture.prototype.awake;Picture.prototype.awake=function(){o.apply(this,arguments),this._imageElement=null,this.on(\"appear\",this._drawImage.bind(this))};var l=Picture.prototype.createNode;Picture.prototype.createNode=function(){return this.parentContainer.on(\"resize\",this._drawImage.bind(this)),l.apply(this,arguments)},Picture.prototype._drawImage=function(){if(this._imageElement){if(\"stretch\"==this.fittingSize)return this._imageElement.style.position=\"absolute\",this._imageElement.style.left=\"0px\",this._imageElement.style.top=\"0px\",this._imageElement.style.width=\"100%\",void(this._imageElement.style.height=\"100%\");var t=this.imagePosition?this.imagePosition.split(\"-\"):[\"left\",\"top\"];1===t.length&&([\"left\",\"right\"].indexOf(t[0])>-1?t.push(\"center\"):t.unshift(\"center\"));var e,i,n=this.file.width/this.file.height,h=this.sizeUsingTransforms()?this.getNaturalSize():this.size,s=h.width/h.height,a=this.fittingSize;\"fitUpToOriginal\"===this.fittingSize&&(a=h.width<this.file.width||h.height<this.file.height?\"fit\":\"original\"),\"original\"===a?(e=this.file.width,i=this.file.height):\"repeat\"===a?(e=this.file.meta.width,i=this.file.meta.height):\"stretch\"===a?(e=h.width,i=h.height):\"fit\"===a?n>s?(e=h.width,i=this.file.height*(h.width/this.file.width)):(e=this.file.width*(h.height/this.file.height),i=h.height):\"fill\"===a&&(n>s?(e=this.file.width*(h.height/this.file.height),i=h.height):(e=h.width,i=this.file.height*(h.width/this.file.width)));var r,o;if(\"repeat\"===a)r={left:0,center:Math.round((h.width*this._patternPixelRatio-e)/2),right:h.width*this._patternPixelRatio-e},o={top:0,center:Math.round((h.height*this._patternPixelRatio-i)/2),bottom:h.height*this._patternPixelRatio-i},this._imageElementsCtx.canvas.width=h.width*this._patternPixelRatio,this._imageElementsCtx.canvas.height=h.height*this._patternPixelRatio,this._imageElement.style.width=h.width+\"px\",this._imageElement.style.height=h.height+\"px\",this._imageElementsCtx.save(),this._imageElementsCtx.fillStyle=this._pattern,this._imageElementsCtx.translate(r[t[0]],o[t[1]]),this._imageElementsCtx.fillRect(-r[t[0]],-o[t[1]],h.width*this._patternPixelRatio,h.height*this._patternPixelRatio),this._imageElementsCtx.restore();else{r={left:\"left: 0px;\",center:\"left: \"+Math.round((h.width-e)/2)+\"px;\",right:\"right: 0px;\"},o={top:\"top: 0px;\",center:\"top: \"+Math.round((h.height-i)/2)+\"px;\",bottom:\"bottom: 0px;\"};var l=r[t[0]]+\" \"+o[t[1]]+\" \",p=\"width: \"+e+\"px; height: \"+i+\"px; \",g=\"\";this._imageElement.style.cssText=\"position: absolute; \"+l+p+g}}},Picture.prototype._handlePreloadedImage=function(t,e){(this.file.dynamic||\"repeat\"===this.fittingSize)&&(this.file.meta={height:e.naturalHeight,width:e.naturalWidth}),\"repeat\"===this.fittingSize?(this._imageElement=document.createElement(\"canvas\"),this._imageElementsCtx=this._imageElement.getContext(\"2d\"),this._pattern=this._imageElementsCtx.createPattern(e,\"repeat\"),this._patternPixelRatio=e.naturalWidth/this.file.width):this._imageElement=e,this._drawImage(),t.appendChild(this._imageElement)}}var p=Screen.prototype.resetAction;Screen.prototype.resetAction=function(t){Scene.instances.forEach(function(e){e.parentScreen===this&&e.resetAction(t,{},noop)}.bind(this)),p.apply(this,arguments)},ScreenObject._roundIfNeeded=function(t){return t};var g=[\"fontSize\",\"lineSpacing\",\"letterSpacing\",\"scaleBaseHeight\",\"scaleBaseWidth\",\"textShadowBlur\",\"textShadowOffset\"];if(\"undefined\"!=typeof Texty){n(Texty.prototype,\"getNaturalSize\");var f=[\"textPaddingTop\",\"textPaddingRight\",\"textPaddingBottom\",\"textPaddingLeft\"];f.forEach(function(t){h(Texty.prototype,t,\"useFontScaleFactorForPadding\")}),g.forEach(function(t){h(Texty.prototype,t)})}var c=[\"borderWidth\",\"shadowDistance\",\"shadowBlur\"].concat(g);\"undefined\"!=typeof Button&&(n(Button.prototype,\"getNaturalSize\"),c.forEach(function(t){h(Button.prototype,t)}))}();;\n!function(n){function t(n,t,e){var u=n.filter(function(n){return n.id===t})[0];return u&&u.value?u.value:e}function e(n,t,e,u){var r=.001,i=3*n,a=3*(e-n)-i,o=1-i-a,c=3*t,f=3*(u-t)-c,s=1-c-f,I=function(n){return((o*n+a)*n+i)*n},O=function(n){return((s*n+f)*n+c)*n},h=function(n){return(3*o*n+2*a)*n+i},p=function(n){var t,e,u,i,a,o;for(u=n,o=0;8>o;o++){if(i=I(u)-n,Math.abs(i)<r)return u;if(a=h(u),Math.abs(a)<1e-6)break;u-=i/a}if(t=0,e=1,u=n,t>u)return t;if(u>e)return e;for(;e>t;){if(i=I(u),Math.abs(i-n)<r)return u;n>i?t=u:e=u,u=.5*(e-t)+t}return u};return function(n){return O(p(n))}}function u(n){return Math.pow(n,2)}function r(n){return Math.pow(n,3)}function i(n){return Math.pow(n,4)}function a(n){return Math.pow(n,5)}function o(n){return 1-Math.cos(n*Math.PI*.5)}function c(n){return Math.pow(2,10*(n-1))}function f(n){return 1-Math.sqrt(1-n*n)}var s={none:function(){return 0},steps:function(n,e){var u=t(e,\"steps\",3),r=t(e,\"jump-position\",\"end\"),i=1/u,a=n*u;return Math[\"end\"===r?\"floor\":\"ceil\"](a)*i},linear:function(n){return n},easeIn:e(.42,0,1,1),easeOut:e(0,0,.58,1),easeInOut:e(.42,0,.58,1),easeInQuad:u,easeOutQuad:function(n){return 1-u(1-n)},easeInOutQuad:function(n){return.5>n?.5*u(2*n):1-.5*u(2*(1-n))},easeInCubic:r,easeOutCubic:function(n){return 1-r(1-n)},easeInOutCubic:function(n){return.5>n?.5*r(2*n)/2:1-.5*r(2*(1-n))},easeInQuart:i,easeOutQuart:function(n){return 1-i(1-n)},easeInOutQuart:function(n){return.5>n?.5*i(2*n):1-.5*i(2*(1-n))},easeInQuint:a,easeOutQuint:function(n){return 1-a(1-n)},easeInOutQuint:function(n){return.5>n?.5*a(2*n):1-.5*a(2*(1-n))},easeInSine:o,easeOutSine:function(n){return 1-o(1-n)},easeInOutSine:function(n){return.5*o(2*n)},easeInExpo:c,easeOutExpo:function(n){return 1-c(1-n)},easeInOutExpo:function(n){return.5>n?.5*c(2*n):1-.5*c(2*(1-n))},easeInCirc:f,easeOutCirc:function(n){return 1-f(1-n)},easeInOutCirc:function(n){return.5>n?.5*f(2*n):1-.5*f(2*(1-n))},easeInBack:e(.6,-.28,.735,.045),easeOutBack:e(.175,.885,.32,1.275),easeInOutBack:e(.68,-.55,.265,1.55),cubicBezier:e};\"undefined\"!=typeof module&&null!==module?Object.keys(s).forEach(function(n){module.exports[n]=s[n]}):n.AnimationTimingFunctions=s}(this);;\n!function(n){function i(n,a,o){this._propertyTweens={},o=o||i.getUsedProperties(n);var u=t(n);for(var s in o){var v=o[s],f=r(v,u);this._propertyTweens[v]=new e(f,a)}}function e(n,i){this._keyframes=n,this._defaultTimingFunction=i||AnimationTimingFunctions.linear,this._tweenable=o(this._keyframes),a(this._keyframes)}function t(n){var i=[];for(var e in n){var t=parseFloat(e);i[Math.round(t*u)]=n[e]}return i}function r(n,i){var e,t={};for(var r in i)if(n in i[r]){\"undefined\"==typeof t[r]&&(t[r]={});var a=i[r][n];a instanceof Object?(\"undefined\"!=typeof a.value&&null!==a.value&&(e=a.value,t[r].value=a.value),a.timingFunction&&(t[r].timingFunction=a.timingFunction)):(e=a,t[r].value=a,i[r].timingFunction&&(t[r].timingFunction=i[r].timingFunction))}return\"undefined\"==typeof t[v]&&(t[v]={value:e}),t}function a(n){if(!(s in n))throw new Error(\"Missing initial keyframe!\");if(!(v in n))throw new Error(\"Missing final keyframe!\")}function o(n){for(var i in n)return\"number\"==typeof n[i].value}var u=1e5,s=0*u,v=100*u;i.prototype.getValuesAt=function(n){var i={};for(var e in this._propertyTweens)i[e]=this._propertyTweens[e].getValueAt(n);return i},i.getUsedProperties=function(n){var i={};for(var e in n)for(var t in n[e])\"timingFunction\"!=t&&(i[t]=!0);return Object.keys(i)},e.prototype.getValueAt=function(n){n=Math.round(n*u);var i,e;for(var t in this._keyframes)t==n?(i={position:t,values:this._keyframes[t]},e={position:t,values:this._keyframes[t]}):n>t?i={position:t,values:this._keyframes[t]}:t>n&&!e&&(e={position:t,values:this._keyframes[t]});if(!this._tweenable)return i.values.value;var r=e.position-i.position,a=n-i.position,o=0==r?0:a/r,s=i.values.timingFunction&&i.values.timingFunction.instance?i.values.timingFunction.instance:this._defaultTimingFunction,v=i.values.timingFunction&&i.values.timingFunction.parameters?i.values.timingFunction.parameters:[];o=s(o,v);var f=e.values.value-i.values.value,l=f*o;return i.values.value+l},n.KeyframeAnimation=i}(this);;\nfunction BaseScenePlayer(e){this._scene=e,this._state=new StateObject({progress:-1}),this._update=this._update.bind(this),this._render=this._render.bind(this),this._end=this._end.bind(this),this.paused=!0,this.ended=!1,this.supportsAutoplay=!1,this.supportsFallback=!0}extend(BaseScenePlayer.prototype,EventEmitter),Object.defineProperty(BaseScenePlayer.prototype,\"progress\",{get:function(){return-1!==this._state.progress?this._state.progress:this.ended?100:0}}),BaseScenePlayer.prototype._update=function(){this._state.isDirty(\"progress\")&&(this._scene.updateObjects(this._state.progress),this.emit(\"progress\",this._state.progress))},BaseScenePlayer.prototype._render=function(){this._state.isDirty(\"progress\")&&(this._scene.renderObjects(),this.emit(\"render\"),this._state.markClean())},BaseScenePlayer.prototype._cancel=function(){Ticker.removeFrame(this._update,\"update\"),Ticker.removeFrame(this._render,\"render\"),Ticker.removeFrame(this._end,\"next\"),this._state.markClean(),this.paused=!0},BaseScenePlayer.prototype._end=function(){this.stop(),this.emit(\"end\")},BaseScenePlayer.prototype._stop=noop,BaseScenePlayer.prototype._pause=noop,BaseScenePlayer.prototype._play=function(){return!0},BaseScenePlayer.prototype.play=function(){this._cancel(),this._play()&&(this.paused=!1,Ticker.frame(this._update,\"update\"),Ticker.frame(this._render,\"render\"),this.emit(\"play\"))},BaseScenePlayer.prototype.displayFallbackFrame=function(e){this._scene.updateObjects(Math.max(0,Math.min(e,100))),this._scene.renderObjects(),this._state.progress=e,this._state.markClean()},BaseScenePlayer.prototype.pause=function(){this.silentPause(),this.emit(\"pause\")},BaseScenePlayer.prototype.silentPause=function(){this.ended=100===this._state.progress,(0===this._state.progress||100===this._state.progress)&&(this._state.progress=-1),this._cancel(),this._pause()},BaseScenePlayer.prototype.stop=function(){this._stop(),this.silentPause(),this.emit(\"stop\")},BaseScenePlayer.prototype.destroy=function(){this._cancel()};;\nfunction TimeScenePlayer(e){TimeScenePlayer.uberConstructor.call(this,e),this._state.registerValue(\"loopCount\",0),this._elapsedTime=null,this._startTime=null,this._lastUpdateTime=null,this.supportsFallback=!1}inherit(TimeScenePlayer,BaseScenePlayer),Object.defineProperty(TimeScenePlayer.prototype,\"_loopEnded\",{get:function(){return\"stop\"===this._scene.onEnd&&this._state.progress>=100||\"repeat\"===this._scene.onEnd&&this._scene.onEndRepeatCount&&this._state.loopCount>=this._scene.onEndRepeatCount||\"reverse\"===this._scene.onEnd&&this._scene.onEndReverseCount&&this._state.loopCount>=2*this._scene.onEndReverseCount||0===this._scene.getDuration().milliseconds}}),Object.defineProperty(TimeScenePlayer.prototype,\"_newLoopStarted\",{get:function(){return this._state.isDirty(\"loopCount\")}}),TimeScenePlayer.prototype._update=function(e){var t=this._scene.getDuration().milliseconds;this._startTime=this._startTime||e,this._lastUpdateTime&&(this._startTime-=this._lastUpdateTime,this._lastUpdateTime=null),this._elapsedTime=e-this._startTime,this._state.loopCount=Math.floor(t>0?this._elapsedTime/t:1);var s,i=100*(t>0?this._elapsedTime/t:1),n=i%100;s=\"repeat\"===this._scene.onEnd?this._loopEnded||this._newLoopStarted?100:n:\"reverse\"===this._scene.onEnd?this._newLoopStarted&&this._state.loopCount%2?100:this._loopEnded?0:this._state.loopCount%2?100-n:n:i,this._state.progress=Math.max(0,Math.min(s,100)),TimeScenePlayer.uber._update.apply(this,arguments),this._loopEnded&&Ticker.frame(this._end,\"next\")},TimeScenePlayer.prototype._pause=function(){this._lastUpdateTime||(this._lastUpdateTime=this._elapsedTime),this._elapsedTime=null,this._startTime=null},TimeScenePlayer.prototype._stop=function(){this._lastUpdateTime=null,this._elapsedTime=null,this._state.loopCount=0};;\n";
            head.appendChild(js);

        

                

                // Run!
                // Check for runtimeParams to prevent IE 10 from initializing the creative early when host page is refreshed
                if (typeof runtimeParams === 'undefined') return;

                Creative.init({"id":"89034e23","clazz":"CrossScreenBanner","intendedDeviceType":"Any","name":"Retargeting - US - Product grid - 728x90 - male","units":{"banner":{"clazz":"CreativeUnitWithVariants","localId":1,"variants":[{"localId":7218,"clazz":"CreativeUnitVariant","master":{"hiddenInBuilder":false,"lockedInBuilder":false,"triggers":[],"scenes":[],"showOverflow":true,"title":"Master","localId":7219,"objects":[],"clazz":"Screen","guidelines":[],"isAnimated":false,"immediatelyPlayedScenes":{"appear":{"scenesLocalIds":[]},"firstAppear":{"scenesLocalIds":[]}},"reachableScreensLocalIds":[],"dynamicReachableScreenConditions":{}},"screens":[{"hiddenInBuilder":false,"lockedInBuilder":false,"triggers":[{"localId":27707,"type":"appear","onFire":null,"isCustom":false,"isAnimated":false}],"scenes":[],"showOverflow":false,"title":"Start","localId":27749,"objects":[{"layoutSpecificValues":[{"position":{"left":"0px","top":"0px"},"size":{"width":"100.00%","height":"100.00%"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"Fallback 32","aspectRatioLocked":false,"zIndex":17,"hiddenInBuilder":false,"lockedInBuilder":false,"clazz":"Fallback","localId":40836,"fieldName":"Fallback 32","availableContent":{"hiddenInBuilder":false,"lockedInBuilder":false,"triggers":[{"localId":41173,"type":"conditionMet","onFire":{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInSequence","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInParallel","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","localId":41174,"disabled":false,"actionClazz":"Scene","instanceLocalId":"40971","method":"playScene","isStatic":false,"args":{"target":"40971"},"isAnimated":false}]}}]}},"isCustom":false,"isAnimated":false}],"name":"Available","layoutSpecificValues":[{"size":{"width":"100%","height":"100%"}}],"aspectRatioLocked":false,"scenes":[{"clazz":"Scene","localId":40971,"name":"intro","type":"time","duration":10,"onEnd":"stop","onEndRepeatCount":0,"onEndReverseCount":0,"onEndWaitForCount":true,"autoPlay":null,"intersection":null,"fallbackFrame":null,"initialScene":null,"framesPerSecond":20,"objects":[{"targetLocalId":40977,"layoutSpecificValues":[[{"frame":0,"properties":{"hidden":{"localId":41043,"value":null,"isAnimated":false},"top":{"localId":41044,"value":null,"timingFunction":{"id":"none"},"isAnimated":false}}},{"frame":5,"properties":{"hidden":{"localId":41045,"value":true,"isAnimated":false}}},{"frame":10,"properties":{"top":{"localId":41046,"value":"0px","timingFunction":{"id":"none"},"isAnimated":false},"hidden":{"localId":41047,"value":false,"isAnimated":false}}},{"frame":15,"properties":{"top":{"localId":41048,"value":"0px","timingFunction":{"id":"none"},"isAnimated":false}}},{"frame":20,"properties":{"top":{"localId":41049,"value":"0px","timingFunction":{"id":"none"},"isAnimated":false}}},{"frame":25,"properties":{"top":{"localId":41050,"value":"0px","isAnimated":false}}}]]},{"targetLocalId":40978,"layoutSpecificValues":[[{"frame":24,"properties":{"opacity":{"localId":41051,"value":null,"isAnimated":false}}},{"frame":25,"properties":{"opacity":{"localId":41052,"value":1,"isAnimated":false}}},{"frame":65,"properties":{"opacity":{"localId":41053,"value":1,"isAnimated":false}}},{"frame":66,"properties":{"opacity":{"localId":41054,"value":0,"isAnimated":false}}},{"frame":145,"properties":{"opacity":{"localId":41055,"value":0,"isAnimated":false}}},{"frame":146,"properties":{"opacity":{"localId":41056,"value":1,"isAnimated":false}}}]]},{"targetLocalId":40988,"layoutSpecificValues":[[{"frame":0,"properties":{"hidden":{"localId":41057,"value":null,"isAnimated":false},"top":{"localId":41058,"value":null,"timingFunction":{"id":"none"},"isAnimated":false}}},{"frame":5,"properties":{"hidden":{"localId":41059,"value":false,"isAnimated":false}}},{"frame":10,"properties":{"hidden":{"localId":41060,"value":true,"isAnimated":false}}},{"frame":15,"properties":{"hidden":{"localId":41061,"value":false,"isAnimated":false},"top":{"localId":41062,"value":"0px","timingFunction":{"id":"none"},"isAnimated":false}}},{"frame":20,"properties":{"hidden":{"localId":41063,"value":true,"isAnimated":false}}},{"frame":25,"properties":{"top":{"localId":41064,"value":"0px","isAnimated":false},"hidden":{"localId":41065,"value":false,"isAnimated":false}}}]]},{"targetLocalId":40989,"layoutSpecificValues":[[{"frame":65,"properties":{"opacity":{"localId":41066,"value":null,"isAnimated":false}}},{"frame":66,"properties":{"opacity":{"localId":41067,"value":1,"isAnimated":false}}},{"frame":105,"properties":{"opacity":{"localId":41068,"value":1,"isAnimated":false}}},{"frame":106,"properties":{"opacity":{"localId":41069,"value":0,"isAnimated":false}}}]]},{"targetLocalId":40999,"layoutSpecificValues":[[{"frame":0,"properties":{"hidden":{"localId":41070,"value":null,"isAnimated":false},"top":{"localId":41071,"value":null,"timingFunction":{"id":"none"},"isAnimated":false}}},{"frame":5,"properties":{"hidden":{"localId":41072,"value":true,"isAnimated":false}}},{"frame":10,"properties":{"top":{"localId":41073,"value":"0px","timingFunction":{"id":"none"},"isAnimated":false},"hidden":{"localId":41074,"value":false,"isAnimated":false}}},{"frame":15,"properties":{"hidden":{"localId":41075,"value":true,"isAnimated":false}}},{"frame":25,"properties":{"hidden":{"localId":41076,"value":false,"isAnimated":false},"top":{"localId":41077,"value":"0px","isAnimated":false}}}]]},{"targetLocalId":41000,"layoutSpecificValues":[[{"frame":105,"properties":{"opacity":{"localId":41078,"value":null,"isAnimated":false}}},{"frame":106,"properties":{"opacity":{"localId":41079,"value":1,"isAnimated":false}}},{"frame":145,"properties":{"opacity":{"localId":41080,"value":1,"isAnimated":false}}},{"frame":146,"properties":{"opacity":{"localId":41081,"value":0,"isAnimated":false}}}]]}],"isAnimated":false}],"localId":40837,"objects":[{"layoutSpecificValues":[{"position":{"left":"192px","top":"0px"},"size":{"width":"90px","height":"90px"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[{"localId":40975,"type":"tap","parameters":{},"onFire":{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInSequence","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInParallel","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","localId":40976,"disabled":false,"actionClazz":"DynamicFeed","instanceLocalId":null,"method":"goToFeedURL","isStatic":true,"args":{"name":"Open Website (from Feed) 28","feedFieldKey":"CustomFeedField/2b216c45","reportLabel":"Retargeting - US - Product-url-1"},"keyframes":[],"sceneFramesPerSecond":20,"isAnimated":false}]}}]}},"isCustom":false,"keyframes":[],"sceneFramesPerSecond":20,"isAnimated":false}],"name":"Product 1 Image","aspectRatioLocked":true,"zIndex":1,"hiddenInBuilder":false,"lockedInBuilder":false,"imageSourceFeedFieldKey":"CustomFeedField/470290a3","fileLocalId":4228,"fittingSize":"fill","imagePosition":"center","importedFromLayoutFile":false,"clazz":"Picture","localId":40977,"isAnimated":true},{"layoutSpecificValues":[{"position":{"left":"192px","top":"0px"},"size":{"width":"90px","height":"90px"},"rotation":0,"opacity":0,"hidden":false}],"triggers":[],"name":"Product 1 Overlay","aspectRatioLocked":false,"zIndex":2,"hiddenInBuilder":false,"lockedInBuilder":false,"clazz":"Group","localId":40978,"fieldName":"Product 1 Overlay","content":{"hiddenInBuilder":false,"lockedInBuilder":false,"triggers":[],"name":"Container","layoutSpecificValues":[{"size":{"width":"100%","height":"100%"}}],"aspectRatioLocked":false,"localId":40979,"objects":[{"layoutSpecificValues":[{"position":{"left":"0px","top":"0px"},"size":{"width":"100.00%","height":"100.00%"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[{"localId":40980,"type":"tap","parameters":{},"onFire":{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInSequence","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInParallel","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","localId":40981,"disabled":false,"actionClazz":"DynamicFeed","instanceLocalId":null,"method":"goToFeedURL","isStatic":true,"args":{"name":"Open Website (from Feed) 28","feedFieldKey":"CustomFeedField/2b216c45","reportLabel":"Retargeting - US - Product-url-1"},"keyframes":[],"sceneFramesPerSecond":20,"isAnimated":false}]}}]}},"isCustom":false,"keyframes":[],"sceneFramesPerSecond":20,"isAnimated":false}],"name":"Product 1","aspectRatioLocked":false,"zIndex":5,"hiddenInBuilder":false,"lockedInBuilder":false,"clazz":"Hotspot","localId":40982,"fieldName":"Product 1","isAnimated":false},{"layoutSpecificValues":[{"position":{"left":"22px","top":"69px"},"size":{"width":"50.00%","height":"24px"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"Product 1 Full price","aspectRatioLocked":false,"zIndex":4,"hiddenInBuilder":false,"lockedInBuilder":false,"fontLocalId":4778,"fontSize":10,"scaleFont":false,"scaleBaseWidth":0,"scaleBaseHeight":0,"textColor":"rgba(255,255,255,1)","textDirection":"ltr","textAlign":"center","textDecoration":"","letterSpacing":"0.03em","lineSpacing":"0.2em","textShadow":false,"textShadowDistance":1,"textShadowBlur":0,"textShadowAngle":0,"textShadowColor":"#999999","textPaddingLocked":true,"textPaddingTop":2,"textPaddingRight":2,"textPaddingBottom":2,"textPaddingLeft":2,"textContentFeedFieldKey":"CustomFeedField/85f28404","textFontFeedFieldKey":null,"textColorFeedFieldKey":null,"text":"$42","responsiveFont":true,"responsiveFontFactor":0.5,"textWhiteSpace":"pre-line","textAlignVertical":0,"scrollable":false,"scrollbarPosition":"","scrollbarColor":"#000000","autoscrollEnabled":false,"autoscrollDelay":1000,"autoscrollDuration":3000,"autoscrollConclusion":"","isLineWrapAuto":false,"usePadding":true,"useFontScaleFactorForPadding":false,"lineBreakOptimizationStrategy":"none","shortestLineToLongestLineMinRatio":0.25,"maxPaddingToSizeRatio":0.25,"clazz":"Texty","localId":40983,"fieldName":"Product 1 Full price","isAnimated":false},{"layoutSpecificValues":[{"position":{"left":"4px","top":"2.78%"},"size":{"width":"90.00%","height":"68px"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"Product 1 Name","aspectRatioLocked":false,"zIndex":3,"hiddenInBuilder":false,"lockedInBuilder":false,"fontLocalId":4778,"fontSize":10,"scaleFont":false,"scaleBaseWidth":0,"scaleBaseHeight":0,"textColor":"rgba(255,255,255,1)","textDirection":"ltr","textAlign":"center","textDecoration":"","letterSpacing":"0.03em","lineSpacing":"0.2em","textShadow":false,"textShadowDistance":1,"textShadowBlur":0,"textShadowAngle":0,"textShadowColor":"#999999","textPaddingLocked":true,"textPaddingTop":2,"textPaddingRight":2,"textPaddingBottom":2,"textPaddingLeft":2,"textContentFeedFieldKey":"CustomFeedField/21596bdf","textFontFeedFieldKey":null,"textColorFeedFieldKey":null,"text":"THIS IS JUST A TEST TO SEE HOW TEXTY BEHAVES YOU KNOW FRIEND","responsiveFont":true,"responsiveFontFactor":0.5,"textWhiteSpace":"pre-line","textAlignVertical":"50","scrollable":false,"scrollbarPosition":"","scrollbarColor":"#000000","autoscrollEnabled":false,"autoscrollDelay":1000,"autoscrollDuration":3000,"autoscrollConclusion":"","isLineWrapAuto":false,"usePadding":true,"useFontScaleFactorForPadding":false,"lineBreakOptimizationStrategy":"none","shortestLineToLongestLineMinRatio":0.25,"maxPaddingToSizeRatio":0.25,"clazz":"Texty","localId":40984,"fieldName":"Product 1 Name","isAnimated":false},{"layoutSpecificValues":[{"position":{"left":"0px","top":"0px"},"size":{"width":"100.00%","height":"100.00%"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"Overlay","aspectRatioLocked":true,"zIndex":2,"hiddenInBuilder":false,"lockedInBuilder":false,"backgroundColorFeedFieldKey":null,"backgroundColor":"rgba(0,0,0,0.7)","border":false,"borderWidth":5,"borderColor":"#000000","roundness":0,"shadow":false,"shadowDistance":0,"shadowBlur":10,"shadowAngle":0,"shadowColor":"rgba(0,0,0,0.5)","clazz":"Shapey","localId":40985,"fieldName":"Overlay","isAnimated":false}],"clazz":"NestedContainer","isAnimated":false},"isAnimated":true},{"layoutSpecificValues":[{"position":{"left":"287px","top":"0px"},"size":{"width":"90px","height":"90px"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[{"localId":40986,"type":"tap","parameters":{},"onFire":{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInSequence","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInParallel","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","localId":40987,"disabled":false,"actionClazz":"DynamicFeed","instanceLocalId":null,"method":"goToFeedURL","isStatic":true,"args":{"name":"Open Website (from Feed) 28","feedFieldKey":"CustomFeedField/cf0981e3","reportLabel":"Retargeting - US - Product-url-2"},"keyframes":[],"sceneFramesPerSecond":20,"isAnimated":false}]}}]}},"isCustom":false,"keyframes":[],"sceneFramesPerSecond":20,"isAnimated":false}],"name":"Product 2 Image","aspectRatioLocked":true,"zIndex":3,"hiddenInBuilder":false,"lockedInBuilder":false,"imageSourceFeedFieldKey":"CustomFeedField/09609d62","fileLocalId":4286,"fittingSize":"fill","imagePosition":"center","importedFromLayoutFile":false,"clazz":"Picture","localId":40988,"isAnimated":true},{"layoutSpecificValues":[{"position":{"left":"287px","top":"0px"},"size":{"width":"90px","height":"90px"},"rotation":0,"opacity":0,"hidden":false}],"triggers":[],"name":"Product 2 Overlay","aspectRatioLocked":false,"zIndex":4,"hiddenInBuilder":false,"lockedInBuilder":false,"clazz":"Group","localId":40989,"fieldName":"Product 2 Overlay","content":{"hiddenInBuilder":false,"lockedInBuilder":false,"triggers":[],"name":"Container","layoutSpecificValues":[{"size":{"width":"100%","height":"100%"}}],"aspectRatioLocked":false,"localId":40990,"objects":[{"layoutSpecificValues":[{"position":{"left":"0px","top":"0px"},"size":{"width":"100.00%","height":"100.00%"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[{"localId":40991,"type":"tap","parameters":{},"onFire":{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInSequence","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInParallel","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","localId":40992,"disabled":false,"actionClazz":"DynamicFeed","instanceLocalId":null,"method":"goToFeedURL","isStatic":true,"args":{"name":"Open Website (from Feed) 28","feedFieldKey":"CustomFeedField/cf0981e3","reportLabel":"Retargeting - US - Product-url-2"},"keyframes":[],"sceneFramesPerSecond":20,"isAnimated":false}]}}]}},"isCustom":false,"keyframes":[],"sceneFramesPerSecond":20,"isAnimated":false}],"name":"Product 2","aspectRatioLocked":false,"zIndex":5,"hiddenInBuilder":false,"lockedInBuilder":false,"clazz":"Hotspot","localId":40993,"fieldName":"Product 2","isAnimated":false},{"layoutSpecificValues":[{"position":{"left":"22px","top":"69px"},"size":{"width":"50.00%","height":"24px"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"Product 2 Full price","aspectRatioLocked":false,"zIndex":4,"hiddenInBuilder":false,"lockedInBuilder":false,"fontLocalId":4778,"fontSize":10,"scaleFont":false,"scaleBaseWidth":0,"scaleBaseHeight":0,"textColor":"rgba(255,255,255,1)","textDirection":"ltr","textAlign":"center","textDecoration":"","letterSpacing":"0.03em","lineSpacing":"0.2em","textShadow":false,"textShadowDistance":1,"textShadowBlur":0,"textShadowAngle":0,"textShadowColor":"#999999","textPaddingLocked":true,"textPaddingTop":2,"textPaddingRight":2,"textPaddingBottom":2,"textPaddingLeft":2,"textContentFeedFieldKey":"CustomFeedField/a542b7aa","textFontFeedFieldKey":null,"textColorFeedFieldKey":null,"text":"$42","responsiveFont":true,"responsiveFontFactor":0.5,"textWhiteSpace":"pre-line","textAlignVertical":0,"scrollable":false,"scrollbarPosition":"","scrollbarColor":"#000000","autoscrollEnabled":false,"autoscrollDelay":1000,"autoscrollDuration":3000,"autoscrollConclusion":"","isLineWrapAuto":false,"usePadding":true,"useFontScaleFactorForPadding":false,"lineBreakOptimizationStrategy":"none","shortestLineToLongestLineMinRatio":0.25,"maxPaddingToSizeRatio":0.25,"clazz":"Texty","localId":40994,"fieldName":"Product 2 Full price","isAnimated":false},{"layoutSpecificValues":[{"position":{"left":"2px","top":"3.34%"},"size":{"width":"95.00%","height":"68px"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"Product 2 Name","aspectRatioLocked":false,"zIndex":3,"hiddenInBuilder":false,"lockedInBuilder":false,"fontLocalId":4778,"fontSize":10,"scaleFont":false,"scaleBaseWidth":0,"scaleBaseHeight":0,"textColor":"rgba(255,255,255,1)","textDirection":"ltr","textAlign":"center","textDecoration":"","letterSpacing":"0.03em","lineSpacing":"0.2em","textShadow":false,"textShadowDistance":1,"textShadowBlur":0,"textShadowAngle":0,"textShadowColor":"#999999","textPaddingLocked":true,"textPaddingTop":2,"textPaddingRight":2,"textPaddingBottom":2,"textPaddingLeft":2,"textContentFeedFieldKey":"CustomFeedField/26ec9e7f","textFontFeedFieldKey":null,"textColorFeedFieldKey":null,"text":"THIS IS JUST A TEST TO SEE HOW TEXTY BEHAVES YOU KNOW FRIEND","responsiveFont":true,"responsiveFontFactor":0.5,"textWhiteSpace":"pre-line","textAlignVertical":"50","scrollable":false,"scrollbarPosition":"","scrollbarColor":"#000000","autoscrollEnabled":false,"autoscrollDelay":1000,"autoscrollDuration":3000,"autoscrollConclusion":"","isLineWrapAuto":false,"usePadding":true,"useFontScaleFactorForPadding":false,"lineBreakOptimizationStrategy":"none","shortestLineToLongestLineMinRatio":0.25,"maxPaddingToSizeRatio":0.25,"clazz":"Texty","localId":40995,"fieldName":"Product 2 Name","isAnimated":false},{"layoutSpecificValues":[{"position":{"left":"0px","top":"0px"},"size":{"width":"100.00%","height":"100.00%"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"Overlay","aspectRatioLocked":true,"zIndex":2,"hiddenInBuilder":false,"lockedInBuilder":false,"backgroundColorFeedFieldKey":null,"backgroundColor":"rgba(0,0,0,0.7)","border":false,"borderWidth":5,"borderColor":"#000000","roundness":0,"shadow":false,"shadowDistance":0,"shadowBlur":10,"shadowAngle":0,"shadowColor":"rgba(0,0,0,0.5)","clazz":"Shapey","localId":40996,"fieldName":"Overlay","isAnimated":false}],"clazz":"NestedContainer","isAnimated":false},"isAnimated":true},{"layoutSpecificValues":[{"position":{"left":"382px","top":"0px"},"size":{"width":"90px","height":"90px"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[{"localId":40997,"type":"tap","parameters":{},"onFire":{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInSequence","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInParallel","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","localId":40998,"disabled":false,"actionClazz":"DynamicFeed","instanceLocalId":null,"method":"goToFeedURL","isStatic":true,"args":{"name":"Open Website (from Feed) 28","feedFieldKey":"CustomFeedField/ad232aee","reportLabel":"Retargeting - US - Product-url-3"},"keyframes":[],"sceneFramesPerSecond":20,"isAnimated":false}]}}]}},"isCustom":false,"keyframes":[],"sceneFramesPerSecond":20,"isAnimated":false}],"name":"Product 3 Image","aspectRatioLocked":true,"zIndex":5,"hiddenInBuilder":false,"lockedInBuilder":false,"imageSourceFeedFieldKey":"CustomFeedField/5fb82b76","fileLocalId":4285,"fittingSize":"fill","imagePosition":"center","importedFromLayoutFile":false,"clazz":"Picture","localId":40999,"isAnimated":true},{"layoutSpecificValues":[{"position":{"left":"382px","top":"0px"},"size":{"width":"90px","height":"90px"},"rotation":0,"opacity":0,"hidden":false}],"triggers":[],"name":"Product 3 Overlay","aspectRatioLocked":false,"zIndex":6,"hiddenInBuilder":false,"lockedInBuilder":false,"clazz":"Group","localId":41000,"fieldName":"Product 3 Overlay","content":{"hiddenInBuilder":false,"lockedInBuilder":false,"triggers":[],"name":"Container","layoutSpecificValues":[{"size":{"width":"100%","height":"100%"}}],"aspectRatioLocked":false,"localId":41001,"objects":[{"layoutSpecificValues":[{"position":{"left":"0px","top":"0px"},"size":{"width":"100.00%","height":"100.00%"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[{"localId":41002,"type":"tap","parameters":{},"onFire":{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInSequence","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInParallel","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","localId":41003,"disabled":false,"actionClazz":"DynamicFeed","instanceLocalId":null,"method":"goToFeedURL","isStatic":true,"args":{"name":"Open Website (from Feed) 28","feedFieldKey":"CustomFeedField/ad232aee","reportLabel":"Retargeting - US - Product-url-3"},"keyframes":[],"sceneFramesPerSecond":20,"isAnimated":false}]}}]}},"isCustom":false,"keyframes":[],"sceneFramesPerSecond":20,"isAnimated":false}],"name":"Product 3","aspectRatioLocked":false,"zIndex":5,"hiddenInBuilder":false,"lockedInBuilder":false,"clazz":"Hotspot","localId":41004,"fieldName":"Product 3","isAnimated":false},{"layoutSpecificValues":[{"position":{"left":"22px","top":"68px"},"size":{"width":"50.00%","height":"26px"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"Product 3 Full price","aspectRatioLocked":false,"zIndex":4,"hiddenInBuilder":false,"lockedInBuilder":false,"fontLocalId":4778,"fontSize":10,"scaleFont":false,"scaleBaseWidth":0,"scaleBaseHeight":0,"textColor":"rgba(255,255,255,1)","textDirection":"ltr","textAlign":"center","textDecoration":"","letterSpacing":"0.03em","lineSpacing":"0.2em","textShadow":false,"textShadowDistance":1,"textShadowBlur":0,"textShadowAngle":0,"textShadowColor":"#999999","textPaddingLocked":true,"textPaddingTop":2,"textPaddingRight":2,"textPaddingBottom":2,"textPaddingLeft":2,"textContentFeedFieldKey":"CustomFeedField/8770477f","textFontFeedFieldKey":null,"textColorFeedFieldKey":null,"text":"$42","responsiveFont":true,"responsiveFontFactor":0.5,"textWhiteSpace":"pre-line","textAlignVertical":0,"scrollable":false,"scrollbarPosition":"","scrollbarColor":"#000000","autoscrollEnabled":false,"autoscrollDelay":1000,"autoscrollDuration":3000,"autoscrollConclusion":"","isLineWrapAuto":false,"usePadding":true,"useFontScaleFactorForPadding":false,"lineBreakOptimizationStrategy":"none","shortestLineToLongestLineMinRatio":0.25,"maxPaddingToSizeRatio":0.25,"clazz":"Texty","localId":41005,"fieldName":"Product 3 Full price","isAnimated":false},{"layoutSpecificValues":[{"position":{"left":"2px","top":"3.34%"},"size":{"width":"95.00%","height":"68px"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"Product 3 Name","aspectRatioLocked":false,"zIndex":3,"hiddenInBuilder":false,"lockedInBuilder":false,"fontLocalId":4778,"fontSize":10,"scaleFont":false,"scaleBaseWidth":0,"scaleBaseHeight":0,"textColor":"rgba(255,255,255,1)","textDirection":"ltr","textAlign":"center","textDecoration":"","letterSpacing":"0.03em","lineSpacing":"0.2em","textShadow":false,"textShadowDistance":1,"textShadowBlur":0,"textShadowAngle":0,"textShadowColor":"#999999","textPaddingLocked":true,"textPaddingTop":2,"textPaddingRight":2,"textPaddingBottom":2,"textPaddingLeft":2,"textContentFeedFieldKey":"CustomFeedField/583453c0","textFontFeedFieldKey":null,"textColorFeedFieldKey":null,"text":"THIS IS JUST A TEST TO SEE HOW TEXTY BEHAVES YOU KNOW FRIEND","responsiveFont":true,"responsiveFontFactor":0.5,"textWhiteSpace":"pre-line","textAlignVertical":"50","scrollable":false,"scrollbarPosition":"","scrollbarColor":"#000000","autoscrollEnabled":false,"autoscrollDelay":1000,"autoscrollDuration":3000,"autoscrollConclusion":"","isLineWrapAuto":false,"usePadding":true,"useFontScaleFactorForPadding":false,"lineBreakOptimizationStrategy":"none","shortestLineToLongestLineMinRatio":0.25,"maxPaddingToSizeRatio":0.25,"clazz":"Texty","localId":41006,"fieldName":"Product 3 Name","isAnimated":false},{"layoutSpecificValues":[{"position":{"left":"0px","top":"0px"},"size":{"width":"100.00%","height":"100.00%"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"Overlay","aspectRatioLocked":true,"zIndex":2,"hiddenInBuilder":false,"lockedInBuilder":false,"backgroundColorFeedFieldKey":null,"backgroundColor":"rgba(0,0,0,0.7)","border":false,"borderWidth":5,"borderColor":"#000000","roundness":0,"shadow":false,"shadowDistance":0,"shadowBlur":10,"shadowAngle":0,"shadowColor":"rgba(0,0,0,0.5)","clazz":"Shapey","localId":41007,"fieldName":"Overlay","isAnimated":false}],"clazz":"NestedContainer","isAnimated":false},"isAnimated":true},{"layoutSpecificValues":[{"position":{"left":"0px","top":"0px"},"size":{"width":"100.00%","height":"1px"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"ad frame","aspectRatioLocked":true,"zIndex":7,"hiddenInBuilder":true,"lockedInBuilder":false,"backgroundColorFeedFieldKey":null,"backgroundColor":"rgba(185,185,185,1)","border":false,"borderWidth":1,"borderColor":"rgba(212,212,212,1)","roundness":0,"shadow":false,"shadowDistance":0,"shadowBlur":10,"shadowAngle":0,"shadowColor":"rgba(0,0,0,0.5)","clazz":"Shapey","localId":41008,"fieldName":"ad frame","isAnimated":false},{"layoutSpecificValues":[{"position":{"left":"0px","top":"89px"},"size":{"width":"100.00%","height":"1px"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"ad frame","aspectRatioLocked":true,"zIndex":8,"hiddenInBuilder":true,"lockedInBuilder":false,"backgroundColorFeedFieldKey":null,"backgroundColor":"rgba(185,185,185,1)","border":false,"borderWidth":1,"borderColor":"rgba(212,212,212,1)","roundness":0,"shadow":false,"shadowDistance":0,"shadowBlur":10,"shadowAngle":0,"shadowColor":"rgba(0,0,0,0.5)","clazz":"Shapey","localId":41009,"fieldName":"ad frame","isAnimated":false},{"layoutSpecificValues":[{"position":{"left":"0px","top":"0px"},"size":{"width":"1px","height":"100.00%"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"ad frame","aspectRatioLocked":true,"zIndex":9,"hiddenInBuilder":true,"lockedInBuilder":false,"backgroundColorFeedFieldKey":null,"backgroundColor":"rgba(185,185,185,1)","border":false,"borderWidth":1,"borderColor":"rgba(212,212,212,1)","roundness":0,"shadow":false,"shadowDistance":0,"shadowBlur":10,"shadowAngle":0,"shadowColor":"rgba(0,0,0,0.5)","clazz":"Shapey","localId":41010,"fieldName":"ad frame","isAnimated":false},{"layoutSpecificValues":[{"position":{"left":"727px","top":"0px"},"size":{"width":"1px","height":"100.00%"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"ad frame","aspectRatioLocked":true,"zIndex":10,"hiddenInBuilder":true,"lockedInBuilder":false,"backgroundColorFeedFieldKey":null,"backgroundColor":"rgba(185,185,185,1)","border":false,"borderWidth":1,"borderColor":"rgba(212,212,212,1)","roundness":0,"shadow":false,"shadowDistance":0,"shadowBlur":10,"shadowAngle":0,"shadowColor":"rgba(0,0,0,0.5)","clazz":"Shapey","localId":41011,"fieldName":"ad frame","isAnimated":false},{"layoutSpecificValues":[{"position":{"left":"529px","top":"20px"},"size":{"width":"200px","height":"50px"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"CTA ","aspectRatioLocked":false,"zIndex":11,"hiddenInBuilder":false,"lockedInBuilder":false,"clazz":"Group","localId":41012,"fieldName":"CTA ","content":{"hiddenInBuilder":false,"lockedInBuilder":false,"triggers":[],"name":"Container","layoutSpecificValues":[{"size":{"width":"100%","height":"100%"}}],"aspectRatioLocked":false,"localId":41013,"objects":[{"layoutSpecificValues":[{"position":{"left":"0px","top":"0px"},"size":{"width":"100.00%","height":"100.00%"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"CTA Shape","aspectRatioLocked":false,"zIndex":1,"hiddenInBuilder":false,"lockedInBuilder":false,"backgroundColorFeedFieldKey":null,"backgroundColor":"rgba(0,0,0,1)","border":false,"borderWidth":5,"borderColor":"#000000","roundness":0,"shadow":false,"shadowDistance":0,"shadowBlur":10,"shadowAngle":0,"shadowColor":"rgba(0,0,0,0.5)","clazz":"Shapey","localId":41014,"fieldName":"CTA Shape","isAnimated":false},{"layoutSpecificValues":[{"position":{"left":"34px","top":"18px"},"size":{"width":"111px","height":"20px"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"CTA Label","aspectRatioLocked":false,"zIndex":4,"hiddenInBuilder":false,"lockedInBuilder":false,"fontLocalId":94,"fontSize":14,"scaleFont":false,"scaleBaseWidth":0,"scaleBaseHeight":0,"textColor":"rgba(255,255,255,1)","textDirection":"ltr","textAlign":"left","textDecoration":"","letterSpacing":"1px","lineSpacing":"0px","textShadow":false,"textShadowDistance":1,"textShadowBlur":0,"textShadowAngle":0,"textShadowColor":"#999999","textPaddingLocked":true,"textPaddingTop":2,"textPaddingRight":2,"textPaddingBottom":2,"textPaddingLeft":2,"textContentFeedFieldKey":null,"textFontFeedFieldKey":null,"textColorFeedFieldKey":null,"text":"SHOP NOW","responsiveFont":true,"responsiveFontFactor":0.5,"textWhiteSpace":"pre-line","textAlignVertical":"0","scrollable":false,"scrollbarPosition":"","scrollbarColor":"#000000","autoscrollEnabled":false,"autoscrollDelay":1000,"autoscrollDuration":3000,"autoscrollConclusion":"","isLineWrapAuto":false,"usePadding":true,"useFontScaleFactorForPadding":false,"lineBreakOptimizationStrategy":"none","shortestLineToLongestLineMinRatio":0.25,"maxPaddingToSizeRatio":0.25,"clazz":"Texty","localId":41015,"fieldName":"CTA Label","isAnimated":false},{"layoutSpecificValues":[{"position":{"left":"133px","top":"17px"},"size":{"width":"25px","height":"17px"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"arrow_white","aspectRatioLocked":false,"zIndex":3,"hiddenInBuilder":false,"lockedInBuilder":false,"imageSourceFeedFieldKey":null,"fileLocalId":12456,"fittingSize":"fit","imagePosition":"center","importedFromLayoutFile":false,"clazz":"Picture","localId":41016,"isAnimated":false}],"clazz":"NestedContainer","isAnimated":false},"isAnimated":false},{"layoutSpecificValues":[{"position":{"left":"53px","top":"15px"},"size":{"width":"88px","height":"60px"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"logo","aspectRatioLocked":false,"zIndex":12,"hiddenInBuilder":false,"lockedInBuilder":false,"imageSourceFeedFieldKey":null,"fileLocalId":7336,"fittingSize":"fit","imagePosition":"center","importedFromLayoutFile":false,"clazz":"Picture","localId":41017,"isAnimated":false},{"layoutSpecificValues":[{"position":{"left":"0px","top":"0px"},"size":{"width":"25.41%","height":"100.00%"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[{"localId":41018,"type":"tap","parameters":{},"onFire":{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInSequence","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInParallel","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","localId":41176,"disabled":false,"actionClazz":"CreativeUnitWithVariants","instanceLocalId":1,"method":"goToURL","isStatic":false,"args":{"name":"Open Website 35","url":"https://www.adidas.com/us?cm_mmc=AdiDisplay_DBM-_-Multiple-_-Exchange-_-Other-_-Dynamic_banner-_-dv:eCom-_-cn:DynamicRT-_-pc:Multiple&cm_mmc1=US&cm_mmc2=adidas-NA-eCom-Display-DBM-Multiple-Remarketing-US-DynamicRT-Multiple-1801","reportLabel":"generic adidas.com"},"isAnimated":false}]}}]}},"isCustom":false,"isAnimated":false}],"name":"URL logo","aspectRatioLocked":false,"zIndex":13,"hiddenInBuilder":false,"lockedInBuilder":false,"clazz":"Hotspot","localId":41020,"fieldName":"URL logo","isAnimated":false},{"layoutSpecificValues":[{"position":{"left":"477px","top":"0px"},"size":{"width":"34.48%","height":"100.00%"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[{"localId":41021,"type":"tap","parameters":{},"onFire":{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInSequence","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInParallel","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","localId":41175,"disabled":false,"actionClazz":"CreativeUnitWithVariants","instanceLocalId":1,"method":"goToURL","isStatic":false,"args":{"name":"Open Website 35","url":"https://www.adidas.com/us?cm_mmc=AdiDisplay_DBM-_-Multiple-_-Exchange-_-Other-_-Dynamic_banner-_-dv:eCom-_-cn:DynamicRT-_-pc:Multiple&cm_mmc1=US&cm_mmc2=adidas-NA-eCom-Display-DBM-Multiple-Remarketing-US-DynamicRT-Multiple-1801","reportLabel":"generic adidas.com"},"isAnimated":false}]}}]}},"isCustom":false,"isAnimated":false}],"name":"URL CTA","aspectRatioLocked":false,"zIndex":14,"hiddenInBuilder":false,"lockedInBuilder":false,"clazz":"Hotspot","localId":41023,"fieldName":"URL CTA","isAnimated":false}],"clazz":"NestedContainer","isAnimated":false},"notAvailableContent":{"hiddenInBuilder":false,"lockedInBuilder":false,"triggers":[],"name":"Not Available","layoutSpecificValues":[{"size":{"width":"100%","height":"100%"}}],"aspectRatioLocked":false,"scenes":[],"localId":40838,"objects":[{"layoutSpecificValues":[{"position":{"left":"0px","top":"0px"},"size":{"width":"100.00%","height":"100.00%"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[{"localId":40935,"type":"tap","parameters":{},"onFire":{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInSequence","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInParallel","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","localId":40936,"disabled":false,"actionClazz":"CreativeUnitWithVariants","instanceLocalId":1,"method":"goToURL","isStatic":false,"args":{"name":"Open Website 35","url":"https://www.adidas.com/us?cm_mmc=AdiDisplay_DBM-_-Multiple-_-Exchange-_-Other-_-Dynamic_banner-_-dv:eCom-_-cn:DynamicRT-_-pc:Multiple&cm_mmc1=US&cm_mmc2=adidas-NA-eCom-Display-DBM-Multiple-Remarketing-US-DynamicRT-Multiple-1801","reportLabel":"generic adidas.com"},"isAnimated":false}]}}]}},"isCustom":false,"isAnimated":false}],"name":"URL","aspectRatioLocked":false,"zIndex":2,"hiddenInBuilder":false,"lockedInBuilder":false,"clazz":"Hotspot","localId":40937,"fieldName":"URL","isAnimated":false},{"layoutSpecificValues":[{"position":{"left":"0px","top":"0px"},"size":{"width":"728px","height":"90px"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"728x90","aspectRatioLocked":false,"zIndex":1,"hiddenInBuilder":false,"lockedInBuilder":false,"imageSourceFeedFieldKey":null,"fileLocalId":41179,"fittingSize":"fit","imagePosition":"center","importedFromLayoutFile":false,"clazz":"Picture","localId":41180,"isAnimated":false}],"clazz":"NestedContainer","isAnimated":false},"isAnimated":false,"contentFields":[{"feedFieldKey":"CustomFeedField/470290a3","initiator":"Picture","property":"imageSourceFeedFieldKey","requestedRows":1},{"feedFieldKey":"CustomFeedField/09609d62","initiator":"Picture","property":"imageSourceFeedFieldKey","requestedRows":1},{"feedFieldKey":"CustomFeedField/5fb82b76","initiator":"Picture","property":"imageSourceFeedFieldKey","requestedRows":1},{"feedFieldKey":"CustomFeedField/85f28404","initiator":"Texty","property":"textContentFeedFieldKey","requestedRows":1},{"feedFieldKey":"CustomFeedField/21596bdf","initiator":"Texty","property":"textContentFeedFieldKey","requestedRows":1},{"feedFieldKey":"CustomFeedField/a542b7aa","initiator":"Texty","property":"textContentFeedFieldKey","requestedRows":1},{"feedFieldKey":"CustomFeedField/26ec9e7f","initiator":"Texty","property":"textContentFeedFieldKey","requestedRows":1},{"feedFieldKey":"CustomFeedField/8770477f","initiator":"Texty","property":"textContentFeedFieldKey","requestedRows":1},{"feedFieldKey":"CustomFeedField/583453c0","initiator":"Texty","property":"textContentFeedFieldKey","requestedRows":1},{"feedFieldKey":"CustomFeedField/2b216c45","initiator":"goToFeedURL","property":"feedFieldKey","requestedRows":1},{"feedFieldKey":"CustomFeedField/cf0981e3","initiator":"goToFeedURL","property":"feedFieldKey","requestedRows":1},{"feedFieldKey":"CustomFeedField/ad232aee","initiator":"goToFeedURL","property":"feedFieldKey","requestedRows":1}]}],"clazz":"Screen","guidelines":[],"isAnimated":false,"immediatelyPlayedScenes":{"appear":{"scenesLocalIds":[]},"firstAppear":{"scenesLocalIds":[]}},"reachableScreensLocalIds":[],"dynamicReachableScreenConditions":{}}],"backgroundColor":"rgba(255,255,255,1)","scale":2,"sizing":"fixed","defaultUnits":"px","scaleUnit":false,"layoutAspectRatiosLocked":{"independent":false},"layoutCustomUnitSizes":{"independent":true},"orientation":"independent","forceResponsivePositioningAndSizing":false,"layouts":[{"minSize":{"width":728,"height":90},"unitSize":{"width":728,"height":90},"designTimeSize":{"width":728,"height":90},"orientation":"independent","unitAlignment":{"horizontal":"center","vertical":"center"}}],"layoutsLocked":{"portrait":true,"landscape":true,"independent":true},"feedImageOptimizationSettings":[],"isAnimated":false}],"isAnimated":false}},"unitSizes":{"banner":{"width":728,"height":90}},"files":[{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":41,"name":"Ultraboost_19_Shoes@2x.jpg","blobHash":"a56697f684a2ff75ad83b512c5545e63c4c24bc5e2d64cb18717125f416c3ac1","quality":31,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":11974}],"isAsset":true,"meta":{"size":40573,"contentType":"image/jpeg","width":840,"height":840}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":70,"name":"adidas_logo@2x.png","blobHash":"b0cc9e82b9193c4daca8dfd55110cb94a5687a76b5b31db40a166a0cfa7ea745","quality":150,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":3278}],"isAsset":true,"meta":{"size":3766,"contentType":"image/png","width":518,"height":328}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":71,"name":"arrow@2x.png","blobHash":"27327dee3ae28d7d14f9cfecd7a12d50052961f100d818b5c632553ec243288e","quality":150,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":201}],"isAsset":true,"meta":{"size":201,"contentType":"image/png","width":34,"height":18}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":153,"name":"adidas_logo_black_big@2x.png","blobHash":"b457c867501a69c9a21a8e15a1661a63c08da2a27278fdd33dd4a09f95bce2bb","quality":150,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":36292}],"isAsset":true,"meta":{"size":36292,"contentType":"image/png","width":3926,"height":2498}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":376,"name":"Marathon_20_Shorts_Black@2x.jpg","blobHash":"2d0304828d2ed69576063e9beb0a464ad31ebe494a987077b1042e80f6f5c52b","quality":65,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":17400}],"isAsset":true,"meta":{"size":38685,"contentType":"image/jpeg","width":840,"height":840}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":620,"name":"Solar_Ride_ShoesSolar_Ride_Shoes_Black@2x.jpg","blobHash":"1ace02bc32906a7e886e9e4593b82460ec6b060998fb6a5e824fed187517f3ed","quality":65,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":18524}],"isAsset":true,"meta":{"size":35417,"contentType":"image/jpeg","width":840,"height":840}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":694,"name":"Rise_Up_N_Run_Tee@2x.jpg","blobHash":"257e54f12a598d4681614d7b4ef733c61c10a2da65bcbb451efc0857133629b6","quality":65,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":20723}],"isAsset":true,"meta":{"size":47794,"contentType":"image/jpeg","width":840,"height":840}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":713,"name":"Rise_Up_N_Run_Jacket_Blue@2x.jpg","blobHash":"7d185c71cead3cdc820630063a0b3d15aec73c811dcffee582dc74bbcd27cb07","quality":65,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":19455}],"isAsset":true,"meta":{"size":48966,"contentType":"image/jpeg","width":840,"height":840}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":1065,"name":"03_galllery_mockup@2x.jpg","blobHash":"c6aad730213275a0ddb40b7c8ca26fcb38b43c5960d1ee871223e0c9a2195eb6","quality":65,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":18116}],"isAsset":true,"meta":{"size":110062,"contentType":"image/jpeg","width":600,"height":500}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":1230,"name":"Saturday_Long_Tights_Black@2x.jpg","blobHash":"4f81b604f520bc978cf5e0393cc1cd77806625bda2438d5f50f4edaf6b49dacf","quality":65,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":17152}],"isAsset":true,"meta":{"size":29294,"contentType":"image/jpeg","width":840,"height":840}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":1348,"name":"running_blue_2@2x.jpg","blobHash":"1aeb25af0836ed3332be550ede2e3bab642c56ca1841f0aa4f079b8c0e291bf2","quality":31,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":19340}],"isAsset":true,"meta":{"size":37795,"contentType":"image/jpeg","width":1430,"height":1720}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":1385,"name":"adidas_logo_white@2x.png","blobHash":"19bf368b946306bd4d13df0d0ffc3657bcb88c0db3c3219b0e9f2ade2d3f3758","quality":150,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":4639}],"isAsset":true,"meta":{"size":4642,"contentType":"image/png","width":358,"height":234}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":1424,"name":"arrow_black@2x.png","blobHash":"3a90e2446aab3464139ee8d1c5d131329e9bd949a6bc98b73587aed1f8535c48","quality":150,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":210}],"isAsset":true,"meta":{"size":210,"contentType":"image/png","width":26,"height":18}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":1627,"name":"04_swipey_mockup@2x.jpg","blobHash":"43b13cf73f29a63d0ed1ab645f2161a8c3df78ad2f6959faa795d0efc3d620aa","quality":65,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":16459}],"isAsset":true,"meta":{"size":100215,"contentType":"image/jpeg","width":600,"height":500}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":3449,"name":"01_gallery_mockup@2x.jpg","blobHash":"9816dbdf654219ec586862f6f33d1594e7955c2c8e35e054c54a85eea9a1c27d","quality":65,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":18402}],"isAsset":true,"meta":{"size":138197,"contentType":"image/jpeg","width":600,"height":500}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":4228,"name":"Adidas_products_men_sweatshirt@2x.jpg","blobHash":"eb4693ea77a8a8697e90751724b8c6c4b0dda374b13cfe5cbeeb88229761342e","quality":41,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":14460}],"isAsset":true,"meta":{"size":119134,"contentType":"image/jpeg","width":767,"height":767}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":4285,"name":"Adidas_products_unisex_hat@2x.jpg","blobHash":"92318fa727c4df35844aadfc71e03dc51356ab08878d16fd6b5cb7197c4202c8","quality":39,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":10041}],"isAsset":true,"meta":{"size":122050,"contentType":"image/jpeg","width":766,"height":766}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":4286,"name":"Adidas_products_women_sports bra@2x.jpg","blobHash":"dea8436146d55c8c742af80da2955f032a24b67d915e48c2122ee35db859854b","quality":37,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":10848}],"isAsset":true,"meta":{"size":95110,"contentType":"image/jpeg","width":767,"height":766}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":6933,"name":"120x600@2x.jpg","blobHash":"16f7ff560d71c5c6f0f4ef25bcad754a052ae2a76ff3f8c478e78b7f6857f34d","quality":65,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":14183}],"isAsset":true,"meta":{"size":110732,"contentType":"image/jpeg","width":240,"height":1200}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":6962,"name":"160x600@2x.jpg","blobHash":"4b18c72bc32fb6bd20ab712f94eb5c9aed7a0a1ed32843a355e8afad3f38f68f","quality":65,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":18553}],"isAsset":true,"meta":{"size":158898,"contentType":"image/jpeg","width":320,"height":1200}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":6992,"name":"200x200@2x.jpg","blobHash":"3f4b52d3a672307ee74789cfce0a605a43d6178542d07645c9e524949b4557ee","quality":65,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":12309}],"isAsset":true,"meta":{"size":80545,"contentType":"image/jpeg","width":400,"height":400}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":7020,"name":"250x250@2x.jpg","blobHash":"14df1e34cd9776af1ef5b31f85ad643b9b8bcb53575413f725e6f1e7be269ff0","quality":65,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":16277}],"isAsset":true,"meta":{"size":113087,"contentType":"image/jpeg","width":500,"height":500}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":7048,"name":"300x600@2x.jpg","blobHash":"d8d67dbb3946101861ea6b3209d2c3f287bb76202dc21b46c37fa1fd22fa0abc","quality":65,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":30285}],"isAsset":true,"meta":{"size":250835,"contentType":"image/jpeg","width":600,"height":1200}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":7076,"name":"300x1050@2x.jpg","blobHash":"3d32be489176944594483a74073ee904ddd032b26b7fce92328b8631f89b860a","quality":65,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":38189}],"isAsset":true,"meta":{"size":390123,"contentType":"image/jpeg","width":600,"height":2100}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":7104,"name":"320x50@2x.jpg","blobHash":"8ef6eaa49ffb05f3de032e6922036fe0f55a2a7245eed1a419feae7d23a84547","quality":65,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":5126}],"isAsset":true,"meta":{"size":26236,"contentType":"image/jpeg","width":640,"height":100}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":7132,"name":"320x100@2x.jpg","blobHash":"9ab05b6584aa05b54881bd397760b31249c03ebe39bd62d87053500eb20d6c18","quality":65,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":10298}],"isAsset":true,"meta":{"size":58834,"contentType":"image/jpeg","width":640,"height":200}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":7160,"name":"336x280@2x.jpg","blobHash":"d5e215f71940377bd3893c432562083534879060ef1d4f8c4076d2963df87aca","quality":65,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":20315}],"isAsset":true,"meta":{"size":159727,"contentType":"image/jpeg","width":672,"height":560}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":7188,"name":"480x60@2x.jpg","blobHash":"3190a6859df233a2f8b92f1ce4cdb0ef32bce398908d6f1ab81fa6123af0fa14","quality":65,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":9808}],"isAsset":true,"meta":{"size":46705,"contentType":"image/jpeg","width":960,"height":120}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":7216,"name":"728x90@2x.jpg","blobHash":"7751c47feab53635a504a4b35dd9c3823b0c163934db883b1ab318e3394bdbb5","quality":65,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":15175}],"isAsset":true,"meta":{"size":92908,"contentType":"image/jpeg","width":1456,"height":180}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":7244,"name":"970x90@2x.jpg","blobHash":"c809608756324d04d934c983a33a3413fbd1d4d86fbb419023fea2e6e0989a12","quality":65,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":21875}],"isAsset":true,"meta":{"size":136951,"contentType":"image/jpeg","width":1940,"height":180}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":7272,"name":"970x250@2x.jpg","blobHash":"bf1d85e7245f97ca36fa4bc89c3219a5e874a598e880cc1038bb5ab8b61015eb","quality":65,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":35052}],"isAsset":true,"meta":{"size":317848,"contentType":"image/jpeg","width":1940,"height":500}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":7336,"name":"logo@2x.png","blobHash":"6f54a834a4d3e407f86849b06e709206a1a52f0f9c2aad5eff19de0ad613e536","quality":150,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":6159}],"isAsset":true,"meta":{"size":14017,"contentType":"image/png","width":646,"height":434}},{"clazz":"File","retina":false,"retinaScaleFactor":1,"localId":12456,"name":"arrow_white.svg","blobHash":"7a1a2033756e46b5a42be70583c3293885e112cc8f8214d9a9e0b359a3fc896e","quality":-1,"autoResize":false,"optimizationSettings":null,"isAsset":true,"meta":{"size":619,"contentType":"image/svg+xml","width":16,"height":11}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":29838,"name":"970x90@2x.jpg","blobHash":"c062e913eeddc795e93afa05132560d63e5107d06360f126ffd2d9e315579cf0","quality":65,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":19648}],"isAsset":true,"meta":{"size":114633,"contentType":"image/jpeg","width":1940,"height":180}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":41179,"name":"728x90@2x.jpg","blobHash":"f419b4d5f2a93237c1cf46531068c1cf1c97619a2c2607a34443d9d2a0a8aff0","quality":65,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":8751}],"isAsset":true,"meta":{"size":14231,"contentType":"image/jpeg","width":1456,"height":180}}],"fonts":[{"clazz":"Font","localId":94,"typefaceId":"12681e3b","provider":"custom","family":"Adihaus DIN","name":"Medium","style":"normal","weight":"500","stretch":"normal","files":{"woff":{"blobHash":"55c2ec75d1528f42b30340bb1e03c3b0c1801f1a14bf76a43e608a5c7e164613","name":"AdihausDIN-Medium"}},"subset":" HNOPSW","unicodes":"U+20,U+48,U+4E-50,U+53,U+57"},{"clazz":"Font","localId":4778,"typefaceId":"fddd2463","provider":"custom","family":"Adihaus DIN","name":"Regular","style":"normal","weight":"400","stretch":"normal","files":{"woff":{"blobHash":"7ce81ffab935a39d3cdc7c8c455463320d937d06598a83526a2a840a248058f1","name":"AdihausDIN-Regular"}},"feedFields":["CustomFeedField/85f28404","CustomFeedField/21596bdf","CustomFeedField/a542b7aa","CustomFeedField/26ec9e7f","CustomFeedField/8770477f","CustomFeedField/583453c0"]}],"scripts":[],"version":12,"hostedFiles":null,"googleMapsJavaScriptVersion":"3.39","shareFacebookAppId":"1764042083689024","videoStreamAlgoVersions":{"mpeg1LQVideo":1,"mpeg1SHQVideo":1,"mpeg1InstaVideo":1,"aacAudio":1,"mpeg4HQ":3,"mpeg4HQPlus":1,"mpeg4HD":1,"webmHQ":1,"webmHD":1,"mpeg4InstaVideo":2,"vp9_1080p":1,"x264_1080p":1,"vp9_720p":1,"x264_videoAsset":1,"x264_inline480p":1,"x264_inline720p":1,"vp9_inline720p":1,"custom":1},"isMoatVideoEnabled":false,"firstAppStoreUrlForInmobi":null,"googleMapsStandardProjectApiKey":"AIzaSyAtkTvxwHfTZKBJVenTPdtVXd9EKqDjfqY"}, runtimeParams, trackingCenter, aggregatorTracking, experiments, adapter, urls, urlOpenedOverrideUrls, storeOpenedOverrideUrls, macros, urlOpenedUrlAppendage, clickThroughDestinationUrl, perf);
            })();
        </script></body></html>